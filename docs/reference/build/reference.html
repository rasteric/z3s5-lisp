<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="by Erich H. Rast, Ph.D., and all other Help system contributors" />
  <title>Z3S5 Lisp Reference Manual</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
  </style>
  
</head>
<body>
<header id="title-block-header">
<h1 class="title">Z3S5 Lisp Reference Manual</h1>
<p class="author">by Erich H. Rast, Ph.D., and all other Help system contributors</p>
<p class="date">2022-7-26 17:15</p>
</header>
<h1 data-number="1" id="introduction"><span class="header-section-number">1</span> Introduction</h1>
<p>This is the reference manual for the programming language Z3S5 Lisp, version v2.3. This manual has been automatically generated from the entries of the online help system. The reference manual is divided into two large sections. Section <em>By Topics</em> lists functions and symbols organized by topics. Within each topic, entries are sorted alphabetically. Section <em>Complete Reference</em> lists all functions and symbols alphabetically. Please consult the <em>User Manual</em> and the <em>Readme</em> document for more general information about Z3S5 Lisp, an introduction to its use, and how to embedd it into Go programs.</p>
<p>Incorrect documentation strings are bugs. Please report bugs using the corresponding <a href="https://github.com/rasteric/z3s5-lisp/issues">Github issue tracker nfor Z3S5 Lisp</a> and make sure to be as precise as possible. Unneeded or missing documentation entries are misfeatures and may also be reported.</p>
<h1 data-number="2" id="by-topics"><span class="header-section-number">2</span> By Topics</h1>
<h2 data-number="2.1" id="arrays"><span class="header-section-number">2.1</span> Arrays</h2>
<p>This section concerns functions related to arrays, which are dynamic indexed sequences of values.</p>
<h3 data-number="2.1.1" id="array-procedure0-or-more"><span class="header-section-number">2.1.1</span> <code>array</code> : procedure/0 or more</h3>
<p>Usage: <code>(array [arg1] ...) =&gt; array</code></p>
<p>Create an array containing the arguments given to it.</p>
<p>See also: <code>array?, build-array</code>.</p>
<h3 data-number="2.1.2" id="array-copy-procedure1"><span class="header-section-number">2.1.2</span> <code>array-copy</code> : procedure/1</h3>
<p>Usage: <code>(array-copy arr) =&gt; array</code></p>
<p>Return a copy of <code>arr.</code></p>
<p>See also: <code>array, array?, array-map!, array-pmap!</code>.</p>
<h3 data-number="2.1.3" id="array-exists-procedure2"><span class="header-section-number">2.1.3</span> <code>array-exists?</code> : procedure/2</h3>
<p>Usage: <code>(array-exists? arr pred) =&gt; bool</code></p>
<p>Return true if <code>pred</code> returns true for at least one element in array <code>arr</code>, nil otherwise.</p>
<p>See also: <code>exists?, forall?, list-exists?, str-exists?, seq?</code>.</p>
<h3 data-number="2.1.4" id="array-forall-procedure2"><span class="header-section-number">2.1.4</span> <code>array-forall?</code> : procedure/2</h3>
<p>Usage: <code>(array-forall? arr pred) =&gt; bool</code></p>
<p>Return true if predicate <code>pred</code> returns true for all elements of array <code>arr</code>, nil otherwise.</p>
<p>See also: <code>foreach, map, forall?, str-forall?, list-forall?, exists?</code>.</p>
<h3 data-number="2.1.5" id="array-foreach-procedure2"><span class="header-section-number">2.1.5</span> <code>array-foreach</code> : procedure/2</h3>
<p>Usage: <code>(array-foreach arr proc)</code></p>
<p>Apply <code>proc</code> to each element of array <code>arr</code> in order, for the side effects.</p>
<p>See also: <code>foreach, list-foreach, map</code>.</p>
<h3 data-number="2.1.6" id="array-len-procedure1"><span class="header-section-number">2.1.6</span> <code>array-len</code> : procedure/1</h3>
<p>Usage: <code>(array-len arr) =&gt; int</code></p>
<p>Return the length of array <code>arr.</code></p>
<p>See also: <code>len</code>.</p>
<h3 data-number="2.1.7" id="array-map-procedure2"><span class="header-section-number">2.1.7</span> <code>array-map!</code> : procedure/2</h3>
<p>Usage: <code>(array-map! arr proc)</code></p>
<p>Traverse array <code>arr</code> in unspecified order and apply <code>proc</code> to each element. This mutates the array.</p>
<p>See also: <code>array-walk, array-pmap!, array?, map, seq?</code>.</p>
<h3 data-number="2.1.8" id="array-pmap-procedure2"><span class="header-section-number">2.1.8</span> <code>array-pmap!</code> : procedure/2</h3>
<p>Usage: <code>(array-pmap! arr proc)</code></p>
<p>Apply <code>proc</code> in unspecified order in parallel to array <code>arr</code>, mutating the array to contain the value returned by <code>proc</code> each time. Because of the calling overhead for parallel execution, for many workloads array-map! might be faster if <code>proc</code> is very fast. If <code>proc</code> is slow, then array-pmap! may be much faster for large arrays on machines with many cores.</p>
<p>See also: <code>array-map!, array-walk, array?, map, seq?</code>.</p>
<h3 data-number="2.1.9" id="array-ref-procedure1"><span class="header-section-number">2.1.9</span> <code>array-ref</code> : procedure/1</h3>
<p>Usage: <code>(array-ref arr n) =&gt; any</code></p>
<p>Return the element of <code>arr</code> at index <code>n</code>. Arrays are 0-indexed.</p>
<p>See also: <code>array?, array, nth, seq?</code>.</p>
<h3 data-number="2.1.10" id="array-reverse-procedure1"><span class="header-section-number">2.1.10</span> <code>array-reverse</code> : procedure/1</h3>
<p>Usage: <code>(array-reverse arr) =&gt; array</code></p>
<p>Create a copy of <code>arr</code> that reverses the order of all of its elements.</p>
<p>See also: <code>reverse, list-reverse, str-reverse</code>.</p>
<h3 data-number="2.1.11" id="array-set-procedure3"><span class="header-section-number">2.1.11</span> <code>array-set</code> : procedure/3</h3>
<p>Usage: <code>(array-set arr idx value)</code></p>
<p>Set the value at index <code>idx</code> in <code>arr</code> to <code>value</code>. Arrays are 0-indexed. This mutates the array.</p>
<p>See also: <code>array?, array</code>.</p>
<h3 data-number="2.1.12" id="array-slice-procedure3"><span class="header-section-number">2.1.12</span> <code>array-slice</code> : procedure/3</h3>
<p>Usage: <code>(array-slice arr low high) =&gt; array</code></p>
<p>Slice the array <code>arr</code> starting from <code>low</code> (inclusive) and ending at <code>high</code> (exclusive) and return the slice.</p>
<p>See also: <code>array-ref, array-len</code>.</p>
<h3 data-number="2.1.13" id="array-sort-procedure2"><span class="header-section-number">2.1.13</span> <code>array-sort</code> : procedure/2</h3>
<p>Usage: <code>(array-sort arr proc) =&gt; arr</code></p>
<p>Destructively sorts array <code>arr</code> by using comparison proc <code>proc</code>, which takes two arguments and returns true if the first argument is smaller than the second argument, nil otherwise. The array is returned but it is not copied and modified in place by this procedure. The sorting algorithm is not guaranteed to be stable.</p>
<p>See also: <code>sort</code>.</p>
<h3 data-number="2.1.14" id="array-walk-procedure2"><span class="header-section-number">2.1.14</span> <code>array-walk</code> : procedure/2</h3>
<p>Usage: <code>(array-walk arr proc)</code></p>
<p>Traverse the array <code>arr</code> from first to last element and apply <code>proc</code> to each element for side-effects. Function <code>proc</code> takes the index and the array element at that index as argument. If <code>proc</code> returns nil, then the traversal stops and the index is returned. If <code>proc</code> returns non-nil, traversal continues. If <code>proc</code> never returns nil, then the index returned is -1. This function does not mutate the array.</p>
<p>See also: <code>array-map!, array-pmap!, array?, map, seq?</code>.</p>
<h3 data-number="2.1.15" id="array-procedure1"><span class="header-section-number">2.1.15</span> <code>array?</code> : procedure/1</h3>
<p>Usage: <code>(array? obj) =&gt; bool</code></p>
<p>Return true of <code>obj</code> is an array, nil otherwise.</p>
<p>See also: <code>seq?, array</code>.</p>
<h3 data-number="2.1.16" id="build-array-procedure2"><span class="header-section-number">2.1.16</span> <code>build-array</code> : procedure/2</h3>
<p>Usage: <code>(build-array n init) =&gt; array</code></p>
<p>Create an array containing <code>n</code> elements with initial value <code>init.</code></p>
<p>See also: <code>array, array?</code>.</p>
<h2 data-number="2.2" id="binary-manipulation"><span class="header-section-number">2.2</span> Binary Manipulation</h2>
<p>This section lists functions for manipulating binary data in memory and on disk.</p>
<h3 data-number="2.2.1" id="bitand-procedure2"><span class="header-section-number">2.2.1</span> <code>bitand</code> : procedure/2</h3>
<p>Usage: <code>(bitand n m) =&gt; int</code></p>
<p>Return the bitwise and of integers <code>n</code> and <code>m.</code></p>
<p>See also: <code>bitxor, bitor, bitclear, bitshl, bitshr</code>.</p>
<h3 data-number="2.2.2" id="bitclear-procedure2"><span class="header-section-number">2.2.2</span> <code>bitclear</code> : procedure/2</h3>
<p>Usage: <code>(bitclear n m) =&gt; int</code></p>
<p>Return the bitwise and-not of integers <code>n</code> and <code>m.</code></p>
<p>See also: <code>bitxor, bitand, bitor, bitshl, bitshr</code>.</p>
<h3 data-number="2.2.3" id="bitor-procedure2"><span class="header-section-number">2.2.3</span> <code>bitor</code> : procedure/2</h3>
<p>Usage: <code>(bitor n m) =&gt; int</code></p>
<p>Return the bitwise or of integers <code>n</code> and <code>m.</code></p>
<p>See also: <code>bitxor, bitand, bitclear, bitshl, bitshr</code>.</p>
<h3 data-number="2.2.4" id="bitshl-procedure2"><span class="header-section-number">2.2.4</span> <code>bitshl</code> : procedure/2</h3>
<p>Usage: <code>(bitshl n m) =&gt; int</code></p>
<p>Return the bitwise left shift of <code>n</code> by <code>m.</code></p>
<p>See also: <code>bitxor, bitor, bitand, bitclear, bitshr</code>.</p>
<h3 data-number="2.2.5" id="bitshr-procedure2"><span class="header-section-number">2.2.5</span> <code>bitshr</code> : procedure/2</h3>
<p>Usage: <code>(bitshr n m) =&gt; int</code></p>
<p>Return the bitwise right shift of <code>n</code> by <code>m.</code></p>
<p>See also: <code>bitxor, bitor, bitand, bitclear, bitshl</code>.</p>
<h3 data-number="2.2.6" id="bitxor-procedure2"><span class="header-section-number">2.2.6</span> <code>bitxor</code> : procedure/2</h3>
<p>Usage: <code>(bitxor n m) =&gt; int</code></p>
<p>Return the bitwise exclusive or value of integers <code>n</code> and <code>m.</code></p>
<p>See also: <code>bitand, bitor, bitclear, bitshl, bitshr</code>.</p>
<h3 data-number="2.2.7" id="blob-chksum-procedure1-or-more"><span class="header-section-number">2.2.7</span> <code>blob-chksum</code> : procedure/1 or more</h3>
<p>Usage: <code>(blob-chksum b [start] [end]) =&gt; blob</code></p>
<p>Return the checksum of the contents of blob <code>b</code> as new blob. The checksum is cryptographically secure. If the optional <code>start</code> and <code>end</code> are provided, then only the bytes from <code>start</code> (inclusive) to <code>end</code> (exclusive) are checksummed.</p>
<p>See also: <code>fchksum, blob-free</code>.</p>
<h3 data-number="2.2.8" id="blob-equal-procedure2"><span class="header-section-number">2.2.8</span> <code>blob-equal?</code> : procedure/2</h3>
<p>Usage: <code>(blob-equal? b1 b2) =&gt; bool</code></p>
<p>Return true if <code>b1</code> and <code>b2</code> are equal, nil otherwise. Two blobs are equal if they are either both invalid, both contain no valid data, or their contents contain exactly the same binary data.</p>
<p>See also: <code>str-&gt;blob, blob-&gt;str, blob-free</code>.</p>
<h3 data-number="2.2.9" id="blob-free-procedure1"><span class="header-section-number">2.2.9</span> <code>blob-free</code> : procedure/1</h3>
<p>Usage: <code>(blob-free b)</code></p>
<p>Frees the binary data stored in blob <code>b</code> and makes the blob invalid.</p>
<p>See also: <code>make-blob, valid?, str-&gt;blob, blob-&gt;str, blob-equal?</code>.</p>
<h3 data-number="2.2.10" id="make-blob-procedure1"><span class="header-section-number">2.2.10</span> <code>make-blob</code> : procedure/1</h3>
<p>Usage: <code>(make-blob n) =&gt; blob</code></p>
<p>Make a binary blob of size <code>n</code> initialized to zeroes.</p>
<p>See also: <code>blob-free, valid?, blob-equal?</code>.</p>
<h3 data-number="2.2.11" id="peek-procedure4"><span class="header-section-number">2.2.11</span> <code>peek</code> : procedure/4</h3>
<p>Usage: <code>(peek b pos end sel) =&gt; num</code></p>
<p>Read a numeric value determined by selector <code>sel</code> from binary blob <code>b</code> at position <code>pos</code> with endianness <code>end</code>. Possible values for endianness are ‘little and ’big, and possible values for <code>sel</code> must be one of’(bool int8 uint8 int16 uint16 int32 uint32 int64 uint64 float32 float64).</p>
<p>See also: <code>poke, read-binary</code>.</p>
<h3 data-number="2.2.12" id="poke-procedure5"><span class="header-section-number">2.2.12</span> <code>poke</code> : procedure/5</h3>
<p>Usage: <code>(poke b pos end sel n)</code></p>
<p>Write numeric value <code>n</code> as type <code>sel</code> with endianness <code>end</code> into the binary blob <code>b</code> at position <code>pos</code>. Possible values for endianness are ‘little and ’big, and possible values for <code>sel</code> must be one of’(bool int8 uint8 int16 uint16 int32 uint32 int64 uint64 float32 float64).</p>
<p>See also: <code>peek, write-binary</code>.</p>
<h2 data-number="2.3" id="boxed-data-structures"><span class="header-section-number">2.3</span> Boxed Data Structures</h2>
<p>Boxed values are used for dealing with foreign data structures in Lisp.</p>
<h3 data-number="2.3.1" id="valid-procedure1"><span class="header-section-number">2.3.1</span> <code>valid?</code> : procedure/1</h3>
<p>Usage: <code>(valid? obj) =&gt; bool</code></p>
<p>Return true if <code>obj</code> is a valid object, nil otherwise. What exactly object validity means is undefined, but certain kind of objects such as graphics objects may be marked invalid when they can no longer be used because they have been disposed off by a subsystem and cannot be automatically garbage collected. Generally, invalid objects ought no longer be used and need to be discarded.</p>
<p>See also: <code>gfx.reset</code>.</p>
<h2 data-number="2.4" id="concurrency-and-parallel-programming"><span class="header-section-number">2.4</span> Concurrency and Parallel Programming</h2>
<p>There are several mechanisms for doing parallel and concurrent programming in Z3S5 Lisp. Synchronization primitives are also listed in this section. Generally, users are advised to remain vigilant about potential race conditions.</p>
<h3 data-number="2.4.1" id="ccmp-macro2"><span class="header-section-number">2.4.1</span> <code>ccmp</code> : macro/2</h3>
<p>Usage: <code>(ccmp sym value) =&gt; int</code></p>
<p>Compare the integer value of <code>sym</code> with the integer <code>value</code>, return 0 if <code>sym</code> = <code>value</code>, -1 if <code>sym</code> &lt; <code>value</code>, and 1 if <code>sym</code> &gt; <code>value</code>. This operation is synchronized between tasks and futures.</p>
<p>See also: <code>cinc!, cdec!, cwait, cst!</code>.</p>
<h3 data-number="2.4.2" id="cdec-macro1"><span class="header-section-number">2.4.2</span> <code>cdec!</code> : macro/1</h3>
<p>Usage: <code>(cdec! sym) =&gt; int</code></p>
<p>Decrease the integer value stored in top-level symbol <code>sym</code> by 1 and return the new value. This operation is synchronized between tasks and futures.</p>
<p>See also: <code>cinc!, cwait, ccmp, cst!</code>.</p>
<h3 data-number="2.4.3" id="cinc-macro1"><span class="header-section-number">2.4.3</span> <code>cinc!</code> : macro/1</h3>
<p>Usage: <code>(cinc! sym) =&gt; int</code></p>
<p>Increase the integer value stored in top-level symbol <code>sym</code> by 1 and return the new value. This operation is synchronized between tasks and futures.</p>
<p>See also: <code>cdec!, cwait, ccmp, cst!</code>.</p>
<h3 data-number="2.4.4" id="cpunum-procedure0"><span class="header-section-number">2.4.4</span> <code>cpunum</code> : procedure/0</h3>
<p>Usage: <code>(cpunum)</code></p>
<p>Return the number of cpu cores of this machine.</p>
<p>See also: <code>sys</code>.</p>
<p><strong>Warning: This function also counts virtual cores on the emulator. The original Z3S5 machine did not have virtual cpu cores.</strong></p>
<h3 data-number="2.4.5" id="cst-procedure2"><span class="header-section-number">2.4.5</span> <code>cst!</code> : procedure/2</h3>
<p>Usage: <code>(cst! sym value)</code></p>
<p>Set the value of <code>sym</code> to integer <code>value</code>. This operation is synchronized between tasks and futures.</p>
<p>See also: <code>cinc!, cdec!, ccmp, cwait</code>.</p>
<h3 data-number="2.4.6" id="cwait-procedure3"><span class="header-section-number">2.4.6</span> <code>cwait</code> : procedure/3</h3>
<p>Usage: <code>(cwait sym value timeout)</code></p>
<p>Wait until integer counter <code>sym</code> has <code>value</code> or <code>timeout</code> milliseconds have passed. If <code>imeout</code> is 0, then this routine might wait indefinitely. This operation is synchronized between tasks and futures.</p>
<p>See also: <code>cinc!, cdec!, ccmp, cst!</code>.</p>
<h3 data-number="2.4.7" id="enq-procedure1"><span class="header-section-number">2.4.7</span> <code>enq</code> : procedure/1</h3>
<p>Usage: <code>(enq proc)</code></p>
<p>Put <code>proc</code> on a special internal queue for sequential execution and execute it when able. <code>proc</code> must be a prodedure that takes no arguments. The queue can be used to synchronizing i/o commands but special care must be taken that <code>proc</code> terminates, or else the system might be damaged.</p>
<p>See also: <code>task, future, synout, synouty</code>.</p>
<p><strong>Warning: Calls to enq can never be nested, neither explicitly or implicitly by calling enq anywhere else in the call chain!</strong></p>
<h3 data-number="2.4.8" id="force-procedure1"><span class="header-section-number">2.4.8</span> <code>force</code> : procedure/1</h3>
<p>Usage: <code>(force fut) =&gt; any</code></p>
<p>Obtain the value of the computation encapsulated by future <code>fut</code>, halting the current task until it has been obtained. If the future never ends computation, e.g. in an infinite loop, the program may halt indefinitely.</p>
<p>See also: <code>future, task, make-mutex</code>.</p>
<h3 data-number="2.4.9" id="future-special-form"><span class="header-section-number">2.4.9</span> future : special form</h3>
<p>Usage: <code>(future ...) =&gt; future</code></p>
<p>Turn the body of this form into a promise for a future value. The body is executed in parallel and the final value can be retrieved by using (force f) on the future returned by this macro.</p>
<p>See also: <code>force, task</code>.</p>
<h3 data-number="2.4.10" id="make-mutex-procedure1"><span class="header-section-number">2.4.10</span> <code>make-mutex</code> : procedure/1</h3>
<p>Usage: <code>(make-mutex) =&gt; mutex</code></p>
<p>Create a new mutex.</p>
<p>See also: <code>mutex-lock, mutex-unlock, mutex-rlock, mutex-runlock</code>.</p>
<h3 data-number="2.4.11" id="mutex-lock-procedure1"><span class="header-section-number">2.4.11</span> <code>mutex-lock</code> : procedure/1</h3>
<p>Usage: <code>(mutex-lock m)</code></p>
<p>Lock the mutex <code>m</code> for writing. This may halt the current task until the mutex has been unlocked by another task.</p>
<p>See also: <code>mutex-unlock, make-mutex, mutex-rlock, mutex-runlock</code>.</p>
<h3 data-number="2.4.12" id="mutex-rlock-procedure1"><span class="header-section-number">2.4.12</span> <code>mutex-rlock</code> : procedure/1</h3>
<p>Usage: <code>(mutex-rlock m)</code></p>
<p>Lock the mutex <code>m</code> for reading. This will allow other tasks to read from it, too, but may block if another task is currently locking it for writing.</p>
<p>See also: <code>mutex-runlock, mutex-lock, mutex-unlock, make-mutex</code>.</p>
<h3 data-number="2.4.13" id="mutex-runlock-procedure1"><span class="header-section-number">2.4.13</span> <code>mutex-runlock</code> : procedure/1</h3>
<p>Usage: <code>(mutex-runlock m)</code></p>
<p>Unlock the mutex <code>m</code> from reading.</p>
<p>See also: <code>mutex-lock, mutex-unlock, mutex-rlock, make-mutex</code>.</p>
<h3 data-number="2.4.14" id="mutex-unlock-procedure1"><span class="header-section-number">2.4.14</span> <code>mutex-unlock</code> : procedure/1</h3>
<p>Usage: <code>(mutex-unlock m)</code></p>
<p>Unlock the mutex <code>m</code> for writing. This releases ownership of the mutex and allows other tasks to lock it for writing.</p>
<p>See also: <code>mutex-lock, make-mutex, mutex-rlock, mutex-runlock</code>.</p>
<h3 data-number="2.4.15" id="prune-task-table-procedure0"><span class="header-section-number">2.4.15</span> <code>prune-task-table</code> : procedure/0</h3>
<p>Usage: <code>(prune-task-table)</code></p>
<p>Remove tasks that are finished from the task table. This includes tasks for which an error has occurred.</p>
<p>See also: <code>task-remove, task, task?, task-run</code>.</p>
<h3 data-number="2.4.16" id="run-at-procedure2"><span class="header-section-number">2.4.16</span> <code>run-at</code> : procedure/2</h3>
<p>Usage: <code>(run-at date repeater proc) =&gt; int</code></p>
<p>Run procedure <code>proc</code> with no arguments as task periodically according to the specification in <code>spec</code> and return the task ID for the periodic task. Herbey, <code>date</code> is either a datetime specification or one of ‘(now skip next-minute next-quarter next-halfhour next-hour in-2-hours in-3-hours tomorrow next-week next-month next-year), and <code>repeater</code> is nil or a procedure that takes a task ID and unix-epoch-nanoseconds and yields a new unix-epoch-nanoseconds value for the next time the procedure shall be run. While the other names are self-explanatory, the ’skip specification means that the task is not run immediately but rather that it is first run at (repeater -1 (now)). Timing resolution for the scheduler is about 1 minute. Consider using interrupts for periodic events with smaller time resolutions. The scheduler uses relative intervals and has ’drift’.</p>
<p>See also: <code>task, task-send</code>.</p>
<p><strong>Warning: Tasks scheduled by run-at are not persistent! They are only run until the system is shutdown.</strong></p>
<h3 data-number="2.4.17" id="systask-special-form"><span class="header-section-number">2.4.17</span> systask : special form</h3>
<p>Usage: <code>(systask body ...)</code></p>
<p>Evaluate the expressions of <code>body</code> in parallel in a system task, which is similar to a future but cannot be forced.</p>
<p>See also: <code>future, task</code>.</p>
<h3 data-number="2.4.18" id="task-procedure1"><span class="header-section-number">2.4.18</span> <code>task</code> : procedure/1</h3>
<p>Usage: <code>(task sel proc) =&gt; int</code></p>
<p>Create a new task for concurrently running <code>proc</code>, a procedure that takes its own ID as argument. The <code>sel</code> argument must be a symbol in ’(auto manual remove). If <code>sel</code> is ’remove, then the task is always removed from the task table after it has finished, even if an error has occurred. If sel is ’auto, then the task is removed from the task table if it ends without producing an error. If <code>sel</code> is ’manual then the task is not removed from the task table, its state is either ’canceled, ’finished, or ’error, and it and must be removed manually with <code>task-remove</code> or <code>prune-task-table</code>. Broadcast messages are never removed. Tasks are more heavy-weight than futures and allow for message-passing.</p>
<p>See also: <code>task?, task-run, task-state, task-broadcast, task-send, task-recv, task-remove, prune-task-table</code>.</p>
<h3 data-number="2.4.19" id="task-broadcast-procedure2"><span class="header-section-number">2.4.19</span> <code>task-broadcast</code> : procedure/2</h3>
<p>Usage: <code>(task-broadcast id msg)</code></p>
<p>Send a message from task <code>id</code> to the blackboard. Tasks automatically send the message ’finished to the blackboard when they are finished.</p>
<p>See also: <code>task, task?, task-run, task-state, task-send, task-recv</code>.</p>
<h3 data-number="2.4.20" id="task-recv-procedure1"><span class="header-section-number">2.4.20</span> <code>task-recv</code> : procedure/1</h3>
<p>Usage: <code>(task-recv id) =&gt; any</code></p>
<p>Receive a message for task <code>id</code>, or nil if there is no message. This is typically used by the task with <code>id</code> itself to periodically check for new messages while doing other work. By convention, if a task receives the message ’end it ought to terminate at the next convenient occasion, whereas upon receiving ’cancel it ought to terminate in an expedited manner.</p>
<p>See also: <code>task-send, task, task?, task-run, task-state, task-broadcast</code>.</p>
<p><strong>Warning: Busy polling for new messages in a tight loop is inefficient and ought to be avoided.</strong></p>
<h3 data-number="2.4.21" id="task-remove-procedure1"><span class="header-section-number">2.4.21</span> <code>task-remove</code> : procedure/1</h3>
<p>Usage: <code>(task-remove id)</code></p>
<p>Remove task <code>id</code> from the task table. The task can no longer be interacted with.</p>
<p>See also: <code>task, task?, task-state</code>.</p>
<h3 data-number="2.4.22" id="task-run-procedure1"><span class="header-section-number">2.4.22</span> <code>task-run</code> : procedure/1</h3>
<p>Usage: <code>(task-run id)</code></p>
<p>Run task <code>id</code>, which must have been previously created with task. Attempting to run a task that is already running results in an error unless <code>silent?</code> is true. If silent? is true, the function does never produce an error.</p>
<p>See also: <code>task, task?, task-state, task-send, task-recv, task-broadcast-</code>.</p>
<h3 data-number="2.4.23" id="task-schedule-procedure1"><span class="header-section-number">2.4.23</span> <code>task-schedule</code> : procedure/1</h3>
<p>Usage: <code>(task-schedule sel id)</code></p>
<p>Schedule task <code>id</code> for running, starting it as soon as other tasks have finished. The scheduler attempts to avoid running more than (cpunum) tasks at once.</p>
<p>See also: <code>task, task-run</code>.</p>
<h3 data-number="2.4.24" id="task-send-procedure2"><span class="header-section-number">2.4.24</span> <code>task-send</code> : procedure/2</h3>
<p>Usage: <code>(task-send id msg)</code></p>
<p>Send a message <code>msg</code> to task <code>id</code>. The task needs to cooperatively use task-recv to reply to the message. It is up to the receiving task what to do with the message once it has been received, or how often to check for new messages.</p>
<p>See also: <code>task-broadcast, task-recv, task, task?, task-run, task-state</code>.</p>
<h3 data-number="2.4.25" id="task-state-procedure1"><span class="header-section-number">2.4.25</span> <code>task-state</code> : procedure/1</h3>
<p>Usage: <code>(task-state id) =&gt; sym</code></p>
<p>Return the state of the task, which is a symbol in ’(finished error stopped new waiting running).</p>
<p>See also: <code>task, task?, task-run, task-broadcast, task-recv, task-send</code>.</p>
<h3 data-number="2.4.26" id="task-procedure1-1"><span class="header-section-number">2.4.26</span> <code>task?</code> : procedure/1</h3>
<p>Usage: <code>(task? id) =&gt; bool</code></p>
<p>Check whether the given <code>id</code> is for a valid task, return true if it is valid, nil otherwise.</p>
<p>See also: <code>task, task-run, task-state, task-broadcast, task-send, task-recv</code>.</p>
<h3 data-number="2.4.27" id="wait-for-procedure2"><span class="header-section-number">2.4.27</span> <code>wait-for</code> : procedure/2</h3>
<p>Usage: <code>(wait-for dict key)</code></p>
<p>Block execution until the value for <code>key</code> in <code>dict</code> is not-nil. This function may wait indefinitely if no other thread sets the value for <code>key</code> to not-nil.</p>
<p>See also: <code>wait-for*, future, force, wait-until, wait-until*</code>.</p>
<p><strong>Warning: This cannot be used for synchronization of multiple tasks due to potential race-conditions.</strong></p>
<h3 data-number="2.4.28" id="wait-for-procedure3"><span class="header-section-number">2.4.28</span> <code>wait-for*</code> : procedure/3</h3>
<p>Usage: <code>(wait-for* dict key timeout)</code></p>
<p>Blocks execution until the value for <code>key</code> in <code>dict</code> is not-nil or <code>timeout</code> nanoseconds have passed, and returns that value or nil if waiting timed out. If <code>timeout</code> is negative, then the function waits potentially indefinitely without any timeout. If a non-nil key is not found, the function sleeps at least <em>sync-wait-lower-bound</em> nanoseconds and up to <em>sync-wait-upper-bound</em> nanoseconds until it looks for the key again.</p>
<p>See also: <code>future, force, wait-for, wait-until, wait-until*</code>.</p>
<p><strong>Warning: This cannot be used for synchronization of multiple tasks due to potential race-conditions.</strong></p>
<h3 data-number="2.4.29" id="wait-for-empty-procedure3"><span class="header-section-number">2.4.29</span> <code>wait-for-empty*</code> : procedure/3</h3>
<p>Usage: <code>(wait-for-empty* dict key timeout)</code></p>
<p>Blocks execution until the <code>key</code> is no longer present in <code>dict</code> or <code>timeout</code> nanoseconds have passed. If <code>timeout</code> is negative, then the function waits potentially indefinitely without any timeout.</p>
<p>See also: <code>future, force, wait-for, wait-until, wait-until*</code>.</p>
<p><strong>Warning: This cannot be used for synchronization of multiple tasks due to potential race-conditions.</strong></p>
<h3 data-number="2.4.30" id="wait-until-procedure2"><span class="header-section-number">2.4.30</span> <code>wait-until</code> : procedure/2</h3>
<p>Usage: <code>(wait-until dict key pred)</code></p>
<p>Blocks execution until the unary predicate <code>pred</code> returns true for the value at <code>key</code> in <code>dict</code>. This function may wait indefinitely if no other thread sets the value in such a way that <code>pred</code> returns true when applied to it.</p>
<p>See also: <code>wait-for, future, force, wait-until*</code>.</p>
<p><strong>Warning: This cannot be used for synchronization of multiple tasks due to potential race-conditions.</strong></p>
<h3 data-number="2.4.31" id="wait-until-procedure4"><span class="header-section-number">2.4.31</span> <code>wait-until*</code> : procedure/4</h3>
<p>Usage: <code>(wait-until* dict key pred timeout)</code></p>
<p>Blocks execution until the unary predicate <code>pred</code> returns true for the value at <code>key</code> in <code>dict</code>, or <code>timeout</code> nanoseconds have passed, and returns the value or nil if waiting timed out. If <code>timeout</code> is negative, then the function waits potentially indefinitely without any timeout. If a non-nil key is not found, the function sleeps at least <em>sync-wait-lower-bound</em> nanoseconds and up to <em>sync-wait-upper-bound</em> nanoseconds until it looks for the key again.</p>
<p>See also: <code>future, force, wait-for, wait-until*, wait-until</code>.</p>
<p><strong>Warning: This cannot be used for synchronization of multiple tasks due to potential race-conditions.</strong></p>
<h3 data-number="2.4.32" id="with-mutex-rlock-macro1-or-more"><span class="header-section-number">2.4.32</span> <code>with-mutex-rlock</code> : macro/1 or more</h3>
<p>Usage: <code>(with-mutex-rlock m ...) =&gt; any</code></p>
<p>Execute the body with mutex <code>m</code> locked for reading and unlock the mutex afterwards.</p>
<p>See also: <code>with-mutex-lock, make-mutex, mutex-lock, mutex-rlock, mutex-unlock, mutex-runlock</code>.</p>
<h2 data-number="2.5" id="console-input-output"><span class="header-section-number">2.5</span> Console Input &amp; Output</h2>
<p>These functions access the operating system console (terminal) mostly for string output.</p>
<h3 data-number="2.5.1" id="nl-procedure0"><span class="header-section-number">2.5.1</span> <code>nl</code> : procedure/0</h3>
<p>Usage: <code>(nl)</code></p>
<p>Display a newline, advancing the cursor to the next line.</p>
<p>See also: <code>out, outy, output-at</code>.</p>
<h3 data-number="2.5.2" id="prin1-procedure1"><span class="header-section-number">2.5.2</span> <code>prin1</code> : procedure/1</h3>
<p>Usage: <code>(prin1 s)</code></p>
<p>Print <code>s</code> to the host OS terminal, where strings are quoted.</p>
<p>See also: <code>princ, terpri, out, outy</code>.</p>
<h3 data-number="2.5.3" id="princ-procedure1"><span class="header-section-number">2.5.3</span> <code>princ</code> : procedure/1</h3>
<p>Usage: <code>(princ s)</code></p>
<p>Print <code>s</code> to the host OS terminal without quoting strings.</p>
<p>See also: <code>prin1, terpri, out, outy</code>.</p>
<h3 data-number="2.5.4" id="print-procedure1"><span class="header-section-number">2.5.4</span> <code>print</code> : procedure/1</h3>
<p>Usage: <code>(print x)</code></p>
<p>Output <code>x</code> on the host OS console and end it with a newline.</p>
<p>See also: <code>prin1, princ</code>.</p>
<h3 data-number="2.5.5" id="terpri-procedure0"><span class="header-section-number">2.5.5</span> <code>terpri</code> : procedure/0</h3>
<p>Usage: <code>(terpri)</code></p>
<p>Advance the host OS terminal to the next line.</p>
<p>See also: <code>princ, out, outy</code>.</p>
<h2 data-number="2.6" id="data-type-conversion"><span class="header-section-number">2.6</span> Data Type Conversion</h2>
<p>This section lists various ways in which one data type can be converted to another.</p>
<h3 data-number="2.6.1" id="alist-dict-procedure1"><span class="header-section-number">2.6.1</span> <code>alist-&gt;dict</code> : procedure/1</h3>
<p>Usage: <code>(alist-&gt;dict li) =&gt; dict</code></p>
<p>Convert an association list <code>li</code> into a dictionary. Note that the value will be the cdr of each list element, not the second element, so you need to use an alist with proper pairs ’(a . b) if you want b to be a single value.</p>
<p>See also: <code>dict-&gt;alist, dict, dict-&gt;list, list-&gt;dict</code>.</p>
<h3 data-number="2.6.2" id="array-list-procedure1"><span class="header-section-number">2.6.2</span> <code>array-&gt;list</code> : procedure/1</h3>
<p>Usage: <code>(array-&gt;list arr) =&gt; li</code></p>
<p>Convert array <code>arr</code> into a list.</p>
<p>See also: <code>list-&gt;array, array</code>.</p>
<h3 data-number="2.6.3" id="array-str-procedure1"><span class="header-section-number">2.6.3</span> <code>array-&gt;str</code> : procedure/1</h3>
<p>Usage: <code>(array-str arr) =&gt; s</code></p>
<p>Convert an array of unicode glyphs as integer values into a string. If the given sequence is not a valid UTF-8 sequence, an error is thrown.</p>
<p>See also: <code>str-&gt;array</code>.</p>
<h3 data-number="2.6.4" id="ascii85-blob-procedure1"><span class="header-section-number">2.6.4</span> <code>ascii85-&gt;blob</code> : procedure/1</h3>
<p>Usage: <code>(ascii85-&gt;blob str) =&gt; blob</code></p>
<p>Convert the ascii85 encoded string <code>str</code> to a binary blob. This will raise an error if <code>str</code> is not a valid ascii85 encoded string.</p>
<p>See also: <code>blob-&gt;ascii85, base64-&gt;blob, str-&gt;blob, hex-&gt;blob</code>.</p>
<h3 data-number="2.6.5" id="base64-blob-procedure1"><span class="header-section-number">2.6.5</span> <code>base64-&gt;blob</code> : procedure/1</h3>
<p>Usage: <code>(base64-&gt;blob str) =&gt; blob</code></p>
<p>Convert the base64 encoded string <code>str</code> to a binary blob. This will raise an error if <code>str</code> is not a valid base64 encoded string.</p>
<p>See also: <code>blob-&gt;base64, hex-&gt;blob, ascii85-&gt;blob, str-&gt;blob</code>.</p>
<h3 data-number="2.6.6" id="blob-ascii85-procedure1-or-more"><span class="header-section-number">2.6.6</span> <code>blob-&gt;ascii85</code> : procedure/1 or more</h3>
<p>Usage: <code>(blob-&gt;ascii85 b [start] [end]) =&gt; str</code></p>
<p>Convert the blob <code>b</code> to an ascii85 encoded string. If the optional <code>start</code> and <code>end</code> are provided, then only bytes from <code>start</code> (inclusive) to <code>end</code> (exclusive) are converted.</p>
<p>See also: <code>blob-&gt;hex, blob-&gt;str, blob-&gt;base64, valid?, blob?</code>.</p>
<h3 data-number="2.6.7" id="blob-base64-procedure1-or-more"><span class="header-section-number">2.6.7</span> <code>blob-&gt;base64</code> : procedure/1 or more</h3>
<p>Usage: <code>(blob-&gt;base64 b [start] [end]) =&gt; str</code></p>
<p>Convert the blob <code>b</code> to a base64 encoded string. If the optional <code>start</code> and <code>end</code> are provided, then only bytes from <code>start</code> (inclusive) to <code>end</code> (exclusive) are converted.</p>
<p>See also: <code>base64-&gt;blob, valid?, blob?, blob-&gt;str, blob-&gt;hex, blob-&gt;ascii85</code>.</p>
<h3 data-number="2.6.8" id="blob-hex-procedure1-or-more"><span class="header-section-number">2.6.8</span> <code>blob-&gt;hex</code> : procedure/1 or more</h3>
<p>Usage: <code>(blob-&gt;hex b [start] [end]) =&gt; str</code></p>
<p>Convert the blob <code>b</code> to a hexadecimal string of byte values. If the optional <code>start</code> and <code>end</code> are provided, then only bytes from <code>start</code> (inclusive) to <code>end</code> (exclusive) are converted.</p>
<p>See also: <code>hex-&gt;blob, str-&gt;blob, valid?, blob?, blob-&gt;base64, blob-&gt;ascii85</code>.</p>
<h3 data-number="2.6.9" id="blob-str-procedure1-or-more"><span class="header-section-number">2.6.9</span> <code>blob-&gt;str</code> : procedure/1 or more</h3>
<p>Usage: <code>(blob-&gt;str b [start] [end]) =&gt; str</code></p>
<p>Convert blob <code>b</code> into a string. Notice that the string may contain binary data that is not suitable for displaying and does not represent valid UTF-8 glyphs. If the optional <code>start</code> and <code>end</code> are provided, then only bytes from <code>start</code> (inclusive) to <code>end</code> (exclusive) are converted.</p>
<p>See also: <code>str-&gt;blob, valid?, blob?</code>.</p>
<h3 data-number="2.6.10" id="char-str-procedure1"><span class="header-section-number">2.6.10</span> <code>char-&gt;str</code> : procedure/1</h3>
<p>Usage: <code>(char-&gt;str n) =&gt; str</code></p>
<p>Return a string containing the unicode char based on integer <code>n.</code></p>
<p>See also: <code>str-&gt;char</code>.</p>
<h3 data-number="2.6.11" id="chars-str-procedure1"><span class="header-section-number">2.6.11</span> <code>chars-&gt;str</code> : procedure/1</h3>
<p>Usage: <code>(chars-&gt;str a) =&gt; str</code></p>
<p>Convert an array of UTF-8 rune integers <code>a</code> into a UTF-8 encoded string.</p>
<p>See also: <code>str-&gt;runes, str-&gt;char, char-&gt;str</code>.</p>
<h3 data-number="2.6.12" id="dict-alist-procedure1"><span class="header-section-number">2.6.12</span> <code>dict-&gt;alist</code> : procedure/1</h3>
<p>Usage: <code>(dict-&gt;alist d) =&gt; li</code></p>
<p>Convert a dictionary into an association list. Note that the resulting alist will be a set of proper pairs of the form ’(a . b) if the values in the dictionary are not lists.</p>
<p>See also: <code>dict, dict-map, dict-&gt;list</code>.</p>
<h3 data-number="2.6.13" id="dict-array-procedure1"><span class="header-section-number">2.6.13</span> <code>dict-&gt;array</code> : procedure/1</h3>
<p>Usage: <code>(dict-array d) =&gt; array</code></p>
<p>Return an array that contains all key, value pairs of <code>d</code>. A key comes directly before its value, but otherwise the order is unspecified.</p>
<p>See also: <code>dict-&gt;list, dict</code>.</p>
<h3 data-number="2.6.14" id="dict-keys-procedure1"><span class="header-section-number">2.6.14</span> <code>dict-&gt;keys</code> : procedure/1</h3>
<p>Usage: <code>(dict-&gt;keys d) =&gt; li</code></p>
<p>Return the keys of dictionary <code>d</code> in arbitrary order.</p>
<p>See also: <code>dict, dict-&gt;values, dict-&gt;alist, dict-&gt;list</code>.</p>
<h3 data-number="2.6.15" id="dict-list-procedure1"><span class="header-section-number">2.6.15</span> <code>dict-&gt;list</code> : procedure/1</h3>
<p>Usage: <code>(dict-&gt;list d) =&gt; li</code></p>
<p>Return a list of the form ’(key1 value1 key2 value2 …), where the order of key, value pairs is unspecified.</p>
<p>See also: <code>dict-&gt;array, dict</code>.</p>
<h3 data-number="2.6.16" id="dict-values-procedure1"><span class="header-section-number">2.6.16</span> <code>dict-&gt;values</code> : procedure/1</h3>
<p>Usage: <code>(dict-&gt;values d) =&gt; li</code></p>
<p>Return the values of dictionary <code>d</code> in arbitrary order.</p>
<p>See also: <code>dict, dict-&gt;keys, dict-&gt;alist, dict-&gt;list</code>.</p>
<h3 data-number="2.6.17" id="expr-str-procedure1"><span class="header-section-number">2.6.17</span> <code>expr-&gt;str</code> : procedure/1</h3>
<p>Usage: <code>(expr-&gt;str expr) =&gt; str</code></p>
<p>Convert a Lisp expression <code>expr</code> into a string. Does not use a stream port.</p>
<p>See also: <code>str-&gt;expr, str-&gt;expr*, openstr, internalize, externalize</code>.</p>
<h3 data-number="2.6.18" id="hex-blob-procedure1"><span class="header-section-number">2.6.18</span> <code>hex-&gt;blob</code> : procedure/1</h3>
<p>Usage: <code>(hex-&gt;blob str) =&gt; blob</code></p>
<p>Convert hex string <code>str</code> to a blob. This will raise an error if <code>str</code> is not a valid hex string.</p>
<p>See also: <code>blob-&gt;hex, base64-&gt;blob, ascii85-&gt;blob, str-&gt;blob</code>.</p>
<h3 data-number="2.6.19" id="list-array-procedure1"><span class="header-section-number">2.6.19</span> <code>list-&gt;array</code> : procedure/1</h3>
<p>Usage: <code>(list-&gt;array li) =&gt; array</code></p>
<p>Convert the list <code>li</code> to an array.</p>
<p>See also: <code>list, array, string, nth, seq?</code>.</p>
<h3 data-number="2.6.20" id="list-set-procedure1"><span class="header-section-number">2.6.20</span> <code>list-&gt;set</code> : procedure/1</h3>
<p>Usage: <code>(list-&gt;set li) =&gt; dict</code></p>
<p>Create a dict containing true for each element of list <code>li.</code></p>
<p>See also: <code>make-set, set-element?, set-union, set-intersection, set-complement, set-difference, set?, set-empty</code>.</p>
<h3 data-number="2.6.21" id="list-str-procedure1"><span class="header-section-number">2.6.21</span> <code>list-&gt;str</code> : procedure/1</h3>
<p>Usage: <code>(list-&gt;str li) =&gt; string</code></p>
<p>Return the string that is composed out of the chars in list <code>li.</code></p>
<p>See also: <code>array-&gt;str, str-&gt;list, chars</code>.</p>
<h3 data-number="2.6.22" id="set-list-procedure1"><span class="header-section-number">2.6.22</span> <code>set-&gt;list</code> : procedure/1</h3>
<p>Usage: <code>(set-&gt;list s) =&gt; li</code></p>
<p>Convert set <code>s</code> to a list of set elements.</p>
<p>See also: <code>list-&gt;set, make-set, set-element?, set-union, set-intersection, set-complement, set-difference, set?, set-empty</code>.</p>
<h3 data-number="2.6.23" id="str-array-procedure1"><span class="header-section-number">2.6.23</span> <code>str-&gt;array</code> : procedure/1</h3>
<p>Usage: <code>(str-&gt;array s) =&gt; array</code></p>
<p>Return the string <code>s</code> as an array of unicode glyph integer values.</p>
<p>See also: <code>array-&gt;str</code>.</p>
<h3 data-number="2.6.24" id="str-blob-procedure1"><span class="header-section-number">2.6.24</span> <code>str-&gt;blob</code> : procedure/1</h3>
<p>Usage: <code>(str-&gt;blob s) =&gt; blob</code></p>
<p>Convert string <code>s</code> into a blob.</p>
<p>See also: <code>blob-&gt;str</code>.</p>
<h3 data-number="2.6.25" id="str-char-procedure1"><span class="header-section-number">2.6.25</span> <code>str-&gt;char</code> : procedure/1</h3>
<p>Usage: <code>(str-&gt;char s)</code></p>
<p>Return the first character of <code>s</code> as unicode integer.</p>
<p>See also: <code>char-&gt;str</code>.</p>
<h3 data-number="2.6.26" id="str-chars-procedure1"><span class="header-section-number">2.6.26</span> <code>str-&gt;chars</code> : procedure/1</h3>
<p>Usage: <code>(str-&gt;chars s) =&gt; array</code></p>
<p>Convert the UTF-8 string <code>s</code> into an array of UTF-8 rune integers. An error may occur if the string is not a valid UTF-8 string.</p>
<p>See also: <code>runes-&gt;str, str-&gt;char, char-&gt;str</code>.</p>
<h3 data-number="2.6.27" id="str-expr-procedure0-or-more"><span class="header-section-number">2.6.27</span> <code>str-&gt;expr</code> : procedure/0 or more</h3>
<p>Usage: <code>(str-&gt;expr s [default]) =&gt; any</code></p>
<p>Convert a string <code>s</code> into a Lisp expression. If <code>default</code> is provided, it is returned if an error occurs, otherwise an error is raised.</p>
<p>See also: <code>expr-&gt;str, str-&gt;expr*, openstr, externalize, internalize</code>.</p>
<h3 data-number="2.6.28" id="str-expr-procedure0-or-more-1"><span class="header-section-number">2.6.28</span> <code>str-&gt;expr*</code> : procedure/0 or more</h3>
<p>Usage: <code>(str-&gt;expr* s [default]) =&gt; li</code></p>
<p>Convert a string <code>s</code> into a list consisting of the Lisp expressions in <code>s</code>. If <code>default</code> is provided, then this value is put in the result list whenever an error occurs. Otherwise an error is raised. Notice that it might not always be obvious what expression in <code>s</code> triggers an error, since this hinges on the way the internal expession parser works.</p>
<p>See also: <code>str-&gt;expr, expr-&gt;str, openstr, internalize, externalize</code>.</p>
<h3 data-number="2.6.29" id="str-list-procedure1"><span class="header-section-number">2.6.29</span> <code>str-&gt;list</code> : procedure/1</h3>
<p>Usage: <code>(str-&gt;list s) =&gt; list</code></p>
<p>Return the sequence of numeric chars that make up string <code>s.</code></p>
<p>See also: <code>str-&gt;array, list-&gt;str, array-&gt;str, chars</code>.</p>
<h3 data-number="2.6.30" id="str-sym-procedure1"><span class="header-section-number">2.6.30</span> <code>str-&gt;sym</code> : procedure/1</h3>
<p>Usage: <code>(str-&gt;sym s) =&gt; sym</code></p>
<p>Convert a string into a symbol.</p>
<p>See also: <code>sym-&gt;str, intern, make-symbol</code>.</p>
<h3 data-number="2.6.31" id="sym-str-procedure1"><span class="header-section-number">2.6.31</span> <code>sym-&gt;str</code> : procedure/1</h3>
<p>Usage: <code>(sym-&gt;str sym) =&gt; str</code></p>
<p>Convert a symbol into a string.</p>
<p>See also: <code>str-&gt;sym, intern, make-symbol</code>.</p>
<h2 data-number="2.7" id="special-data-structures"><span class="header-section-number">2.7</span> Special Data Structures</h2>
<p>This section lists some more specialized data structures and helper functions for them.</p>
<h3 data-number="2.7.1" id="chars-procedure1"><span class="header-section-number">2.7.1</span> <code>chars</code> : procedure/1</h3>
<p>Usage: <code>(chars str) =&gt; dict</code></p>
<p>Return a charset based on <code>str</code>, i.e., dict with the chars of <code>str</code> as keys and true as value.</p>
<p>See also: <code>dict, get, set, contains</code>.</p>
<h3 data-number="2.7.2" id="dequeue-macro1-or-more"><span class="header-section-number">2.7.2</span> <code>dequeue!</code> : macro/1 or more</h3>
<p>Usage: <code>(dequeue! sym [def]) =&gt; any</code></p>
<p>Get the next element from queue <code>sym</code>, which must be the unquoted name of a variable, and return it. If a default <code>def</code> is given, then this is returned if the queue is empty, otherwise nil is returned.</p>
<p>See also: <code>make-queue, queue?, enqueue!, glance, queue-empty?, queue-len</code>.</p>
<h3 data-number="2.7.3" id="enqueue-macro2"><span class="header-section-number">2.7.3</span> <code>enqueue!</code> : macro/2</h3>
<p>Usage: <code>(enqueue! sym elem)</code></p>
<p>Put <code>elem</code> in queue <code>sym</code>, where <code>sym</code> is the unquoted name of a variable.</p>
<p>See also: <code>make-queue, queue?, dequeue!, glance, queue-empty?, queue-len</code>.</p>
<h3 data-number="2.7.4" id="glance-procedure1"><span class="header-section-number">2.7.4</span> <code>glance</code> : procedure/1</h3>
<p>Usage: <code>(glance s [def]) =&gt; any</code></p>
<p>Peek the next element in a stack or queue without changing the data structure. If default <code>def</code> is provided, this is returned in case the stack or queue is empty; otherwise nil is returned.</p>
<p>See also: <code>make-queue, make-stack, queue?, enqueue?, dequeue?, queue-len, stack-len, pop!, push!</code>.</p>
<h3 data-number="2.7.5" id="inchars-procedure2"><span class="header-section-number">2.7.5</span> <code>inchars</code> : procedure/2</h3>
<p>Usage: <code>(inchars char chars) =&gt; bool</code></p>
<p>Return true if char is in the charset chars, nil otherwise.</p>
<p>See also: <code>chars, dict, get, set, has</code>.</p>
<h3 data-number="2.7.6" id="make-queue-procedure0"><span class="header-section-number">2.7.6</span> <code>make-queue</code> : procedure/0</h3>
<p>Usage: <code>(make-queue) =&gt; array</code></p>
<p>Make a synchronized queue.</p>
<p>See also: <code>queue?, enqueue!, dequeue!, glance, queue-empty?, queue-len</code>.</p>
<p><strong>Warning: Never change the array of a synchronized data structure directly, or your warranty is void!</strong></p>
<h3 data-number="2.7.7" id="make-set-procedure0-or-more"><span class="header-section-number">2.7.7</span> <code>make-set</code> : procedure/0 or more</h3>
<p>Usage: <code>(make-set [arg1] ... [argn]) =&gt; dict</code></p>
<p>Create a dictionary out of arguments <code>arg1</code> to <code>argn</code> that stores true for very argument.</p>
<p>See also: <code>list-&gt;set, set-&gt;list, set-element?, set-union, set-intersection, set-complement, set-difference, set?, set-empty?</code>.</p>
<h3 data-number="2.7.8" id="make-stack-procedure0"><span class="header-section-number">2.7.8</span> <code>make-stack</code> : procedure/0</h3>
<p>Usage: <code>(make-stack) =&gt; array</code></p>
<p>Make a synchronized stack.</p>
<p>See also: <code>stack?, push!, pop!, stack-empty?, stack-len, glance</code>.</p>
<p><strong>Warning: Never change the array of a synchronized data structure directly, or your warranty is void!</strong></p>
<h3 data-number="2.7.9" id="pop-macro1-or-more"><span class="header-section-number">2.7.9</span> <code>pop!</code> : macro/1 or more</h3>
<p>Usage: <code>(pop! sym [def]) =&gt; any</code></p>
<p>Get the next element from stack <code>sym</code>, which must be the unquoted name of a variable, and return it. If a default <code>def</code> is given, then this is returned if the queue is empty, otherwise nil is returned.</p>
<p>See also: <code>make-stack, stack?, push!, stack-len, stack-empty?, glance</code>.</p>
<h3 data-number="2.7.10" id="push-macro2"><span class="header-section-number">2.7.10</span> <code>push!</code> : macro/2</h3>
<p>Usage: <code>(push! sym elem)</code></p>
<p>Put <code>elem</code> in stack <code>sym</code>, where <code>sym</code> is the unquoted name of a variable.</p>
<p>See also: <code>make-stack, stack?, pop!, stack-len, stack-empty?, glance</code>.</p>
<h3 data-number="2.7.11" id="queue-empty-procedure1"><span class="header-section-number">2.7.11</span> <code>queue-empty?</code> : procedure/1</h3>
<p>Usage: <code>(queue-empty? q) =&gt; bool</code></p>
<p>Return true if the queue <code>q</code> is empty, nil otherwise.</p>
<p>See also: <code>make-queue, queue?, enqueue!, dequeue!, glance, queue-len</code>.</p>
<h3 data-number="2.7.12" id="queue-len-procedure1"><span class="header-section-number">2.7.12</span> <code>queue-len</code> : procedure/1</h3>
<p>Usage: <code>(queue-len q) =&gt; int</code></p>
<p>Return the length of the queue <code>q.</code></p>
<p>See also: <code>make-queue, queue?, enqueue!, dequeue!, glance, queue-len</code>.</p>
<p><strong>Warning: Be advised that this is of limited use in some concurrent contexts, since the length of the queue might have changed already once you’ve obtained it!</strong></p>
<h3 data-number="2.7.13" id="queue-procedure1"><span class="header-section-number">2.7.13</span> <code>queue?</code> : procedure/1</h3>
<p>Usage: <code>(queue? q) =&gt; bool</code></p>
<p>Return true if <code>q</code> is a queue, nil otherwise.</p>
<p>See also: <code>make-queue, enqueue!, dequeue, glance, queue-empty?, queue-len</code>.</p>
<h3 data-number="2.7.14" id="set-complement-procedure2"><span class="header-section-number">2.7.14</span> <code>set-complement</code> : procedure/2</h3>
<p>Usage: <code>(set-complement a domain) =&gt; set</code></p>
<p>Return all elements in <code>domain</code> that are not elements of <code>a.</code></p>
<p>See also: <code>list-&gt;set, set-&gt;list, make-set, set-element?, set-union, set-difference, set-intersection, set?, set-empty?, set-subset?, set-equal?</code>.</p>
<h3 data-number="2.7.15" id="set-difference-procedure2"><span class="header-section-number">2.7.15</span> <code>set-difference</code> : procedure/2</h3>
<p>Usage: <code>(set-difference a b) =&gt; set</code></p>
<p>Return the set-theoretic difference of set <code>a</code> minus set <code>b</code>, i.e., all elements in <code>a</code> that are not in <code>b.</code></p>
<p>See also: <code>list-&gt;set, set-&gt;list, make-set, set-element?, set-union, set-intersection, set-complement, set?, set-empty?, set-subset?, set-equal?</code>.</p>
<h3 data-number="2.7.16" id="set-element-procedure2"><span class="header-section-number">2.7.16</span> <code>set-element?</code> : procedure/2</h3>
<p>Usage: <code>(set-element? s elem) =&gt; bool</code></p>
<p>Return true if set <code>s</code> has element <code>elem</code>, nil otherwise.</p>
<p>See also: <code>make-set, list-&gt;set, set-&gt;list, set-union, set-intersection, set-complement, set-difference, set?, set-empty?</code>.</p>
<h3 data-number="2.7.17" id="set-empty-procedure1"><span class="header-section-number">2.7.17</span> <code>set-empty?</code> : procedure/1</h3>
<p>Usage: <code>(set-empty? s) =&gt; bool</code></p>
<p>Return true if set <code>s</code> is empty, nil otherwise.</p>
<p>See also: <code>make-set, list-&gt;set, set-&gt;list, set-union, set-intersection, set-complement, set-difference, set?</code>.</p>
<h3 data-number="2.7.18" id="set-equal-procedure2"><span class="header-section-number">2.7.18</span> <code>set-equal?</code> : procedure/2</h3>
<p>Usage: <code>(set-equal? a b) =&gt; bool</code></p>
<p>Return true if <code>a</code> and <code>b</code> contain the same elements.</p>
<p>See also: <code>set-subset?, list-&gt;set, set-element?, set-&gt;list, set-union, set-difference, set-intersection, set-complement, set?, set-empty?</code>.</p>
<h3 data-number="2.7.19" id="set-intersection-procedure2"><span class="header-section-number">2.7.19</span> <code>set-intersection</code> : procedure/2</h3>
<p>Usage: <code>(set-intersection a b) =&gt; set</code></p>
<p>Return the intersection of sets <code>a</code> and <code>b</code>, i.e., the set of elements that are both in <code>a</code> and in <code>b.</code></p>
<p>See also: <code>list-&gt;set, set-&gt;list, make-set, set-element?, set-union, set-complement, set-difference, set?, set-empty?, set-subset?, set-equal?</code>.</p>
<h3 data-number="2.7.20" id="set-subset-procedure2"><span class="header-section-number">2.7.20</span> <code>set-subset?</code> : procedure/2</h3>
<p>Usage: <code>(set-subset? a b) =&gt; bool</code></p>
<p>Return true if <code>a</code> is a subset of <code>b</code>, nil otherwise.</p>
<p>See also: <code>set-equal?, list-&gt;set, set-&gt;list, make-set, set-element?, set-union, set-difference, set-intersection, set-complement, set?, set-empty?</code>.</p>
<h3 data-number="2.7.21" id="set-union-procedure2"><span class="header-section-number">2.7.21</span> <code>set-union</code> : procedure/2</h3>
<p>Usage: <code>(set-union a b) =&gt; set</code></p>
<p>Return the union of sets <code>a</code> and <code>b</code> containing all elements that are in <code>a</code> or in <code>b</code> (or both).</p>
<p>See also: <code>list-&gt;set, set-&gt;list, make-set, set-element?, set-intersection, set-complement, set-difference, set?, set-empty?</code>.</p>
<h3 data-number="2.7.22" id="set-procedure1"><span class="header-section-number">2.7.22</span> <code>set?</code> : procedure/1</h3>
<p>Usage: <code>(set? x) =&gt; bool</code></p>
<p>Return true if <code>x</code> can be used as a set, nil otherwise.</p>
<p>See also: <code>list-&gt;set, make-set, set-&gt;list, set-element?, set-union, set-intersection, set-complement, set-difference, set-empty?</code>.</p>
<h3 data-number="2.7.23" id="stack-empty-procedure1"><span class="header-section-number">2.7.23</span> <code>stack-empty?</code> : procedure/1</h3>
<p>Usage: <code>(queue-empty? s) =&gt; bool</code></p>
<p>Return true if the stack <code>s</code> is empty, nil otherwise.</p>
<p>See also: <code>make-stack, stack?, push!, pop!, stack-len, glance</code>.</p>
<h3 data-number="2.7.24" id="stack-len-procedure1"><span class="header-section-number">2.7.24</span> <code>stack-len</code> : procedure/1</h3>
<p>Usage: <code>(stack-len s) =&gt; int</code></p>
<p>Return the length of the stack <code>s.</code></p>
<p>See also: <code>make-queue, queue?, enqueue!, dequeue!, glance, queue-len</code>.</p>
<p><strong>Warning: Be advised that this is of limited use in some concurrent contexts, since the length of the queue might have changed already once you’ve obtained it!</strong></p>
<h3 data-number="2.7.25" id="stack-procedure1"><span class="header-section-number">2.7.25</span> <code>stack?</code> : procedure/1</h3>
<p>Usage: <code>(stack? q) =&gt; bool</code></p>
<p>Return true if <code>q</code> is a stack, nil otherwise.</p>
<p>See also: <code>make-stack, push!, pop!, stack-empty?, stack-len, glance</code>.</p>
<h2 data-number="2.8" id="dictionaries"><span class="header-section-number">2.8</span> Dictionaries</h2>
<p>Dictionaries are thread-safe key-value repositories held in memory. They are internally based on hash tables and have fast access.</p>
<h3 data-number="2.8.1" id="delete-procedure2"><span class="header-section-number">2.8.1</span> <code>delete</code> : procedure/2</h3>
<p>Usage: <code>(delete d key)</code></p>
<p>Remove the value for <code>key</code> in dict <code>d</code>. This also removes the key.</p>
<p>See also: <code>dict?, get, set</code>.</p>
<h3 data-number="2.8.2" id="dict-procedure0-or-more"><span class="header-section-number">2.8.2</span> <code>dict</code> : procedure/0 or more</h3>
<p>Usage: <code>(dict [li]) =&gt; dict</code></p>
<p>Create a dictionary. The option <code>li</code> must be a list of the form ’(key1 value1 key2 value2 …). Dictionaries are unordered, hence also not sequences. Dictionaries are safe for concurrent access.</p>
<p>See also: <code>array, list</code>.</p>
<h3 data-number="2.8.3" id="dict-copy-procedure1"><span class="header-section-number">2.8.3</span> <code>dict-copy</code> : procedure/1</h3>
<p>Usage: <code>(dict-copy d) =&gt; dict</code></p>
<p>Return a copy of dict <code>d.</code></p>
<p>See also: <code>dict, dict?</code>.</p>
<h3 data-number="2.8.4" id="dict-empty-procedure1"><span class="header-section-number">2.8.4</span> <code>dict-empty?</code> : procedure/1</h3>
<p>Usage: <code>(dict-empty? d) =&gt; bool</code></p>
<p>Return true if dict <code>d</code> is empty, nil otherwise. As crazy as this may sound, this can have O(n) complexity if the dict is not empty, but it is still going to be more efficient than any other method.</p>
<p>See also: <code>dict</code>.</p>
<h3 data-number="2.8.5" id="dict-foreach-procedure2"><span class="header-section-number">2.8.5</span> <code>dict-foreach</code> : procedure/2</h3>
<p>Usage: <code>(dict-foreach d proc)</code></p>
<p>Call <code>proc</code> for side-effects with the key and value for each key, value pair in dict <code>d.</code></p>
<p>See also: <code>dict-map!, dict?, dict</code>.</p>
<h3 data-number="2.8.6" id="dict-map-procedure2"><span class="header-section-number">2.8.6</span> <code>dict-map</code> : procedure/2</h3>
<p>Usage: <code>(dict-map dict proc) =&gt; dict</code></p>
<p>Returns a copy of <code>dict</code> with <code>proc</code> applies to each key value pair as aruments. Keys are immutable, so <code>proc</code> must take two arguments and return the new value.</p>
<p>See also: <code>dict-map!, map</code>.</p>
<h3 data-number="2.8.7" id="dict-map-procedure2-1"><span class="header-section-number">2.8.7</span> <code>dict-map!</code> : procedure/2</h3>
<p>Usage: <code>(dict-map! d proc)</code></p>
<p>Apply procedure <code>proc</code> which takes the key and value as arguments to each key, value pair in dict <code>d</code> and set the respective value in <code>d</code> to the result of <code>proc</code>. Keys are not changed.</p>
<p>See also: <code>dict, dict?, dict-foreach</code>.</p>
<h3 data-number="2.8.8" id="dict-merge-procedure2"><span class="header-section-number">2.8.8</span> <code>dict-merge</code> : procedure/2</h3>
<p>Usage: <code>(dict-merge a b) =&gt; dict</code></p>
<p>Create a new dict that contains all key-value pairs from dicts <code>a</code> and <code>b</code>. Note that this function is not symmetric. If a key is in both <code>a</code> and <code>b</code>, then the key value pair in <code>a</code> is retained for this key.</p>
<p>See also: <code>dict, dict-map, dict-map!, dict-foreach</code>.</p>
<h3 data-number="2.8.9" id="dict-procedure1"><span class="header-section-number">2.8.9</span> <code>dict?</code> : procedure/1</h3>
<p>Usage: <code>(dict? obj) =&gt; bool</code></p>
<p>Return true if <code>obj</code> is a dict, nil otherwise.</p>
<p>See also: <code>dict</code>.</p>
<h3 data-number="2.8.10" id="get-procedure2-or-more"><span class="header-section-number">2.8.10</span> <code>get</code> : procedure/2 or more</h3>
<p>Usage: <code>(get dict key [default]) =&gt; any</code></p>
<p>Get the value for <code>key</code> in <code>dict</code>, return <code>default</code> if there is no value for <code>key</code>. If <code>default</code> is omitted, then nil is returned. Provide your own default if you want to store nil.</p>
<p>See also: <code>dict, dict?, set</code>.</p>
<h3 data-number="2.8.11" id="get-or-set-procedure3"><span class="header-section-number">2.8.11</span> <code>get-or-set</code> : procedure/3</h3>
<p>Usage: <code>(get-or-set d key value)</code></p>
<p>Get the value for <code>key</code> in dict <code>d</code> if it already exists, otherwise set it to <code>value.</code></p>
<p>See also: <code>dict?, get, set</code>.</p>
<h3 data-number="2.8.12" id="getstacked-procedure3"><span class="header-section-number">2.8.12</span> <code>getstacked</code> : procedure/3</h3>
<p>Usage: <code>(getstacked dict key default)</code></p>
<p>Get the topmost element from the stack stored at <code>key</code> in <code>dict</code>. If the stack is empty or no stack is stored at key, then <code>default</code> is returned.</p>
<p>See also: <code>pushstacked, popstacked</code>.</p>
<h3 data-number="2.8.13" id="has-procedure2"><span class="header-section-number">2.8.13</span> <code>has</code> : procedure/2</h3>
<p>Usage: <code>(has dict key) =&gt; bool</code></p>
<p>Return true if the dict <code>dict</code> contains an entry for <code>key</code>, nil otherwise.</p>
<p>See also: <code>dict, get, set</code>.</p>
<h3 data-number="2.8.14" id="has-key-procedure2"><span class="header-section-number">2.8.14</span> <code>has-key?</code> : procedure/2</h3>
<p>Usage: <code>(has-key? d key) =&gt; bool</code></p>
<p>Return true if <code>d</code> has key <code>key</code>, nil otherwise.</p>
<p>See also: <code>dict?, get, set, delete</code>.</p>
<h3 data-number="2.8.15" id="popstacked-procedure3"><span class="header-section-number">2.8.15</span> <code>popstacked</code> : procedure/3</h3>
<p>Usage: <code>(popstacked dict key default)</code></p>
<p>Get the topmost element from the stack stored at <code>key</code> in <code>dict</code> and remove it from the stack. If the stack is empty or no stack is stored at key, then <code>default</code> is returned.</p>
<p>See also: <code>pushstacked, getstacked</code>.</p>
<h3 data-number="2.8.16" id="pushstacked-procedure3"><span class="header-section-number">2.8.16</span> <code>pushstacked</code> : procedure/3</h3>
<p>Usage: <code>(pushstacked dict key datum)</code></p>
<p>Push <code>datum</code> onto the stack maintained under <code>key</code> in the <code>dict.</code></p>
<p>See also: <code>getstacked, popstacked</code>.</p>
<h3 data-number="2.8.17" id="set-procedure3"><span class="header-section-number">2.8.17</span> <code>set</code> : procedure/3</h3>
<p>Usage: <code>(set d key value)</code></p>
<p>Set <code>value</code> for <code>key</code> in dict <code>d.</code></p>
<p>See also: <code>dict, get, get-or-set</code>.</p>
<h3 data-number="2.8.18" id="set-procedure2"><span class="header-section-number">2.8.18</span> <code>set*</code> : procedure/2</h3>
<p>Usage: <code>(set* d li)</code></p>
<p>Set in dict <code>d</code> the keys and values in list <code>li</code>. The list <code>li</code> must be of the form (key-1 value-1 key-2 value-2 … key-n value-n). This function may be slightly faster than using individual <code>set</code> operations.</p>
<p>See also: <code>dict, set</code>.</p>
<h2 data-number="2.9" id="equality-predicates"><span class="header-section-number">2.9</span> Equality Predicates</h2>
<p>Equality predicates are used to test whether two values are equal in some sense.</p>
<h3 data-number="2.9.1" id="eq-procedure2"><span class="header-section-number">2.9.1</span> <code>eq?</code> : procedure/2</h3>
<p>Usage: <code>(eq? x y) =&gt; bool</code></p>
<p>Return true if <code>x</code> and <code>y</code> are equal, nil otherwise. In contrast to other LISPs, eq? checks for deep equality of arrays and dicts. However, lists are compared by checking whether they are the same cell in memory. Use <code>equal?</code> to check for deep equality of lists and other objects.</p>
<p>See also: <code>equal?</code>.</p>
<h3 data-number="2.9.2" id="eql-procedure2"><span class="header-section-number">2.9.2</span> <code>eql?</code> : procedure/2</h3>
<p>Usage: <code>(eql? x y) =&gt; bool</code></p>
<p>Returns true if <code>x</code> is equal to <code>y</code>, nil otherwise. This is currently the same as equal? but the behavior might change.</p>
<p>See also: <code>equal?</code>.</p>
<p><strong>Warning: Deprecated.</strong></p>
<h2 data-number="2.10" id="file-input-output"><span class="header-section-number">2.10</span> File Input &amp; Output</h2>
<p>These functions allow direct access for reading and writing to files. This module requires the <code>fileio</code> build tag.</p>
<h3 data-number="2.10.1" id="close-procedure1"><span class="header-section-number">2.10.1</span> <code>close</code> : procedure/1</h3>
<p>Usage: <code>(close p)</code></p>
<p>Close the port <code>p</code>. Calling close twice on the same port should be avoided.</p>
<p>See also: <code>open, stropen</code>.</p>
<h3 data-number="2.10.2" id="dir-procedure1"><span class="header-section-number">2.10.2</span> <code>dir</code> : procedure/1</h3>
<p>Usage: <code>(dir [path]) =&gt; li</code></p>
<p>Obtain a directory list for <code>path</code>. If <code>path</code> is not specified, the current working directory is listed.</p>
<p>See also: <code>dir?, open, close, read, write</code>.</p>
<h3 data-number="2.10.3" id="dir-procedure1-1"><span class="header-section-number">2.10.3</span> <code>dir?</code> : procedure/1</h3>
<p>Usage: <code>(dir? path) =&gt; bool</code></p>
<p>Check if the file at <code>path</code> is a directory and return true, nil if the file does not exist or is not a directory.</p>
<p>See also: <code>file-exists?, dir, open, close, read, write</code>.</p>
<h3 data-number="2.10.4" id="fdelete-procedure1"><span class="header-section-number">2.10.4</span> <code>fdelete</code> : procedure/1</h3>
<p>Usage: <code>(fdelete path)</code></p>
<p>Removes the file or directory at <code>path.</code></p>
<p>See also: <code>file-exists?, dir?, dir</code>.</p>
<p><strong>Warning: This function also deletes directories containing files and all of their subdirectories!</strong></p>
<h3 data-number="2.10.5" id="file-port-procedure1"><span class="header-section-number">2.10.5</span> <code>file-port?</code> : procedure/1</h3>
<p>Usage: <code>(file-port? p) =&gt; bool</code></p>
<p>Return true if <code>p</code> is a file port, nil otherwise.</p>
<p>See also: <code>port?, str-port?, open, stropen</code>.</p>
<h3 data-number="2.10.6" id="open-procedure1-or-more"><span class="header-section-number">2.10.6</span> <code>open</code> : procedure/1 or more</h3>
<p>Usage: <code>(open file-path [modes] [permissions]) =&gt; int</code></p>
<p>Open the file at <code>file-path</code> for reading and writing, and return the stream ID. The optional <code>modes</code> argument must be a list containing one of ‘(read write read-write) for read, write, or read-write access respectively, and may contain any of the following symbols: ’append to append to an existing file, ’create for creating the file if it doesn’t exist, ’exclusive for exclusive file access, ’truncate for truncating the file if it exists, and ’sync for attempting to sync file access. The optional <code>permissions</code> argument must be a numeric value specifying the Unix file permissions of the file. If these are omitted, then default values’(read-write append create) and 0640 are used.</p>
<p>See also: <code>stropen, close, read, write</code>.</p>
<h3 data-number="2.10.7" id="read-procedure1"><span class="header-section-number">2.10.7</span> <code>read</code> : procedure/1</h3>
<p>Usage: <code>(read p) =&gt; any</code></p>
<p>Read an expression from input port <code>p.</code></p>
<p>See also: <code>input, write</code>.</p>
<h3 data-number="2.10.8" id="read-binary-procedure3"><span class="header-section-number">2.10.8</span> <code>read-binary</code> : procedure/3</h3>
<p>Usage: <code>(read-binary p buff n) =&gt; int</code></p>
<p>Read <code>n</code> or less bytes from input port <code>p</code> into binary blob <code>buff</code>. If <code>buff</code> is smaller than <code>n</code>, then an error is raised. If less than <code>n</code> bytes are available before the end of file is reached, then the amount k of bytes is read into <code>buff</code> and k is returned. If the end of file is reached and no byte has been read, then 0 is returned. So to loop through this, read into the buffer and do something with it while the amount of bytes returned is larger than 0.</p>
<p>See also: <code>write-binary, read, close, open</code>.</p>
<h3 data-number="2.10.9" id="str-port-procedure1"><span class="header-section-number">2.10.9</span> <code>str-port?</code> : procedure/1</h3>
<p>Usage: <code>(str-port? p) =&gt; bool</code></p>
<p>Return true if <code>p</code> is a string port, nil otherwise.</p>
<p>See also: <code>port?, file-port?, stropen, open</code>.</p>
<h3 data-number="2.10.10" id="write-procedure2"><span class="header-section-number">2.10.10</span> <code>write</code> : procedure/2</h3>
<p>Usage: <code>(write p datum) =&gt; int</code></p>
<p>Write <code>datum</code> to output port <code>p</code> and return the number of bytes written.</p>
<p>See also: <code>write-binary, write-binary-at, read, close, open</code>.</p>
<h3 data-number="2.10.11" id="write-binary-procedure4"><span class="header-section-number">2.10.11</span> <code>write-binary</code> : procedure/4</h3>
<p>Usage: <code>(write-binary p buff n offset) =&gt; int</code></p>
<p>Write <code>n</code> bytes starting at <code>offset</code> in binary blob <code>buff</code> to the stream port <code>p</code>. This function returns the number of bytes actually written.</p>
<p>See also: <code>write-binary-at, read-binary, write, close, open</code>.</p>
<h3 data-number="2.10.12" id="write-binary-at-procedure5"><span class="header-section-number">2.10.12</span> <code>write-binary-at</code> : procedure/5</h3>
<p>Usage: <code>(write-binary-at p buff n offset fpos) =&gt; int</code></p>
<p>Write <code>n</code> bytes starting at <code>offset</code> in binary blob <code>buff</code> to the seekable stream port <code>p</code> at the stream position <code>fpos</code>. If there is not enough data in <code>p</code> to overwrite at position <code>fpos</code>, then an error is caused and only part of the data might be written. The function returns the number of bytes actually written.</p>
<p>See also: <code>read-binary, write-binary, write, close, open</code>.</p>
<h3 data-number="2.10.13" id="write-string-procedure2"><span class="header-section-number">2.10.13</span> <code>write-string</code> : procedure/2</h3>
<p>Usage: <code>(write-string p s) =&gt; int</code></p>
<p>Write string <code>s</code> to output port <code>p</code> and return the number of bytes written. LF are <em>not</em> automatically converted to CR LF sequences on windows.</p>
<p>See also: <code>write, write-binary, write-binary-at, read, close, open</code>.</p>
<h2 data-number="2.11" id="floating-point-arithmetics-package"><span class="header-section-number">2.11</span> Floating Point Arithmetics Package</h2>
<p>The package <code>fl</code> provides floating point arithmetics functions. They require the given number not to exceed a value that can be held by a 64 bit float in the range 2.2E-308 to 1.7E+308.</p>
<h3 data-number="2.11.1" id="fl.abs-procedure1"><span class="header-section-number">2.11.1</span> <code>fl.abs</code> : procedure/1</h3>
<p>Usage: <code>(fl.abs x) =&gt; fl</code></p>
<p>Return the absolute value of <code>x.</code></p>
<p>See also: <code>float, *</code>.</p>
<h3 data-number="2.11.2" id="fl.acos-procedure1"><span class="header-section-number">2.11.2</span> <code>fl.acos</code> : procedure/1</h3>
<p>Usage: <code>(fl.acos x) =&gt; fl</code></p>
<p>Return the arc cosine of <code>x.</code></p>
<p>See also: <code>fl.cos</code>.</p>
<h3 data-number="2.11.3" id="fl.asin-procedure1"><span class="header-section-number">2.11.3</span> <code>fl.asin</code> : procedure/1</h3>
<p>Usage: <code>(fl.asin x) =&gt; fl</code></p>
<p>Return the arc sine of <code>x.</code></p>
<p>See also: <code>fl.acos</code>.</p>
<h3 data-number="2.11.4" id="fl.asinh-procedure1"><span class="header-section-number">2.11.4</span> <code>fl.asinh</code> : procedure/1</h3>
<p>Usage: <code>(fl.asinh x) =&gt; fl</code></p>
<p>Return the inverse hyperbolic sine of <code>x.</code></p>
<p>See also: <code>fl.cosh</code>.</p>
<h3 data-number="2.11.5" id="fl.atan-procedure1"><span class="header-section-number">2.11.5</span> <code>fl.atan</code> : procedure/1</h3>
<p>Usage: <code>(fl.atan x) =&gt; fl</code></p>
<p>Return the arctangent of <code>x</code> in radians.</p>
<p>See also: <code>fl.atanh, fl.tan</code>.</p>
<h3 data-number="2.11.6" id="fl.atan2-procedure2"><span class="header-section-number">2.11.6</span> <code>fl.atan2</code> : procedure/2</h3>
<p>Usage: <code>(fl.atan2 x y) =&gt; fl</code></p>
<p>Atan2 returns the arc tangent of <code>y</code> / <code>x</code>, using the signs of the two to determine the quadrant of the return value.</p>
<p>See also: <code>fl.atan</code>.</p>
<h3 data-number="2.11.7" id="fl.atanh-procedure1"><span class="header-section-number">2.11.7</span> <code>fl.atanh</code> : procedure/1</h3>
<p>Usage: <code>(fl.atanh x) =&gt; fl</code></p>
<p>Return the inverse hyperbolic tangent of <code>x.</code></p>
<p>See also: <code>fl.atan</code>.</p>
<h3 data-number="2.11.8" id="fl.cbrt-procedure1"><span class="header-section-number">2.11.8</span> <code>fl.cbrt</code> : procedure/1</h3>
<p>Usage: <code>(fl.cbrt x) =&gt; fl</code></p>
<p>Return the cube root of <code>x.</code></p>
<p>See also: <code>fl.sqrt</code>.</p>
<h3 data-number="2.11.9" id="fl.ceil-procedure1"><span class="header-section-number">2.11.9</span> <code>fl.ceil</code> : procedure/1</h3>
<p>Usage: <code>(fl.ceil x) =&gt; fl</code></p>
<p>Round <code>x</code> up to the nearest integer, return it as a floating point number.</p>
<p>See also: <code>fl.floor, truncate, int, fl.round, fl.trunc</code>.</p>
<h3 data-number="2.11.10" id="fl.cos-procedure1"><span class="header-section-number">2.11.10</span> <code>fl.cos</code> : procedure/1</h3>
<p>Usage: <code>(fl.cos x) =&gt; fl</code></p>
<p>Return the cosine of <code>x.</code></p>
<p>See also: <code>fl.sin</code>.</p>
<h3 data-number="2.11.11" id="fl.cosh-procedure1"><span class="header-section-number">2.11.11</span> <code>fl.cosh</code> : procedure/1</h3>
<p>Usage: <code>(fl.cosh x) =&gt; fl</code></p>
<p>Return the hyperbolic cosine of <code>x.</code></p>
<p>See also: <code>fl.cos</code>.</p>
<h3 data-number="2.11.12" id="fl.dim-procedure2"><span class="header-section-number">2.11.12</span> <code>fl.dim</code> : procedure/2</h3>
<p>Usage: <code>(fl.dim x y) =&gt; fl</code></p>
<p>Return the maximum of x, y or 0.</p>
<p>See also: <code>max</code>.</p>
<h3 data-number="2.11.13" id="fl.erf-procedure1"><span class="header-section-number">2.11.13</span> <code>fl.erf</code> : procedure/1</h3>
<p>Usage: <code>(fl.erf x) =&gt; fl</code></p>
<p>Return the result of the error function of <code>x.</code></p>
<p>See also: <code>fl.erfc, fl.dim</code>.</p>
<h3 data-number="2.11.14" id="fl.erfc-procedure1"><span class="header-section-number">2.11.14</span> <code>fl.erfc</code> : procedure/1</h3>
<p>Usage: <code>(fl.erfc x) =&gt; fl</code></p>
<p>Return the result of the complementary error function of <code>x.</code></p>
<p>See also: <code>fl.erfcinv, fl.erf</code>.</p>
<h3 data-number="2.11.15" id="fl.erfcinv-procedure1"><span class="header-section-number">2.11.15</span> <code>fl.erfcinv</code> : procedure/1</h3>
<p>Usage: <code>(fl.erfcinv x) =&gt; fl</code></p>
<p>Return the inverse of (fl.erfc <code>x</code>).</p>
<p>See also: <code>fl.erfc</code>.</p>
<h3 data-number="2.11.16" id="fl.erfinv-procedure1"><span class="header-section-number">2.11.16</span> <code>fl.erfinv</code> : procedure/1</h3>
<p>Usage: <code>(fl.erfinv x) =&gt; fl</code></p>
<p>Return the inverse of (fl.erf <code>x</code>).</p>
<p>See also: <code>fl.erf</code>.</p>
<h3 data-number="2.11.17" id="fl.exp-procedure1"><span class="header-section-number">2.11.17</span> <code>fl.exp</code> : procedure/1</h3>
<p>Usage: <code>(fl.exp x) =&gt; fl</code></p>
<p>Return e^<code>x</code>, the base-e exponential of <code>x.</code></p>
<p>See also: <code>fl.exp</code>.</p>
<h3 data-number="2.11.18" id="fl.exp2-procedure2"><span class="header-section-number">2.11.18</span> <code>fl.exp2</code> : procedure/2</h3>
<p>Usage: <code>(fl.exp2 x) =&gt; fl</code></p>
<p>Return 2^<code>x</code>, the base-2 exponential of <code>x.</code></p>
<p>See also: <code>fl.exp</code>.</p>
<h3 data-number="2.11.19" id="fl.expm1-procedure1"><span class="header-section-number">2.11.19</span> <code>fl.expm1</code> : procedure/1</h3>
<p>Usage: <code>(fl.expm1 x) =&gt; fl</code></p>
<p>Return e^<code>x-1</code>, the base-e exponential of (sub1 <code>x</code>). This is more accurate than (sub1 (fl.exp <code>x</code>)) when <code>x</code> is very small.</p>
<p>See also: <code>fl.exp</code>.</p>
<h3 data-number="2.11.20" id="fl.floor-procedure1"><span class="header-section-number">2.11.20</span> <code>fl.floor</code> : procedure/1</h3>
<p>Usage: <code>(fl.floor x) =&gt; fl</code></p>
<p>Return <code>x</code> rounded to the nearest integer below as floating point number.</p>
<p>See also: <code>fl.ceil, truncate, int</code>.</p>
<h3 data-number="2.11.21" id="fl.fma-procedure3"><span class="header-section-number">2.11.21</span> <code>fl.fma</code> : procedure/3</h3>
<p>Usage: <code>(fl.fma x y z) =&gt; fl</code></p>
<p>Return the fused multiply-add of <code>x</code>, <code>y</code>, <code>z</code>, which is <code>x</code> * <code>y</code> + <code>z.</code></p>
<p>See also: <code>*, +</code>.</p>
<h3 data-number="2.11.22" id="fl.frexp-procedure1"><span class="header-section-number">2.11.22</span> <code>fl.frexp</code> : procedure/1</h3>
<p>Usage: <code>(fl.frexp x) =&gt; li</code></p>
<p>Break <code>x</code> into a normalized fraction and an integral power of two. It returns a list of (frac exp) containing a float and an integer satisfying <code>x</code> == <code>frac</code> × 2^<code>exp</code> where the absolute value of <code>frac</code> is in the interval [0.5, 1).</p>
<p>See also: <code>fl.exp</code>.</p>
<h3 data-number="2.11.23" id="fl.gamma-procedure1"><span class="header-section-number">2.11.23</span> <code>fl.gamma</code> : procedure/1</h3>
<p>Usage: <code>(fl.gamma x) =&gt; fl</code></p>
<p>Compute the Gamma function of <code>x.</code></p>
<p>See also: <code>fl.lgamma</code>.</p>
<h3 data-number="2.11.24" id="fl.hypot-procedure2"><span class="header-section-number">2.11.24</span> <code>fl.hypot</code> : procedure/2</h3>
<p>Usage: <code>(fl.hypot x y) =&gt; fl</code></p>
<p>Compute the square root of x^2 and y^2.</p>
<p>See also: <code>fl.sqrt</code>.</p>
<h3 data-number="2.11.25" id="fl.ilogb-procedure1"><span class="header-section-number">2.11.25</span> <code>fl.ilogb</code> : procedure/1</h3>
<p>Usage: <code>(fl.ilogb x) =&gt; fl</code></p>
<p>Return the binary exponent of <code>x</code> as a floating point number.</p>
<p>See also: <code>fl.exp2</code>.</p>
<h3 data-number="2.11.26" id="fl.inf-procedure1"><span class="header-section-number">2.11.26</span> <code>fl.inf</code> : procedure/1</h3>
<p>Usage: <code>(fl.inf x) =&gt; fl</code></p>
<p>Return positive 64 bit floating point infinity +INF if <code>x</code> &gt;= 0 and negative 64 bit floating point finfinity -INF if <code>x</code> &lt; 0.</p>
<p>See also: <code>fl.is-nan?</code>.</p>
<h3 data-number="2.11.27" id="fl.is-nan-procedure1"><span class="header-section-number">2.11.27</span> <code>fl.is-nan?</code> : procedure/1</h3>
<p>Usage: <code>(fl.is-nan? x) =&gt; bool</code></p>
<p>Return true if <code>x</code> is not a number according to IEEE 754 floating point arithmetics, nil otherwise.</p>
<p>See also: <code>fl.inf</code>.</p>
<h3 data-number="2.11.28" id="fl.j0-procedure1"><span class="header-section-number">2.11.28</span> <code>fl.j0</code> : procedure/1</h3>
<p>Usage: <code>(fl.j0 x) =&gt; fl</code></p>
<p>Apply the order-zero Bessel function of the first kind to <code>x.</code></p>
<p>See also: <code>fl.j1, fl.jn, fl.y0, fl.y1, fl.yn</code>.</p>
<h3 data-number="2.11.29" id="fl.j1-procedure1"><span class="header-section-number">2.11.29</span> <code>fl.j1</code> : procedure/1</h3>
<p>Usage: <code>(fl.j1 x) =&gt; fl</code></p>
<p>Apply the the order-one Bessel function of the first kind <code>x.</code></p>
<p>See also: <code>fl.j0, fl.jn, fl.y0, fl.y1, fl.yn</code>.</p>
<h3 data-number="2.11.30" id="fl.jn-procedure1"><span class="header-section-number">2.11.30</span> <code>fl.jn</code> : procedure/1</h3>
<p>Usage: <code>(fl.jn n x) =&gt; fl</code></p>
<p>Apply the Bessel function of order <code>n</code> to <code>x</code>. The number <code>n</code> must be an integer.</p>
<p>See also: <code>fl.j1, fl.j0, fl.y0, fl.y1, fl.yn</code>.</p>
<h3 data-number="2.11.31" id="fl.ldexp-procedure2"><span class="header-section-number">2.11.31</span> <code>fl.ldexp</code> : procedure/2</h3>
<p>Usage: <code>(fl.ldexp x n) =&gt; fl</code></p>
<p>Return the inverse of fl.frexp, <code>x</code> * 2^<code>n.</code></p>
<p>See also: <code>fl.frexp</code>.</p>
<h3 data-number="2.11.32" id="fl.lgamma-procedure1"><span class="header-section-number">2.11.32</span> <code>fl.lgamma</code> : procedure/1</h3>
<p>Usage: <code>(fl.lgamma x) =&gt; li</code></p>
<p>Return a list containing the natural logarithm and sign (-1 or +1) of the Gamma function applied to <code>x.</code></p>
<p>See also: <code>fl.gamma</code>.</p>
<h3 data-number="2.11.33" id="fl.log-procedure1"><span class="header-section-number">2.11.33</span> <code>fl.log</code> : procedure/1</h3>
<p>Usage: <code>(fl.log x) =&gt; fl</code></p>
<p>Return the natural logarithm of <code>x.</code></p>
<p>See also: <code>fl.log10, fl.log2, fl.logb, fl.log1p</code>.</p>
<h3 data-number="2.11.34" id="fl.log10-procedure1"><span class="header-section-number">2.11.34</span> <code>fl.log10</code> : procedure/1</h3>
<p>Usage: <code>(fl.log10 x) =&gt; fl</code></p>
<p>Return the decimal logarithm of <code>x.</code></p>
<p>See also: <code>fl.log, fl.log2, fl.logb, fl.log1p</code>.</p>
<h3 data-number="2.11.35" id="fl.log1p-procedure1"><span class="header-section-number">2.11.35</span> <code>fl.log1p</code> : procedure/1</h3>
<p>Usage: <code>(fl.log1p x) =&gt; fl</code></p>
<p>Return the natural logarithm of <code>x</code> + 1. This function is more accurate than (fl.log (add1 x)) if <code>x</code> is close to 0.</p>
<p>See also: <code>fl.log, fl.log2, fl.logb, fl.log10</code>.</p>
<h3 data-number="2.11.36" id="fl.log2-procedure1"><span class="header-section-number">2.11.36</span> <code>fl.log2</code> : procedure/1</h3>
<p>Usage: <code>(fl.log2 x) =&gt; fl</code></p>
<p>Return the binary logarithm of <code>x</code>. This is important for calculating entropy, for example.</p>
<p>See also: <code>fl.log, fl.log10, fl.log1p, fl.logb</code>.</p>
<h3 data-number="2.11.37" id="fl.logb-procedure1"><span class="header-section-number">2.11.37</span> <code>fl.logb</code> : procedure/1</h3>
<p>Usage: <code>(fl.logb x) =&gt; fl</code></p>
<p>Return the binary exponent of <code>x.</code></p>
<p>See also: <code>fl.log, fl.log10, fl.log1p, fl.logb, fl.log2</code>.</p>
<h3 data-number="2.11.38" id="fl.max-procedure2"><span class="header-section-number">2.11.38</span> <code>fl.max</code> : procedure/2</h3>
<p>Usage: <code>(fl.max x y) =&gt; fl</code></p>
<p>Return the larger value of two floating point arguments <code>x</code> and <code>y.</code></p>
<p>See also: <code>fl.min, max, min</code>.</p>
<h3 data-number="2.11.39" id="fl.min-procedure2"><span class="header-section-number">2.11.39</span> <code>fl.min</code> : procedure/2</h3>
<p>Usage: <code>(fl.min x y) =&gt; fl</code></p>
<p>Return the smaller value of two floating point arguments <code>x</code> and <code>y.</code></p>
<p>See also: <code>fl.min, max, min</code>.</p>
<h3 data-number="2.11.40" id="fl.mod-procedure2"><span class="header-section-number">2.11.40</span> <code>fl.mod</code> : procedure/2</h3>
<p>Usage: <code>(fl.mod x y) =&gt; fl</code></p>
<p>Return the floating point remainder of <code>x</code> / <code>y.</code></p>
<p>See also: <code>fl.remainder</code>.</p>
<h3 data-number="2.11.41" id="fl.modf-procedure1"><span class="header-section-number">2.11.41</span> <code>fl.modf</code> : procedure/1</h3>
<p>Usage: <code>(fl.modf x) =&gt; li</code></p>
<p>Return integer and fractional floating-point numbers that sum to <code>x</code>. Both values have the same sign as <code>x.</code></p>
<p>See also: <code>fl.mod</code>.</p>
<h3 data-number="2.11.42" id="fl.nan-procedure1"><span class="header-section-number">2.11.42</span> <code>fl.nan</code> : procedure/1</h3>
<p>Usage: <code>(fl.nan) =&gt; fl</code></p>
<p>Return the IEEE 754 not-a-number value.</p>
<p>See also: <code>fl.is-nan?, fl.inf</code>.</p>
<h3 data-number="2.11.43" id="fl.next-after-procedure1"><span class="header-section-number">2.11.43</span> <code>fl.next-after</code> : procedure/1</h3>
<p>Usage: <code>(fl.next-after x) =&gt; fl</code></p>
<p>Return the next representable floating point number after <code>x.</code></p>
<p>See also: <code>fl.is-nan?, fl.nan, fl.inf</code>.</p>
<h3 data-number="2.11.44" id="fl.pow-procedure2"><span class="header-section-number">2.11.44</span> <code>fl.pow</code> : procedure/2</h3>
<p>Usage: <code>(fl.pow x y) =&gt; fl</code></p>
<p>Return <code>x</code> to the power of <code>y</code> according to 64 bit floating point arithmetics.</p>
<p>See also: <code>fl.pow10</code>.</p>
<h3 data-number="2.11.45" id="fl.pow10-procedure1"><span class="header-section-number">2.11.45</span> <code>fl.pow10</code> : procedure/1</h3>
<p>Usage: <code>(fl.pow10 n) =&gt; fl</code></p>
<p>Return 10 to the power of integer <code>n</code> as a 64 bit floating point number.</p>
<p>See also: <code>fl.pow</code>.</p>
<h3 data-number="2.11.46" id="fl.remainder-procedure2"><span class="header-section-number">2.11.46</span> <code>fl.remainder</code> : procedure/2</h3>
<p>Usage: <code>(fl.remainder x y) =&gt; fl</code></p>
<p>Return the IEEE 754 floating-point remainder of <code>x</code> / <code>y.</code></p>
<p>See also: <code>fl.mod</code>.</p>
<h3 data-number="2.11.47" id="fl.round-procedure1"><span class="header-section-number">2.11.47</span> <code>fl.round</code> : procedure/1</h3>
<p>Usage: <code>(fl.round x) =&gt; fl</code></p>
<p>Round <code>x</code> to the nearest integer floating point number according to floating point arithmetics.</p>
<p>See also: <code>fl.round-to-even, fl.truncate, int, float</code>.</p>
<h3 data-number="2.11.48" id="fl.round-to-even-procedure1"><span class="header-section-number">2.11.48</span> <code>fl.round-to-even</code> : procedure/1</h3>
<p>Usage: <code>(fl.round-to-even x) =&gt; fl</code></p>
<p>Round <code>x</code> to the nearest even integer floating point number according to floating point arithmetics.</p>
<p>See also: <code>fl.round, fl.truncate, int, float</code>.</p>
<h3 data-number="2.11.49" id="fl.signbit-procedure1"><span class="header-section-number">2.11.49</span> <code>fl.signbit</code> : procedure/1</h3>
<p>Usage: <code>(fl.signbit x) =&gt; bool</code></p>
<p>Return true if <code>x</code> is negative, nil otherwise.</p>
<p>See also: <code>fl.abs</code>.</p>
<h3 data-number="2.11.50" id="fl.sin-procedure1"><span class="header-section-number">2.11.50</span> <code>fl.sin</code> : procedure/1</h3>
<p>Usage: <code>(fl.sin x) =&gt; fl</code></p>
<p>Return the sine of <code>x.</code></p>
<p>See also: <code>fl.cos</code>.</p>
<h3 data-number="2.11.51" id="fl.sinh-procedure1"><span class="header-section-number">2.11.51</span> <code>fl.sinh</code> : procedure/1</h3>
<p>Usage: <code>(fl.sinh x) =&gt; fl</code></p>
<p>Return the hyperbolic sine of <code>x.</code></p>
<p>See also: <code>fl.sin</code>.</p>
<h3 data-number="2.11.52" id="fl.sqrt-procedure1"><span class="header-section-number">2.11.52</span> <code>fl.sqrt</code> : procedure/1</h3>
<p>Usage: <code>(fl.sqrt x) =&gt; fl</code></p>
<p>Return the square root of <code>x.</code></p>
<p>See also: <code>fl.pow</code>.</p>
<h3 data-number="2.11.53" id="fl.tan-procedure1"><span class="header-section-number">2.11.53</span> <code>fl.tan</code> : procedure/1</h3>
<p>Usage: <code>(fl.tan x) =&gt; fl</code></p>
<p>Return the tangent of <code>x</code> in radian.</p>
<p>See also: <code>fl.tanh, fl.sin, fl.cos</code>.</p>
<h3 data-number="2.11.54" id="fl.tanh-procedure1"><span class="header-section-number">2.11.54</span> <code>fl.tanh</code> : procedure/1</h3>
<p>Usage: <code>(fl.tanh x) =&gt; fl</code></p>
<p>Return the hyperbolic tangent of <code>x.</code></p>
<p>See also: <code>fl.tan, flsinh, fl.cosh</code>.</p>
<h3 data-number="2.11.55" id="fl.trunc-procedure1"><span class="header-section-number">2.11.55</span> <code>fl.trunc</code> : procedure/1</h3>
<p>Usage: <code>(fl.trunc x) =&gt; fl</code></p>
<p>Return the integer value of <code>x</code> as floating point number.</p>
<p>See also: <code>truncate, int, fl.floor</code>.</p>
<h3 data-number="2.11.56" id="fl.y0-procedure1"><span class="header-section-number">2.11.56</span> <code>fl.y0</code> : procedure/1</h3>
<p>Usage: <code>(fl.y0 x) =&gt; fl</code></p>
<p>Return the order-zero Bessel function of the second kind applied to <code>x.</code></p>
<p>See also: <code>fl.y1, fl.yn, fl.j0, fl.j1, fl.jn</code>.</p>
<h3 data-number="2.11.57" id="fl.y1-procedure1"><span class="header-section-number">2.11.57</span> <code>fl.y1</code> : procedure/1</h3>
<p>Usage: <code>(fl.y1 x) =&gt; fl</code></p>
<p>Return the order-one Bessel function of the second kind applied to <code>x.</code></p>
<p>See also: <code>fl.y0, fl.yn, fl.j0, fl.j1, fl.jn</code>.</p>
<h3 data-number="2.11.58" id="fl.yn-procedure1"><span class="header-section-number">2.11.58</span> <code>fl.yn</code> : procedure/1</h3>
<p>Usage: <code>(fl.yn n x) =&gt; fl</code></p>
<p>Return the Bessel function of the second kind of order <code>n</code> applied to <code>x</code>. Argument <code>n</code> must be an integer value.</p>
<p>See also: <code>fl.y0, fl.y1, fl.j0, fl.j1, fl.jn</code>.</p>
<h2 data-number="2.12" id="help-system"><span class="header-section-number">2.12</span> Help System</h2>
<p>This section lists functions related to the built-in help system.</p>
<h3 data-number="2.12.1" id="help-dict"><span class="header-section-number">2.12.1</span> <em>help</em> : dict</h3>
<p>Usage: <code>*help*</code></p>
<p>Dict containing all help information for symbols.</p>
<p>See also: <code>help, defhelp, apropos</code>.</p>
<h3 data-number="2.12.2" id="apropos-procedure1"><span class="header-section-number">2.12.2</span> <code>apropos</code> : procedure/1</h3>
<p>Usage: <code>(apropos sym) =&gt; #li</code></p>
<p>Get a list of procedures and symbols related to <code>sym</code> from the help system.</p>
<p>See also: <code>defhelp, help-entry, help, *help*</code>.</p>
<h3 data-number="2.12.3" id="help-macro1"><span class="header-section-number">2.12.3</span> <code>help</code> : macro/1</h3>
<p>Usage: <code>(help sym)</code></p>
<p>Display help information about <code>sym</code> (unquoted).</p>
<p>See also: <code>defhelp, help-entry, *help*, apropos</code>.</p>
<h3 data-number="2.12.4" id="help-manual-entry-nil"><span class="header-section-number">2.12.4</span> help-&gt;manual-entry : nil</h3>
<p>Usage: <code>(help-&gt;manual-entry key [level]) =&gt; str</code></p>
<p>Looks up help for <code>key</code> and converts it to a manual section as markdown string. If there is no entry for <code>key</code>, then nil is returned. The optional <code>level</code> integer indicates the heading nesting.</p>
<p>See also: <code>help</code>.</p>
<h3 data-number="2.12.5" id="help-about-procedure1-or-more"><span class="header-section-number">2.12.5</span> <code>help-about</code> : procedure/1 or more</h3>
<p>Usage: <code>(help-about topic [sel]) =&gt; li</code></p>
<p>Obtain a list of symbols for which help about <code>topic</code> is available. If optional <code>sel</code> argument is left out or <code>any</code>, then any symbols with which the topic is associated are listed. If the optional <code>sel</code> argument is <code>first</code>, then a symbol is only listed if it has <code>topic</code> as first topic entry. This restricts the number of entries returned to a more essential selection.</p>
<p>See also: <code>help-topics, help, apropos</code>.</p>
<h3 data-number="2.12.6" id="help-entry-procedure1"><span class="header-section-number">2.12.6</span> <code>help-entry</code> : procedure/1</h3>
<p>Usage: <code>(help-entry sym) =&gt; list</code></p>
<p>Get usage and help information for <code>sym.</code></p>
<p>See also: <code>defhelp, help, apropos, *help*</code>.</p>
<h3 data-number="2.12.7" id="help-topic-info-procedure1"><span class="header-section-number">2.12.7</span> <code>help-topic-info</code> : procedure/1</h3>
<p>Usage: <code>(help-topic-info topic) =&gt; li</code></p>
<p>Return a list containing a heading and an info string for help <code>topic</code>, or nil if no info is available.</p>
<p>See also: <code>set-help-topic-info, defhelp, help</code>.</p>
<h3 data-number="2.12.8" id="help-topics-procedure0"><span class="header-section-number">2.12.8</span> <code>help-topics</code> : procedure/0</h3>
<p>Usage: <code>(help-topics) =&gt; li</code></p>
<p>Obtain a list of help topics for commands.</p>
<p>See also: <code>help, help-topic, apropos</code>.</p>
<h3 data-number="2.12.9" id="set-help-topic-info-procedure3"><span class="header-section-number">2.12.9</span> <code>set-help-topic-info</code> : procedure/3</h3>
<p>Usage: <code>(set-help-topic-info topic header info)</code></p>
<p>Set a human-readable information entry for help <code>topic</code> with human-readable <code>header</code> and <code>info</code> strings.</p>
<p>See also: <code>defhelp, help-topic-info</code>.</p>
<h2 data-number="2.13" id="soundex-metaphone-etc."><span class="header-section-number">2.13</span> Soundex, Metaphone, etc.</h2>
<p>The package <code>ling</code> provides various phonemic transcription functions like Soundex and Metaphone that are commonly used for fuzzy search and similarity comparisons between strings.</p>
<h3 data-number="2.13.1" id="ling.damerau-levenshtein-procedure2"><span class="header-section-number">2.13.1</span> <code>ling.damerau-levenshtein</code> : procedure/2</h3>
<p>Usage: <code>(ling.damerau-levenshtein s1 s2) =&gt; num</code></p>
<p>Compute the Damerau-Levenshtein distance between <code>s1</code> and <code>s2.</code></p>
<p>See also: <code>ling.match-rating-compare, ling.levenshtein, ling.jaro-winkler, ling.jaro, ling.hamming, ling.match-rating-codex, ling.porter, ling.nysiis, ling.metaphone, ling.soundex</code>.</p>
<h3 data-number="2.13.2" id="ling.hamming-procedure2"><span class="header-section-number">2.13.2</span> <code>ling.hamming</code> : procedure/2</h3>
<p>Usage: <code>(ling-hamming s1 s2) =&gt; num</code></p>
<p>Compute the Hamming distance between <code>s1</code> and <code>s2.</code></p>
<p>See also: <code>ling.match-rating-compare, ling.levenshtein, ling.jaro-winkler, ling.jaro, ling.damerau-levenshtein, ling.match-rating-codex, ling.porter, ling.nysiis, ling.metaphone, ling.soundex</code>.</p>
<h3 data-number="2.13.3" id="ling.jaro-procedure2"><span class="header-section-number">2.13.3</span> <code>ling.jaro</code> : procedure/2</h3>
<p>Usage: <code>(ling.jaro s1 s2) =&gt; num</code></p>
<p>Compute the Jaro distance between <code>s1</code> and <code>s2.</code></p>
<p>See also: <code>ling.match-rating-compare, ling.levenshtein, ling.jaro-winkler, ling.hamming, ling.damerau-levenshtein, ling.match-rating-codex, ling.porter, ling.nysiis, ling.metaphone, ling.soundex</code>.</p>
<h3 data-number="2.13.4" id="ling.jaro-winkler-procedure2"><span class="header-section-number">2.13.4</span> <code>ling.jaro-winkler</code> : procedure/2</h3>
<p>Usage: <code>(ling.jaro-winkler s1 s2) =&gt; num</code></p>
<p>Compute the Jaro-Winkler distance between <code>s1</code> and <code>s2.</code></p>
<p>See also: <code>ling.match-rating-compare, ling.levenshtein, ling.jaro, ling.hamming, ling.damerau-levenshtein, ling.match-rating-codex, ling.porter, ling.nysiis, ling.metaphone, ling.soundex</code>.</p>
<h3 data-number="2.13.5" id="ling.levenshtein-procedure2"><span class="header-section-number">2.13.5</span> <code>ling.levenshtein</code> : procedure/2</h3>
<p>Usage: <code>(ling.levenshtein s1 s2) =&gt; num</code></p>
<p>Compute the Levenshtein distance between <code>s1</code> and <code>s2.</code></p>
<p>See also: <code>ling.match-rating-compare, ling.jaro-winkler, ling.jaro, ling.hamming, ling.damerau-levenshtein, ling.match-rating-codex, ling.porter, ling.nysiis, ling.metaphone, ling.soundex</code>.</p>
<h3 data-number="2.13.6" id="ling.match-rating-codex-procedure1"><span class="header-section-number">2.13.6</span> <code>ling.match-rating-codex</code> : procedure/1</h3>
<p>Usage: <code>(ling.match-rating-codex s) =&gt; str</code></p>
<p>Compute the Match-Rating-Codex of string <code>s.</code></p>
<p>See also: <code>ling.match-rating-compare, ling.levenshtein, ling.jaro-winkler, ling.jaro, ling.hamming, ling.damerau-levenshtein, ling.porter, ling.nysiis, ling.metaphone, ling.soundex</code>.</p>
<h3 data-number="2.13.7" id="ling.match-rating-compare-procedure2"><span class="header-section-number">2.13.7</span> <code>ling.match-rating-compare</code> : procedure/2</h3>
<p>Usage: <code>(ling.match-rating-compare s1 s2) =&gt; bool</code></p>
<p>Returns true if <code>s1</code> and <code>s2</code> are equal according to the Match-rating Comparison algorithm, nil otherwise.</p>
<p>See also: <code>ling.match-rating-compare, ling.levenshtein, ling.jaro-winkler, ling.jaro, ling.hamming, ling.damerau-levenshtein, ling.match-rating-codex, ling.porter, ling.nysiis, ling.metaphone, ling.soundex</code>.</p>
<h3 data-number="2.13.8" id="ling.metaphone-procedure1"><span class="header-section-number">2.13.8</span> <code>ling.metaphone</code> : procedure/1</h3>
<p>Usage: <code>(ling.metaphone s) =&gt; str</code></p>
<p>Compute the Metaphone representation of string <code>s.</code></p>
<p>See also: <code>ling.match-rating-compare, ling.levenshtein, ling.jaro-winkler, ling.jaro, ling.hamming, ling.damerau-levenshtein, ling.match-rating-codex, ling.porter, ling.nysiis, ling.soundex</code>.</p>
<h3 data-number="2.13.9" id="ling.nysiis-procedure1"><span class="header-section-number">2.13.9</span> <code>ling.nysiis</code> : procedure/1</h3>
<p>Usage: <code>(ling.nysiis s) =&gt; str</code></p>
<p>Compute the Nysiis representation of string <code>s.</code></p>
<p>See also: <code>ling.match-rating-compare, ling.levenshtein, ling.jaro-winkler, ling.jaro, ling.hamming, ling.damerau-levenshtein, ling.match-rating-codex, ling.porter, ling.metaphone, ling.soundex</code>.</p>
<h3 data-number="2.13.10" id="ling.porter-procedure1"><span class="header-section-number">2.13.10</span> <code>ling.porter</code> : procedure/1</h3>
<p>Usage: <code>(ling.porter s) =&gt; str</code></p>
<p>Compute the stem of word string <code>s</code> using the Porter stemming algorithm.</p>
<p>See also: <code>ling.match-rating-compare, ling.levenshtein, ling.jaro-winkler, ling.jaro, ling.hamming, ling.damerau-levenshtein, ling.match-rating-codex, ling.nysiis, ling.metaphone, ling.soundex</code>.</p>
<h3 data-number="2.13.11" id="ling.soundex-procedure1"><span class="header-section-number">2.13.11</span> <code>ling.soundex</code> : procedure/1</h3>
<p>Usage: <code>(ling.soundex s) =&gt; str</code></p>
<p>Compute the Soundex representation of string <code>s.</code></p>
<p>See also: <code>ling.match-rating-compare, ling.levenshtein, ling.jaro-winkler, ling.jaro, ling.hamming, ling.damerau-levenshtein, ling.match-rating-codex, ling.porter, ling.nysiis, ling.metaphone, ling.soundex</code>.</p>
<h2 data-number="2.14" id="lisp---traditional-lisp-functions"><span class="header-section-number">2.14</span> Lisp - Traditional Lisp Functions</h2>
<p>This section comprises a large number of list processing functions as well the standard control flow macros and functions you’d expect in a Lisp system.</p>
<h3 data-number="2.14.1" id="alist-procedure1"><span class="header-section-number">2.14.1</span> <code>alist?</code> : procedure/1</h3>
<p>Usage: <code>(alist? li) =&gt; bool</code></p>
<p>Return true if <code>li</code> is an association list, nil otherwise. This also works for a-lists where each element is a pair rather than a full list.</p>
<p>See also: <code>assoc</code>.</p>
<h3 data-number="2.14.2" id="and-macro0-or-more"><span class="header-section-number">2.14.2</span> <code>and</code> : macro/0 or more</h3>
<p>Usage: <code>(and expr1 expr2 ...) =&gt; any</code></p>
<p>Evaluate <code>expr1</code> and if it is not nil, then evaluate <code>expr2</code> and if it is not nil, evaluate the next expression, until all expressions have been evaluated. This is a shortcut logical and.</p>
<p>See also: <code>or</code>.</p>
<h3 data-number="2.14.3" id="append-procedure1-or-more"><span class="header-section-number">2.14.3</span> <code>append</code> : procedure/1 or more</h3>
<p>Usage: <code>(append li1 li2 ...) =&gt; li</code></p>
<p>Concatenate the lists given as arguments.</p>
<p>See also: <code>cons</code>.</p>
<h3 data-number="2.14.4" id="apply-procedure2"><span class="header-section-number">2.14.4</span> <code>apply</code> : procedure/2</h3>
<p>Usage: <code>(apply proc arg) =&gt; any</code></p>
<p>Apply function <code>proc</code> to argument list <code>arg.</code></p>
<p>See also: <code>functional?</code>.</p>
<h3 data-number="2.14.5" id="assoc-procedure2"><span class="header-section-number">2.14.5</span> <code>assoc</code> : procedure/2</h3>
<p>Usage: <code>(assoc key alist) =&gt; li</code></p>
<p>Return the sublist of <code>alist</code> that starts with <code>key</code> if there is any, nil otherwise. Testing is done with equal?. An association list may be of the form ((key1 value1)(key2 value2)…) or ((key1 . value1) (key2 . value2) …)</p>
<p>See also: <code>assoc, assoc1, alist?, eq?, equal?</code>.</p>
<h3 data-number="2.14.6" id="assoc1-procedure2"><span class="header-section-number">2.14.6</span> <code>assoc1</code> : procedure/2</h3>
<p>Usage: <code>(assoc1 sym li) =&gt; any</code></p>
<p>Get the second element in the first sublist in <code>li</code> that starts with <code>sym</code>. This is equivalent to (cadr (assoc sym li)).</p>
<p>See also: <code>assoc, alist?</code>.</p>
<h3 data-number="2.14.7" id="assq-procedure2"><span class="header-section-number">2.14.7</span> <code>assq</code> : procedure/2</h3>
<p>Usage: <code>(assq key alist) =&gt; li</code></p>
<p>Return the sublist of <code>alist</code> that starts with <code>key</code> if there is any, nil otherwise. Testing is done with eq?. An association list may be of the form ((key1 value1)(key2 value2)…) or ((key1 . value1) (key2 . value2) …)</p>
<p>See also: <code>assoc, assoc1, eq?, alist?, equal?</code>.</p>
<h3 data-number="2.14.8" id="atom-procedure1"><span class="header-section-number">2.14.8</span> <code>atom?</code> : procedure/1</h3>
<p>Usage: <code>(atom? x) =&gt; bool</code></p>
<p>Return true if <code>x</code> is an atomic value, nil otherwise. Atomic values are numbers and symbols.</p>
<p>See also: <code>sym?</code>.</p>
<h3 data-number="2.14.9" id="build-list-procedure2"><span class="header-section-number">2.14.9</span> <code>build-list</code> : procedure/2</h3>
<p>Usage: <code>(build-list n proc) =&gt; list</code></p>
<p>Build a list with <code>n</code> elements by applying <code>proc</code> to the counter <code>n</code> each time.</p>
<p>See also: <code>list, list?, map, foreach</code>.</p>
<h3 data-number="2.14.10" id="caaar-procedure1"><span class="header-section-number">2.14.10</span> <code>caaar</code> : procedure/1</h3>
<p>Usage: <code>(caaar x) =&gt; any</code></p>
<p>Equivalent to (car (car (car <code>x</code>))).</p>
<p>See also: <code>car, cdr, caar, cadr, cdar, cddr, caadr, cadar, caddr, cdaar, cdadr, cddar, cdddr, nth, 1st, 2nd, 3rd</code>.</p>
<h3 data-number="2.14.11" id="caadr-procedure1"><span class="header-section-number">2.14.11</span> <code>caadr</code> : procedure/1</h3>
<p>Usage: <code>(caadr x) =&gt; any</code></p>
<p>Equivalent to (car (car (cdr <code>x</code>))).</p>
<p>See also: <code>car, cdr, caar, cadr, cdar, cddr, caaar, cadar, caddr, cdaar, cdadr, cddar, cdddr, nth, 1st, 2nd, 3rd</code>.</p>
<h3 data-number="2.14.12" id="caar-procedure1"><span class="header-section-number">2.14.12</span> <code>caar</code> : procedure/1</h3>
<p>Usage: <code>(caar x) =&gt; any</code></p>
<p>Equivalent to (car (car <code>x</code>)).</p>
<p>See also: <code>car, cdr, cadr, cdar, cddr, caaar, caadr, cadar, caddr, cdaar, cdadr, cddar, cdddr, nth, 1st, 2nd, 3rd</code>.</p>
<h3 data-number="2.14.13" id="cadar-procedure1"><span class="header-section-number">2.14.13</span> <code>cadar</code> : procedure/1</h3>
<p>Usage: <code>(cadar x) =&gt; any</code></p>
<p>Equivalent to (car (cdr (car <code>x</code>))).</p>
<p>See also: <code>car, cdr, caar, cadr, cdar, cddr, caaar, caadr, caddr, cdaar, cdadr, cddar, cdddr, nth, 1st, 2nd, 3rd</code>.</p>
<h3 data-number="2.14.14" id="caddr-procedure1"><span class="header-section-number">2.14.14</span> <code>caddr</code> : procedure/1</h3>
<p>Usage: <code>(caddr x) =&gt; any</code></p>
<p>Equivalent to (car (cdr (cdr <code>x</code>))).</p>
<p>See also: <code>car, cdr, caar, cadr, cdar, cddr, caaar, caadr, cadar, cdaar, cdadr, cddar, cdddr, nth, 1st, 2nd, 3rd</code>.</p>
<h3 data-number="2.14.15" id="cadr-procedure1"><span class="header-section-number">2.14.15</span> <code>cadr</code> : procedure/1</h3>
<p>Usage: <code>(cadr x) =&gt; any</code></p>
<p>Equivalent to (car (cdr <code>x</code>)).</p>
<p>See also: <code>car, cdr, caar, cdar, cddr, caaar, caadr, cadar, caddr, cdaar, cdadr, cddar, cdddr, nth, 1st, 2nd, 3rd</code>.</p>
<h3 data-number="2.14.16" id="car-procedure1"><span class="header-section-number">2.14.16</span> <code>car</code> : procedure/1</h3>
<p>Usage: <code>(car li) =&gt; any</code></p>
<p>Get the first element of a list or pair <code>li</code>, an error if there is not first element.</p>
<p>See also: <code>list, list?, pair?</code>.</p>
<h3 data-number="2.14.17" id="case-macro2-or-more"><span class="header-section-number">2.14.17</span> <code>case</code> : macro/2 or more</h3>
<p>Usage: <code>(case expr (clause1 ... clausen)) =&gt; any</code></p>
<p>Standard case macro, where you should use t for the remaining alternative. Example: (case (get dict ’key) ((a b) (out “a or b”))(t (out “something else!”))).</p>
<p>See also: <code>cond</code>.</p>
<h3 data-number="2.14.18" id="cdaar-procedure1"><span class="header-section-number">2.14.18</span> <code>cdaar</code> : procedure/1</h3>
<p>Usage: <code>(cdaar x) =&gt; any</code></p>
<p>Equivalent to (cdr (car (car <code>x</code>))).</p>
<p>See also: <code>car, cdr, caar, cadr, cdar, cddr, caaar, caadr, cadar, caddr, cdadr, cddar, cdddr, nth, 1st, 2nd, 3rd</code>.</p>
<h3 data-number="2.14.19" id="cdadr-procedure1"><span class="header-section-number">2.14.19</span> <code>cdadr</code> : procedure/1</h3>
<p>Usage: <code>(cdadr x) =&gt; any</code></p>
<p>Equivalent to (cdr (car (cdr <code>x</code>))).</p>
<p>See also: <code>car, cdr, caar, cadr, cdar, cddr, caaar, caadr, cadar, caddr, cdaar, cddar, cdddr, nth, 1st, 2nd, 3rd</code>.</p>
<h3 data-number="2.14.20" id="cdar-procedure1"><span class="header-section-number">2.14.20</span> <code>cdar</code> : procedure/1</h3>
<p>Usage: <code>(cdar x) =&gt; any</code></p>
<p>Equivalent to (cdr (car <code>x</code>)).</p>
<p>See also: <code>car, cdr, caar, cadr, cddr, caaar, caadr, cadar, caddr, cdaar, cdadr, cddar, cdddr, nth, 1st, 2nd, 3rd</code>.</p>
<h3 data-number="2.14.21" id="cddar-procedure1"><span class="header-section-number">2.14.21</span> <code>cddar</code> : procedure/1</h3>
<p>Usage: <code>(cddar x) =&gt; any</code></p>
<p>Equivalent to (cdr (cdr (car <code>x</code>))).</p>
<p>See also: <code>car, cdr, caar, cadr, cdar, cddr, caaar, caadr, cadar, caddr, cdaar, cdadr, cdddr, nth, 1st, 2nd, 3rd</code>.</p>
<h3 data-number="2.14.22" id="cdddr-procedure1"><span class="header-section-number">2.14.22</span> <code>cdddr</code> : procedure/1</h3>
<p>Usage: <code>(cdddr x) =&gt; any</code></p>
<p>Equivalent to (cdr (cdr (cdr <code>x</code>))).</p>
<p>See also: <code>car, cdr, caar, cadr, cdar, cddr, caaar, caadr, cadar, caddr, cdaar, cdadr, cddar, nth, 1st, 2nd, 3rd</code>.</p>
<h3 data-number="2.14.23" id="cddr-procedure1"><span class="header-section-number">2.14.23</span> <code>cddr</code> : procedure/1</h3>
<p>Usage: <code>(cddr x) =&gt; any</code></p>
<p>Equivalent to (cdr (cdr <code>x</code>)).</p>
<p>See also: <code>car, cdr, caar, cadr, cdar, caaar, caadr, cadar, caddr, cdaar, cdadr, cddar, cdddr, nth, 1st, 2nd, 3rd</code>.</p>
<h3 data-number="2.14.24" id="cdr-procedure1"><span class="header-section-number">2.14.24</span> <code>cdr</code> : procedure/1</h3>
<p>Usage: <code>(cdr li) =&gt; any</code></p>
<p>Get the rest of a list <code>li</code>. If the list is proper, the cdr is a list. If it is a pair, then it may be an element. If the list is empty, nil is returned.</p>
<p>See also: <code>car, list, list?, pair?</code>.</p>
<h3 data-number="2.14.25" id="cond-special-form"><span class="header-section-number">2.14.25</span> cond : special form</h3>
<p>Usage: <code>(cond ((test1 expr1 ...) (test2 expr2 ...) ...) =&gt; any</code></p>
<p>Evaluate the tests sequentially and execute the expressions after the test when a test is true. To express the else case, use (t exprn …) at the end of the cond-clauses to execute <code>exprn</code>…</p>
<p>See also: <code>if, when, unless</code>.</p>
<h3 data-number="2.14.26" id="cons-procedure2"><span class="header-section-number">2.14.26</span> <code>cons</code> : procedure/2</h3>
<p>Usage: <code>(cons a b) =&gt; pair</code></p>
<p>Cons two values into a pair. If <code>b</code> is a list, the result is a list. Otherwise the result is a pair.</p>
<p>See also: <code>cdr, car, list?, pair?</code>.</p>
<h3 data-number="2.14.27" id="cons-procedure1"><span class="header-section-number">2.14.27</span> <code>cons?</code> : procedure/1</h3>
<p>Usage: <code>(cons? x) =&gt; bool</code></p>
<p>return true if <code>x</code> is not an atom, nil otherwise.</p>
<p>See also: <code>atom?</code>.</p>
<h3 data-number="2.14.28" id="count-partitions-procedure2"><span class="header-section-number">2.14.28</span> <code>count-partitions</code> : procedure/2</h3>
<p>Usage: <code>(count-partitions m k) =&gt; int</code></p>
<p>Return the number of partitions for divding <code>m</code> items into parts of size <code>k</code> or less, where the size of the last partition may be less than <code>k</code> but the remaining ones have size <code>k.</code></p>
<p>See also: <code>nth-partition, get-partitions</code>.</p>
<h3 data-number="2.14.29" id="defmacro-macro2-or-more"><span class="header-section-number">2.14.29</span> <code>defmacro</code> : macro/2 or more</h3>
<p>Usage: <code>(defmacro name args body ...)</code></p>
<p>Define a macro <code>name</code> with argument list <code>args</code> and <code>body</code>. Macros are expanded at compile-time.</p>
<p>See also: <code>macro</code>.</p>
<h3 data-number="2.14.30" id="dolist-macro1-or-more"><span class="header-section-number">2.14.30</span> <code>dolist</code> : macro/1 or more</h3>
<p>Usage: <code>(dolist (name list [result]) body ...) =&gt; li</code></p>
<p>Traverse the list <code>list</code> in order, binding <code>name</code> to each element subsequently and evaluate the <code>body</code> expressions with this binding. The optional <code>result</code> is the result of the traversal, nil if it is not provided.</p>
<p>See also: <code>letrec, foreach, map</code>.</p>
<h3 data-number="2.14.31" id="dotimes-macro1-or-more"><span class="header-section-number">2.14.31</span> <code>dotimes</code> : macro/1 or more</h3>
<p>Usage: <code>(dotimes (name count [result]) body ...) =&gt; any</code></p>
<p>Iterate <code>count</code> times, binding <code>name</code> to the counter starting from 0 until the counter has reached count-1, and evaluate the <code>body</code> expressions each time with this binding. The optional <code>result</code> is the result of the iteration, nil if it is not provided.</p>
<p>See also: <code>letrec, dolist, while</code>.</p>
<h3 data-number="2.14.32" id="equal-procedure2"><span class="header-section-number">2.14.32</span> <code>equal?</code> : procedure/2</h3>
<p>Usage: <code>(equal? x y) =&gt; bool</code></p>
<p>Return true if <code>x</code> and <code>y</code> are equal, nil otherwise. The equality is tested recursively for containers like lists and arrays.</p>
<p>See also: <code>eq?, eql?</code>.</p>
<h3 data-number="2.14.33" id="filter-procedure2"><span class="header-section-number">2.14.33</span> <code>filter</code> : procedure/2</h3>
<p>Usage: <code>(filter li pred) =&gt; li</code></p>
<p>Return the list based on <code>li</code> with each element removed for which <code>pred</code> returns nil.</p>
<p>See also: <code>list</code>.</p>
<h3 data-number="2.14.34" id="flatten-procedure1"><span class="header-section-number">2.14.34</span> <code>flatten</code> : procedure/1</h3>
<p>Usage: <code>(flatten lst) =&gt; list</code></p>
<p>Flatten <code>lst</code>, making all elements of sublists elements of the flattened list.</p>
<p>See also: <code>car, cdr, remove-duplicates</code>.</p>
<h3 data-number="2.14.35" id="get-partitions-procedure2"><span class="header-section-number">2.14.35</span> <code>get-partitions</code> : procedure/2</h3>
<p>Usage: <code>(get-partitions x n) =&gt; proc/1*</code></p>
<p>Return an iterator procedure that returns lists of the form (start-offset end-offset bytes) with 0-index offsets for a given index <code>k</code>, or nil if there is no corresponding part, such that the sizes of the partitions returned in <code>bytes</code> summed up are <code>x</code> and and each partition is <code>n</code> or lower in size. The last partition will be the smallest partition with a <code>bytes</code> value smaller than <code>n</code> if <code>x</code> is not dividable without rest by <code>n</code>. If no argument is provided for the returned iterator, then it returns the number of partitions.</p>
<p>See also: <code>nth-partition, count-partitions, get-file-partitions, iterate</code>.</p>
<h3 data-number="2.14.36" id="identity-procedure1"><span class="header-section-number">2.14.36</span> <code>identity</code> : procedure/1</h3>
<p>Usage: <code>(identity x)</code></p>
<p>Return <code>x.</code></p>
<p>See also: <code>apply, equal?</code>.</p>
<h3 data-number="2.14.37" id="if-macro3"><span class="header-section-number">2.14.37</span> <code>if</code> : macro/3</h3>
<p>Usage: <code>(if cond expr1 expr2) =&gt; any</code></p>
<p>Evaluate <code>expr1</code> if <code>cond</code> is true, otherwise evaluate <code>expr2.</code></p>
<p>See also: <code>cond, when, unless</code>.</p>
<h3 data-number="2.14.38" id="iterate-procedure2"><span class="header-section-number">2.14.38</span> <code>iterate</code> : procedure/2</h3>
<p>Usage: <code>(iterate it proc)</code></p>
<p>Apply <code>proc</code> to each argument returned by iterator <code>it</code> in sequence, similar to the way foreach works. An iterator is a procedure that takes one integer as argument or no argument at all. If no argument is provided, the iterator returns the number of iterations. If an integer is provided, the iterator returns a non-nil value for the given index.</p>
<p>See also: <code>foreach, get-partitions</code>.</p>
<h3 data-number="2.14.39" id="lambda-special-form"><span class="header-section-number">2.14.39</span> lambda : special form</h3>
<p>Usage: <code>(lambda args body ...) =&gt; closure</code></p>
<p>Form a function closure (lambda term) with argument list in <code>args</code> and body expressions <code>body.</code></p>
<p>See also: <code>defun, functional?, macro?, closure?</code>.</p>
<h3 data-number="2.14.40" id="lcons-procedure2"><span class="header-section-number">2.14.40</span> <code>lcons</code> : procedure/2</h3>
<p>Usage: <code>(lcons datum li) =&gt; list</code></p>
<p>Insert <code>datum</code> at the end of the list <code>li</code>. There may be a more efficient implementation of this in the future. Or, maybe not. Who knows?</p>
<p>See also: <code>cons, list, append, nreverse</code>.</p>
<h3 data-number="2.14.41" id="let-macro1-or-more"><span class="header-section-number">2.14.41</span> <code>let</code> : macro/1 or more</h3>
<p>Usage: <code>(let args body ...) =&gt; any</code></p>
<p>Bind each pair of symbol and expression in <code>args</code> and evaluate the expressions in <code>body</code> with these local bindings. Return the value of the last expression in <code>body.</code></p>
<p>See also: <code>letrec</code>.</p>
<h3 data-number="2.14.42" id="letrec-macro1-or-more"><span class="header-section-number">2.14.42</span> <code>letrec</code> : macro/1 or more</h3>
<p>Usage: <code>(letrec args body ...) =&gt; any</code></p>
<p>Recursive let binds the symbol, expression pairs in <code>args</code> in a way that makes prior bindings available to later bindings and allows for recursive definitions in <code>args</code>, then evaluates the <code>body</code> expressions with these bindings.</p>
<p>See also: <code>let</code>.</p>
<h3 data-number="2.14.43" id="list-procedure0-or-more"><span class="header-section-number">2.14.43</span> <code>list</code> : procedure/0 or more</h3>
<p>Usage: <code>(list [args] ...) =&gt; li</code></p>
<p>Create a list from all <code>args</code>. The arguments must be quoted.</p>
<p>See also: <code>cons</code>.</p>
<h3 data-number="2.14.44" id="list-exists-procedure2"><span class="header-section-number">2.14.44</span> <code>list-exists?</code> : procedure/2</h3>
<p>Usage: <code>(list-exists? li pred) =&gt; bool</code></p>
<p>Return true if <code>pred</code> returns true for at least one element in list <code>li</code>, nil otherwise.</p>
<p>See also: <code>exists?, forall?, array-exists?, str-exists?, seq?</code>.</p>
<h3 data-number="2.14.45" id="list-forall-procedure2"><span class="header-section-number">2.14.45</span> <code>list-forall?</code> : procedure/2</h3>
<p>Usage: <code>(list-all? li pred) =&gt; bool</code></p>
<p>Return true if predicate <code>pred</code> returns true for all elements of list <code>li</code>, nil otherwise.</p>
<p>See also: <code>foreach, map, forall?, array-forall?, str-forall?, exists?</code>.</p>
<h3 data-number="2.14.46" id="list-foreach-procedure2"><span class="header-section-number">2.14.46</span> <code>list-foreach</code> : procedure/2</h3>
<p>Usage: <code>(list-foreach li proc)</code></p>
<p>Apply <code>proc</code> to each element of list <code>li</code> in order, for the side effects.</p>
<p>See also: <code>mapcar, map, foreach</code>.</p>
<h3 data-number="2.14.47" id="list-last-procedure1"><span class="header-section-number">2.14.47</span> <code>list-last</code> : procedure/1</h3>
<p>Usage: <code>(list-last li) =&gt; any</code></p>
<p>Return the last element of <code>li.</code></p>
<p>See also: <code>reverse, nreverse, car, 1st, last</code>.</p>
<h3 data-number="2.14.48" id="list-ref-procedure2"><span class="header-section-number">2.14.48</span> <code>list-ref</code> : procedure/2</h3>
<p>Usage: <code>(list-ref li n) =&gt; any</code></p>
<p>Return the element with index <code>n</code> of list <code>li</code>. Lists are 0-indexed.</p>
<p>See also: <code>array-ref, nth</code>.</p>
<h3 data-number="2.14.49" id="list-reverse-procedure1"><span class="header-section-number">2.14.49</span> <code>list-reverse</code> : procedure/1</h3>
<p>Usage: <code>(list-reverse li) =&gt; li</code></p>
<p>Create a reversed copy of <code>li.</code></p>
<p>See also: <code>reverse, array-reverse, str-reverse</code>.</p>
<h3 data-number="2.14.50" id="list-slice-procedure3"><span class="header-section-number">2.14.50</span> <code>list-slice</code> : procedure/3</h3>
<p>Usage: <code>(list-slice li low high) =&gt; li</code></p>
<p>Return the slice of the list <code>li</code> starting at index <code>low</code> (inclusive) and ending at index <code>high</code> (exclusive).</p>
<p>See also: <code>slice, array-slice</code>.</p>
<h3 data-number="2.14.51" id="list-procedure1"><span class="header-section-number">2.14.51</span> <code>list?</code> : procedure/1</h3>
<p>Usage: <code>(list? obj) =&gt; bool</code></p>
<p>Return true if <code>obj</code> is a list, nil otherwise.</p>
<p>See also: <code>cons?, atom?, null?</code>.</p>
<h3 data-number="2.14.52" id="macro-special-form"><span class="header-section-number">2.14.52</span> macro : special form</h3>
<p>Usage: <code>(macro args body ...) =&gt; macro</code></p>
<p>Like a lambda term but the <code>body</code> expressions are macro-expanded at compile time instead of runtime.</p>
<p>See also: <code>defun, lambda, funcional?, macro?, closure?</code>.</p>
<h3 data-number="2.14.53" id="mapcar-procedure2"><span class="header-section-number">2.14.53</span> <code>mapcar</code> : procedure/2</h3>
<p>Usage: <code>(mapcar li proc) =&gt; li</code></p>
<p>Return the list obtained from applying <code>proc</code> to each elements in <code>li.</code></p>
<p>See also: <code>map, foreach</code>.</p>
<h3 data-number="2.14.54" id="member-procedure2"><span class="header-section-number">2.14.54</span> <code>member</code> : procedure/2</h3>
<p>Usage: <code>(member key li) =&gt; li</code></p>
<p>Return the cdr of <code>li</code> starting with <code>key</code> if <code>li</code> contains an element equal? to <code>key</code>, nil otherwise.</p>
<p>See also: <code>assoc, equal?</code>.</p>
<h3 data-number="2.14.55" id="memq-procedure2"><span class="header-section-number">2.14.55</span> <code>memq</code> : procedure/2</h3>
<p>Usage: <code>(memq key li)</code></p>
<p>Return the cdr of <code>li</code> starting with <code>key</code> if <code>li</code> contains an element eq? to <code>key</code>, nil otherwise.</p>
<p>See also: <code>member, eq?</code>.</p>
<h3 data-number="2.14.56" id="nconc-procedure0-or-more"><span class="header-section-number">2.14.56</span> <code>nconc</code> : procedure/0 or more</h3>
<p>Usage: <code>(nconc li1 li2 ...) =&gt; li</code></p>
<p>Concatenate <code>li1</code>, <code>li2</code>, and so forth, like with append, but destructively modifies <code>li1.</code></p>
<p>See also: <code>append</code>.</p>
<h3 data-number="2.14.57" id="not-procedure1"><span class="header-section-number">2.14.57</span> <code>not</code> : procedure/1</h3>
<p>Usage: <code>(not x) =&gt; bool</code></p>
<p>Return true if <code>x</code> is nil, nil otherwise.</p>
<p>See also: <code>and, or</code>.</p>
<h3 data-number="2.14.58" id="nreverse-procedure1"><span class="header-section-number">2.14.58</span> <code>nreverse</code> : procedure/1</h3>
<p>Usage: <code>(nreverse li) =&gt; li</code></p>
<p>Destructively reverse <code>li.</code></p>
<p>See also: <code>reverse</code>.</p>
<h3 data-number="2.14.59" id="nth-partition-procedure3"><span class="header-section-number">2.14.59</span> <code>nth-partition</code> : procedure/3</h3>
<p>Usage: <code>(nth-partition m k idx) =&gt; li</code></p>
<p>Return a list of the form (start-offset end-offset bytes) for the partition with index <code>idx</code> of <code>m</code> into parts of size <code>k</code>. The index <code>idx</code> as well as the start- and end-offsets are 0-based.</p>
<p>See also: <code>count-partitions, get-partitions</code>.</p>
<h3 data-number="2.14.60" id="null-procedure1"><span class="header-section-number">2.14.60</span> <code>null?</code> : procedure/1</h3>
<p>Usage: <code>(null? li) =&gt; bool</code></p>
<p>Return true if <code>li</code> is nil, nil otherwise.</p>
<p>See also: <code>not, list?, cons?</code>.</p>
<h3 data-number="2.14.61" id="num-procedure1"><span class="header-section-number">2.14.61</span> <code>num?</code> : procedure/1</h3>
<p>Usage: <code>(num? n) =&gt; bool</code></p>
<p>Return true if <code>n</code> is a number (exact or inexact), nil otherwise.</p>
<p>See also: <code>str?, atom?, sym?, closure?, intrinsic?, macro?</code>.</p>
<h3 data-number="2.14.62" id="or-macro0-or-more"><span class="header-section-number">2.14.62</span> <code>or</code> : macro/0 or more</h3>
<p>Usage: <code>(or expr1 expr2 ...) =&gt; any</code></p>
<p>Evaluate the expressions until one of them is not nil. This is a logical shortcut or.</p>
<p>See also: <code>and</code>.</p>
<h3 data-number="2.14.63" id="progn-special-form"><span class="header-section-number">2.14.63</span> progn : special form</h3>
<p>Usage: <code>(progn expr1 expr2 ...) =&gt; any</code></p>
<p>Sequentially execute the expressions <code>expr1</code>, <code>expr2</code>, and so forth, and return the value of the last expression.</p>
<p>See also: <code>defun, lambda, cond</code>.</p>
<h3 data-number="2.14.64" id="quasiquote-special-form"><span class="header-section-number">2.14.64</span> quasiquote : special form</h3>
<p>Usage: <code>(quasiquote li)</code></p>
<p>Quote <code>li</code>, except that values in <code>li</code> may be unquoted (~evaluated) when prefixed with “,” and embedded lists can be unquote-spliced by prefixing them with unquote-splice “,@”. An unquoted expression’s value is inserted directly, whereas unquote-splice inserts the values of a list in-sequence into the embedding list. Quasiquote is used in combination with gensym to define non-hygienic macros. In Z3S5 Lisp, “,” and “,@” are syntactic markers and there are no corresponding unquote and unquote-splice functions. The shortcut for quasiquote is “`”.</p>
<p>See also: <code>quote, gensym, macro, defmacro</code>.</p>
<h3 data-number="2.14.65" id="quote-special-form"><span class="header-section-number">2.14.65</span> quote : special form</h3>
<p>Usage: <code>(quote x)</code></p>
<p>Quote symbol <code>x</code>, so it evaluates to <code>x</code> instead of the value bound to it. Syntactic shortcut is ’.</p>
<p>See also: <code>quasiquote</code>.</p>
<h3 data-number="2.14.66" id="replacd-procedure2"><span class="header-section-number">2.14.66</span> <code>replacd</code> : procedure/2</h3>
<p>Usage: <code>(rplacd li1 li2) =&gt; li</code></p>
<p>Destructively replace the cdr of <code>li1</code> with <code>li2</code> and return the result afterwards.</p>
<p>See also: <code>rplaca</code>.</p>
<h3 data-number="2.14.67" id="rplaca-procedure2"><span class="header-section-number">2.14.67</span> <code>rplaca</code> : procedure/2</h3>
<p>Usage: <code>(rplaca li a) =&gt; li</code></p>
<p>Destructively mutate <code>li</code> such that its car is <code>a</code>, return the list afterwards.</p>
<p>See also: <code>rplacd</code>.</p>
<h3 data-number="2.14.68" id="setcar-procedure1"><span class="header-section-number">2.14.68</span> <code>setcar</code> : procedure/1</h3>
<p>Usage: <code>(setcar li elem) =&gt; li</code></p>
<p>Mutate <code>li</code> such that its car is <code>elem</code>. Same as rplaca.</p>
<p>See also: <code>rplaca, rplacd, setcdr</code>.</p>
<h3 data-number="2.14.69" id="setcdr-procedure1"><span class="header-section-number">2.14.69</span> <code>setcdr</code> : procedure/1</h3>
<p>Usage: <code>(setcdr li1 li2) =&gt; li</code></p>
<p>Mutate <code>li1</code> such that its cdr is <code>li2</code>. Same as rplacd.</p>
<p>See also: <code>rplacd, rplaca, setcar</code>.</p>
<h3 data-number="2.14.70" id="setq-special-form"><span class="header-section-number">2.14.70</span> setq : special form</h3>
<p>Usage: <code>(setq sym1 value1 ...)</code></p>
<p>Set <code>sym1</code> (without need for quoting it) to <code>value</code>, and so forth for any further symbol, value pairs.</p>
<p>See also: <code>bind, unbind</code>.</p>
<h3 data-number="2.14.71" id="sort-procedure2"><span class="header-section-number">2.14.71</span> <code>sort</code> : procedure/2</h3>
<p>Usage: <code>(sort li proc) =&gt; li</code></p>
<p>Sort the list <code>li</code> by the given less-than procedure <code>proc</code>, which takes two arguments and returns true if the first one is less than the second, nil otheriwse.</p>
<p>See also: <code>array-sort</code>.</p>
<h3 data-number="2.14.72" id="sort-symbols-nil"><span class="header-section-number">2.14.72</span> sort-symbols : nil</h3>
<p>Usage: <code>(sort-symbols li) =&gt; list</code></p>
<p>Sort the list of symbols <code>li</code> alphabetically.</p>
<p>See also: <code>out, dp, du, dump</code>.</p>
<h3 data-number="2.14.73" id="sym-procedure1"><span class="header-section-number">2.14.73</span> <code>sym?</code> : procedure/1</h3>
<p>Usage: <code>(sym? sym) =&gt; bool</code></p>
<p>Return true if <code>sym</code> is a symbol, nil otherwise.</p>
<p>See also: <code>str?, atom?</code>.</p>
<h3 data-number="2.14.74" id="unless-macro1-or-more"><span class="header-section-number">2.14.74</span> <code>unless</code> : macro/1 or more</h3>
<p>Usage: <code>(unless cond expr ...) =&gt; any</code></p>
<p>Evaluate expressions <code>expr</code> if <code>cond</code> is not true, returns void otherwise.</p>
<p>See also: <code>if, when, cond</code>.</p>
<h3 data-number="2.14.75" id="void-procedure0-or-more"><span class="header-section-number">2.14.75</span> <code>void</code> : procedure/0 or more</h3>
<p>Usage: <code>(void [any] ...)</code></p>
<p>Always returns void, no matter what values are given to it. Void is a special value that is not printed in the console.</p>
<p>See also: <code>void?</code>.</p>
<h3 data-number="2.14.76" id="when-macro1-or-more"><span class="header-section-number">2.14.76</span> <code>when</code> : macro/1 or more</h3>
<p>Usage: <code>(when cond expr ...) =&gt; any</code></p>
<p>Evaluate the expressions <code>expr</code> if <code>cond</code> is true, returns void otherwise.</p>
<p>See also: <code>if, cond, unless</code>.</p>
<h3 data-number="2.14.77" id="while-macro1-or-more"><span class="header-section-number">2.14.77</span> <code>while</code> : macro/1 or more</h3>
<p>Usage: <code>(while test body ...) =&gt; any</code></p>
<p>Evaluate the expressions in <code>body</code> while <code>test</code> is not nil.</p>
<p>See also: <code>letrec, dotimes, dolist</code>.</p>
<h2 data-number="2.15" id="numeric-functions"><span class="header-section-number">2.15</span> Numeric Functions</h2>
<p>This section describes functions that provide standard arithmetics for non-floating point numbers such as integers. Notice that Z3S5 Lisp uses automatic bignum support but only for select standard operations like multiplication, addition, and subtraction.</p>
<h3 data-number="2.15.1" id="procedure2"><span class="header-section-number">2.15.1</span> <code>%</code> : procedure/2</h3>
<p>Usage: <code>(% x y) =&gt; num</code></p>
<p>Compute the remainder of dividing number <code>x</code> by <code>y.</code></p>
<p>See also: <code>mod, /</code>.</p>
<h3 data-number="2.15.2" id="procedure0-or-more"><span class="header-section-number">2.15.2</span> <code>*</code> : procedure/0 or more</h3>
<p>Usage: <code>(* [args] ...) =&gt; num</code></p>
<p>Multiply all <code>args</code>. Special cases: (<em>) is 1 and (</em> x) is x.</p>
<p>See also: <code>+, -, /</code>.</p>
<h3 data-number="2.15.3" id="procedure0-or-more-1"><span class="header-section-number">2.15.3</span> <code>+</code> : procedure/0 or more</h3>
<p>Usage: <code>(+ [args] ...) =&gt; num</code></p>
<p>Sum up all <code>args</code>. Special cases: (+) is 0 and (+ x) is x.</p>
<p>See also: <code>-, *, /</code>.</p>
<h3 data-number="2.15.4" id="procedure1-or-more"><span class="header-section-number">2.15.4</span> <code>-</code> : procedure/1 or more</h3>
<p>Usage: <code>(- x [y1] [y2] ...) =&gt; num</code></p>
<p>Subtract <code>y1</code>, <code>y2</code>, …, from <code>x</code>. Special case: (- x) is -x.</p>
<p>See also: <code>+, *, /</code>.</p>
<h3 data-number="2.15.5" id="procedure1-or-more-1"><span class="header-section-number">2.15.5</span> <code>/</code> : procedure/1 or more</h3>
<p>Usage: <code>(/ x y1 [y2] ...) =&gt; float</code></p>
<p>Divide <code>x</code> by <code>y1</code>, then by <code>y2</code>, and so forth. The result is a float.</p>
<p>See also: <code>+, *, -</code>.</p>
<h3 data-number="2.15.6" id="procedure2-1"><span class="header-section-number">2.15.6</span> <code>/=</code> : procedure/2</h3>
<p>Usage: <code>(/= x y) =&gt; bool</code></p>
<p>Return true if number <code>x</code> is not equal to <code>y</code>, nil otherwise.</p>
<p>See also: <code>&gt;, &gt;=, &lt;, &lt;=</code>.</p>
<h3 data-number="2.15.7" id="procedure2-2"><span class="header-section-number">2.15.7</span> <code>&lt;</code> : procedure/2</h3>
<p>Usage: <code>(&lt; x y) =&gt; bool</code></p>
<p>Return true if <code>x</code> is smaller than <code>y.</code></p>
<p>See also: <code>&lt;=, &gt;=, &gt;</code>.</p>
<h3 data-number="2.15.8" id="procedure2-3"><span class="header-section-number">2.15.8</span> <code>&lt;=</code> : procedure/2</h3>
<p>Usage: <code>(&lt;= x y) =&gt; bool</code></p>
<p>Return true if <code>x</code> is smaller than or equal to <code>y</code>, nil otherwise.</p>
<p>See also: <code>&gt;, &lt;, &gt;=, /=</code>.</p>
<h3 data-number="2.15.9" id="procedure2-4"><span class="header-section-number">2.15.9</span> <code>=</code> : procedure/2</h3>
<p>Usage: <code>(= x y) =&gt; bool</code></p>
<p>Return true if number <code>x</code> equals number <code>y</code>, nil otherwise.</p>
<p>See also: <code>eql?, equal?</code>.</p>
<h3 data-number="2.15.10" id="procedure2-5"><span class="header-section-number">2.15.10</span> <code>&gt;</code> : procedure/2</h3>
<p>Usage: <code>(&gt; x y) =&gt; bool</code></p>
<p>Return true if <code>x</code> is larger than <code>y</code>, nil otherwise.</p>
<p>See also: <code>&lt;, &gt;=, &lt;=, /=</code>.</p>
<h3 data-number="2.15.11" id="procedure2-6"><span class="header-section-number">2.15.11</span> <code>&gt;=</code> : procedure/2</h3>
<p>Usage: <code>(&gt;= x y) =&gt; bool</code></p>
<p>Return true if <code>x</code> is larger than or equal to <code>y</code>, nil otherwise.</p>
<p>See also: <code>&gt;, &lt;, &lt;=, /=</code>.</p>
<h3 data-number="2.15.12" id="abs-procedure1"><span class="header-section-number">2.15.12</span> <code>abs</code> : procedure/1</h3>
<p>Usage: <code>(abs x) =&gt; num</code></p>
<p>Returns the absolute value of number <code>x.</code></p>
<p>See also: <code>*, -, +, /</code>.</p>
<h3 data-number="2.15.13" id="add1-procedure1"><span class="header-section-number">2.15.13</span> <code>add1</code> : procedure/1</h3>
<p>Usage: <code>(add1 n) =&gt; num</code></p>
<p>Add 1 to number <code>n.</code></p>
<p>See also: <code>sub1, +, -</code>.</p>
<h3 data-number="2.15.14" id="div-procedure2"><span class="header-section-number">2.15.14</span> <code>div</code> : procedure/2</h3>
<p>Usage: <code>(div n k) =&gt; int</code></p>
<p>Integer division of <code>n</code> by <code>k.</code></p>
<p>See also: <code>truncate, /, int</code>.</p>
<h3 data-number="2.15.15" id="even-procedure1"><span class="header-section-number">2.15.15</span> <code>even?</code> : procedure/1</h3>
<p>Usage: <code>(even? n) =&gt; bool</code></p>
<p>Returns true if the integer <code>n</code> is even, nil if it is not even.</p>
<p>See also: <code>odd?</code>.</p>
<h3 data-number="2.15.16" id="float-procedure1"><span class="header-section-number">2.15.16</span> <code>float</code> : procedure/1</h3>
<p>Usage: <code>(float n) =&gt; float</code></p>
<p>Convert <code>n</code> to a floating point value.</p>
<p>See also: <code>int</code>.</p>
<h3 data-number="2.15.17" id="int-procedure1"><span class="header-section-number">2.15.17</span> <code>int</code> : procedure/1</h3>
<p>Usage: <code>(int n) =&gt; int</code></p>
<p>Return <code>n</code> as an integer, rounding down to the nearest integer if necessary.</p>
<p>See also: <code>float</code>.</p>
<p><strong>Warning: If the number is very large this may result in returning the maximum supported integer number rather than the number as integer.</strong></p>
<h3 data-number="2.15.18" id="max-procedure1-or-more"><span class="header-section-number">2.15.18</span> <code>max</code> : procedure/1 or more</h3>
<p>Usage: <code>(max x1 x2 ...) =&gt; num</code></p>
<p>Return the maximum of the given numbers.</p>
<p>See also: <code>min, minmax</code>.</p>
<h3 data-number="2.15.19" id="min-procedure1-or-more"><span class="header-section-number">2.15.19</span> <code>min</code> : procedure/1 or more</h3>
<p>Usage: <code>(min x1 x2 ...) =&gt; num</code></p>
<p>Return the minimum of the given numbers.</p>
<p>See also: <code>max, minmax</code>.</p>
<h3 data-number="2.15.20" id="minmax-procedure3"><span class="header-section-number">2.15.20</span> <code>minmax</code> : procedure/3</h3>
<p>Usage: <code>(minmax pred li acc) =&gt; any</code></p>
<p>Go through <code>li</code> and test whether for each <code>elem</code> the comparison (pred elem acc) is true. If so, <code>elem</code> becomes <code>acc</code>. Once all elements of the list have been compared, <code>acc</code> is returned. This procedure can be used to implement generalized minimum or maximum procedures.</p>
<p>See also: <code>min, max</code>.</p>
<h3 data-number="2.15.21" id="mod-procedure2"><span class="header-section-number">2.15.21</span> <code>mod</code> : procedure/2</h3>
<p>Usage: <code>(mod x y) =&gt; num</code></p>
<p>Compute <code>x</code> modulo <code>y.</code></p>
<p>See also: <code>%, /</code>.</p>
<h3 data-number="2.15.22" id="odd-procedure1"><span class="header-section-number">2.15.22</span> <code>odd?</code> : procedure/1</h3>
<p>Usage: <code>(odd? n) =&gt; bool</code></p>
<p>Returns true if the integer <code>n</code> is odd, nil otherwise.</p>
<p>See also: <code>even?</code>.</p>
<h3 data-number="2.15.23" id="rand-procedure2"><span class="header-section-number">2.15.23</span> <code>rand</code> : procedure/2</h3>
<p>Usage: <code>(rand prng lower upper) =&gt; int</code></p>
<p>Return a random integer in the interval [<code>lower`` upper</code>], both inclusive, from pseudo-random number generator <code>prng</code>. The <code>prng</code> argument must be an integer from 0 to 9 (inclusive).</p>
<p>See also: <code>rnd, rndseed</code>.</p>
<h3 data-number="2.15.24" id="rnd-procedure0"><span class="header-section-number">2.15.24</span> <code>rnd</code> : procedure/0</h3>
<p>Usage: <code>(rnd prng) =&gt; num</code></p>
<p>Return a random value in the interval [0, 1] from pseudo-random number generator <code>prng</code>. The <code>prng</code> argument must be an integer from 0 to 9 (inclusive).</p>
<p>See also: <code>rand, rndseed</code>.</p>
<h3 data-number="2.15.25" id="rndseed-procedure1"><span class="header-section-number">2.15.25</span> <code>rndseed</code> : procedure/1</h3>
<p>Usage: <code>(rndseed prng n)</code></p>
<p>Seed the pseudo-random number generator <code>prng</code> (0 to 9) with 64 bit integer value <code>n</code>. Larger values will be truncated. Seeding affects both the rnd and the rand function for the given <code>prng.</code></p>
<p>See also: <code>rnd, rand</code>.</p>
<h3 data-number="2.15.26" id="sub1-procedure1"><span class="header-section-number">2.15.26</span> <code>sub1</code> : procedure/1</h3>
<p>Usage: <code>(sub1 n) =&gt; num</code></p>
<p>Subtract 1 from <code>n.</code></p>
<p>See also: <code>add1, +, -</code>.</p>
<h3 data-number="2.15.27" id="truncate-procedure1-or-more"><span class="header-section-number">2.15.27</span> <code>truncate</code> : procedure/1 or more</h3>
<p>Usage: <code>(truncate x [y]) =&gt; int</code></p>
<p>Round down to nearest integer of <code>x</code>. If <code>y</code> is present, divide <code>x</code> by <code>y</code> and round down to the nearest integer.</p>
<p>See also: <code>div, /, int</code>.</p>
<h2 data-number="2.16" id="semver-semantic-versioning"><span class="header-section-number">2.16</span> Semver Semantic Versioning</h2>
<p>The <code>semver</code> package provides functions to deal with the validation and parsing of semantic versioning strings.</p>
<h3 data-number="2.16.1" id="semver.build-procedure1"><span class="header-section-number">2.16.1</span> <code>semver.build</code> : procedure/1</h3>
<p>Usage: <code>(semver.build s) =&gt; str</code></p>
<p>Return the build part of a semantic versioning string.</p>
<p>See also: <code>semver.canonical, semver.major, semver.major-minor</code>.</p>
<h3 data-number="2.16.2" id="semver.canonical-procedure1"><span class="header-section-number">2.16.2</span> <code>semver.canonical</code> : procedure/1</h3>
<p>Usage: <code>(semver.canonical s) =&gt; str</code></p>
<p>Return a canonical semver string based on a valid, yet possibly not canonical version string <code>s.</code></p>
<p>See also: <code>semver.major</code>.</p>
<h3 data-number="2.16.3" id="semver.compare-procedure2"><span class="header-section-number">2.16.3</span> <code>semver.compare</code> : procedure/2</h3>
<p>Usage: <code>(semver.compare s1 s2) =&gt; int</code></p>
<p>Compare two semantic version strings <code>s1</code> and <code>s2</code>. The result is 0 if <code>s1</code> and <code>s2</code> are the same version, -1 if <code>s1</code> &lt; <code>s2</code> and 1 if <code>s1</code> &gt; <code>s2.</code></p>
<p>See also: <code>semver.major, semver.major-minor</code>.</p>
<h3 data-number="2.16.4" id="semver.is-valid-procedure1"><span class="header-section-number">2.16.4</span> <code>semver.is-valid?</code> : procedure/1</h3>
<p>Usage: <code>(semver.is-valid? s) =&gt; bool</code></p>
<p>Return true if <code>s</code> is a valid semantic versioning string, nil otherwise.</p>
<p>See also: <code>semver.major, semver.major-minor, semver.compare</code>.</p>
<h3 data-number="2.16.5" id="semver.major-procedure1"><span class="header-section-number">2.16.5</span> <code>semver.major</code> : procedure/1</h3>
<p>Usage: <code>(semver.major s) =&gt; str</code></p>
<p>Return the major part of the semantic versioning string.</p>
<p>See also: <code>semver.major-minor, semver.build</code>.</p>
<h3 data-number="2.16.6" id="semver.major-minor-procedure1"><span class="header-section-number">2.16.6</span> <code>semver.major-minor</code> : procedure/1</h3>
<p>Usage: <code>(semver.major-minor s) =&gt; str</code></p>
<p>Return the major.minor prefix of a semantic versioning string. For example, (semver.major-minor “v2.1.4”) returns “v2.1”.</p>
<p>See also: <code>semver.major, semver.build</code>.</p>
<h3 data-number="2.16.7" id="semver.max-procedure2"><span class="header-section-number">2.16.7</span> <code>semver.max</code> : procedure/2</h3>
<p>Usage: <code>(semver.max s1 s2) =&gt; str</code></p>
<p>Canonicalize <code>s1</code> and <code>s2</code> and return the larger version of them.</p>
<p>See also: <code>semver.compare</code>.</p>
<h3 data-number="2.16.8" id="semver.prerelease-procedure1"><span class="header-section-number">2.16.8</span> <code>semver.prerelease</code> : procedure/1</h3>
<p>Usage: <code>(semver.prerelease s) =&gt; str</code></p>
<p>Return the prerelease part of a version string, or the empty string if there is none. For example, (semver.prerelease “v2.1.0-pre+build”) returns “-pre”.</p>
<p>See also: <code>semver.build, semver.major, semver.major-minor</code>.</p>
<h2 data-number="2.17" id="sequence-functions"><span class="header-section-number">2.17</span> Sequence Functions</h2>
<p>Sequences are either strings, lists, or arrays. Sequences functions are generally abstractions for more specific functions of these data types, and therefore may be a bit slower than their native counterparts. It is still recommended to use them liberally, since they make programs more readable.</p>
<h3 data-number="2.17.1" id="th-procedure1-or-more"><span class="header-section-number">2.17.1</span> <code>10th</code> : procedure/1 or more</h3>
<p>Usage: <code>(10th seq [default]) =&gt; any</code></p>
<p>Get the tenth element of a sequence or the optional <code>default</code>. If there is no such element and no default is provided, then an error is raised.</p>
<p>See also: <code>nth, nthdef, car, list-ref, array-ref, string-ref, 1st, 2nd, 3rd, 4th, 5th, 6th, 7th, 8th, 9th</code>.</p>
<h3 data-number="2.17.2" id="st-procedure1-or-more"><span class="header-section-number">2.17.2</span> <code>1st</code> : procedure/1 or more</h3>
<p>Usage: <code>(1st seq [default]) =&gt; any</code></p>
<p>Get the first element of a sequence or the optional <code>default</code>. If there is no such element and no default is provided, then an error is raised.</p>
<p>See also: <code>nth, nthdef, car, list-ref, array-ref, string-ref, 2nd, 3rd, 4th, 5th, 6th, 7th, 8th, 9th, 10th</code>.</p>
<h3 data-number="2.17.3" id="nd-procedure1-or-more"><span class="header-section-number">2.17.3</span> <code>2nd</code> : procedure/1 or more</h3>
<p>Usage: <code>(2nd seq [default]) =&gt; any</code></p>
<p>Get the second element of a sequence or the optional <code>default</code>. If there is no such element and no default is provided, then an error is raised.</p>
<p>See also: <code>nth, nthdef, car, list-ref, array-ref, string-ref, 1st, 3rd, 4th, 5th, 6th, 7th, 8th, 9th, 10th</code>.</p>
<h3 data-number="2.17.4" id="rd-procedure1-or-more"><span class="header-section-number">2.17.4</span> <code>3rd</code> : procedure/1 or more</h3>
<p>Usage: <code>(3rd seq [default]) =&gt; any</code></p>
<p>Get the third element of a sequence or the optional <code>default</code>. If there is no such element and no default is provided, then an error is raised.</p>
<p>See also: <code>nth, nthdef, car, list-ref, array-ref, string-ref, 1st, 2nd, 4th, 5th, 6th, 7th, 8th, 9th, 10th</code>.</p>
<h3 data-number="2.17.5" id="th-procedure1-or-more-1"><span class="header-section-number">2.17.5</span> <code>4th</code> : procedure/1 or more</h3>
<p>Usage: <code>(4th seq [default]) =&gt; any</code></p>
<p>Get the fourth element of a sequence or the optional <code>default</code>. If there is no such element and no default is provided, then an error is raised.</p>
<p>See also: <code>nth, nthdef, car, list-ref, array-ref, string-ref, 1st, 2nd, 3rd, 5th, 6th, 7th, 8th, 9th, 10th</code>.</p>
<h3 data-number="2.17.6" id="th-procedure1-or-more-2"><span class="header-section-number">2.17.6</span> <code>5th</code> : procedure/1 or more</h3>
<p>Usage: <code>(5th seq [default]) =&gt; any</code></p>
<p>Get the fifth element of a sequence or the optional <code>default</code>. If there is no such element and no default is provided, then an error is raised.</p>
<p>See also: <code>nth, nthdef, car, list-ref, array-ref, string-ref, 1st, 2nd, 3rd, 4th, 6th, 7th, 8th, 9th, 10th</code>.</p>
<h3 data-number="2.17.7" id="th-procedure1-or-more-3"><span class="header-section-number">2.17.7</span> <code>6th</code> : procedure/1 or more</h3>
<p>Usage: <code>(6th seq [default]) =&gt; any</code></p>
<p>Get the sixth element of a sequence or the optional <code>default</code>. If there is no such element and no default is provided, then an error is raised.</p>
<p>See also: <code>nth, nthdef, car, list-ref, array-ref, string-ref, 1st, 2nd, 3rd, 4th, 5th, 7th, 8th, 9th, 10th</code>.</p>
<h3 data-number="2.17.8" id="th-procedure1-or-more-4"><span class="header-section-number">2.17.8</span> <code>7th</code> : procedure/1 or more</h3>
<p>Usage: <code>(7th seq [default]) =&gt; any</code></p>
<p>Get the seventh element of a sequence or the optional <code>default</code>. If there is no such element and no default is provided, then an error is raised.</p>
<p>See also: <code>nth, nthdef, car, list-ref, array-ref, string-ref, 1st, 2nd, 3rd, 4th, 5th, 6th, 8th, 9th, 10th</code>.</p>
<h3 data-number="2.17.9" id="th-procedure1-or-more-5"><span class="header-section-number">2.17.9</span> <code>8th</code> : procedure/1 or more</h3>
<p>Usage: <code>(8th seq [default]) =&gt; any</code></p>
<p>Get the eighth element of a sequence or the optional <code>default</code>. If there is no such element and no default is provided, then an error is raised.</p>
<p>See also: <code>nth, nthdef, car, list-ref, array-ref, string-ref, 1st, 2nd, 3rd, 4th, 5th, 6th, 7th, 9th, 10th</code>.</p>
<h3 data-number="2.17.10" id="th-procedure1-or-more-6"><span class="header-section-number">2.17.10</span> <code>9th</code> : procedure/1 or more</h3>
<p>Usage: <code>(9th seq [default]) =&gt; any</code></p>
<p>Get the nineth element of a sequence or the optional <code>default</code>. If there is no such element and no default is provided, then an error is raised.</p>
<p>See also: <code>nth, nthdef, car, list-ref, array-ref, string-ref, 1st, 2nd, 3rd, 4th, 5th, 6th, 7th, 8th, 10th</code>.</p>
<h3 data-number="2.17.11" id="exists-procedure2"><span class="header-section-number">2.17.11</span> <code>exists?</code> : procedure/2</h3>
<p>Usage: <code>(exists? seq pred) =&gt; bool</code></p>
<p>Return true if <code>pred</code> returns true for at least one element in sequence <code>seq</code>, nil otherwise.</p>
<p>See also: <code>forall?, list-exists?, array-exists?, str-exists?, seq?</code>.</p>
<h3 data-number="2.17.12" id="forall-procedure2"><span class="header-section-number">2.17.12</span> <code>forall?</code> : procedure/2</h3>
<p>Usage: <code>(forall? seq pred) =&gt; bool</code></p>
<p>Return true if predicate <code>pred</code> returns true for all elements of sequence <code>seq</code>, nil otherwise.</p>
<p>See also: <code>foreach, map, list-forall?, array-forall?, str-forall?, exists?, str-exists?, array-exists?, list-exists?</code>.</p>
<h3 data-number="2.17.13" id="foreach-procedure2"><span class="header-section-number">2.17.13</span> <code>foreach</code> : procedure/2</h3>
<p>Usage: <code>(foreach seq proc)</code></p>
<p>Apply <code>proc</code> to each element of sequence <code>seq</code> in order, for the side effects.</p>
<p>See also: <code>seq?, map</code>.</p>
<h3 data-number="2.17.14" id="index-procedure2-or-more"><span class="header-section-number">2.17.14</span> <code>index</code> : procedure/2 or more</h3>
<p>Usage: <code>(index seq elem [pred]) =&gt; int</code></p>
<p>Return the first index of <code>elem</code> in <code>seq</code> going from left to right, using equality predicate <code>pred</code> for comparisons (default is eq?). If <code>elem</code> is not in <code>seq</code>, -1 is returned.</p>
<p>See also: <code>nth, seq?</code>.</p>
<h3 data-number="2.17.15" id="last-procedure1-or-more"><span class="header-section-number">2.17.15</span> <code>last</code> : procedure/1 or more</h3>
<p>Usage: <code>(last seq [default]) =&gt; any</code></p>
<p>Get the last element of sequence <code>seq</code> or return <code>default</code> if the sequence is empty. If <code>default</code> is not given and the sequence is empty, an error is raised.</p>
<p>See also: <code>nth, nthdef, car, list-ref, array-ref, string, ref, 1st, 2nd, 3rd, 4th, 5th, 6th, 7th, 8th, 9th, 10th</code>.</p>
<h3 data-number="2.17.16" id="len-procedure1"><span class="header-section-number">2.17.16</span> <code>len</code> : procedure/1</h3>
<p>Usage: <code>(len seq) =&gt; int</code></p>
<p>Return the length of <code>seq</code>. Works for lists, strings, arrays, and dicts.</p>
<p>See also: <code>seq?</code>.</p>
<h3 data-number="2.17.17" id="map-procedure2"><span class="header-section-number">2.17.17</span> <code>map</code> : procedure/2</h3>
<p>Usage: <code>(map seq proc) =&gt; seq</code></p>
<p>Return the copy of <code>seq</code> that is the result of applying <code>proc</code> to each element of <code>seq.</code></p>
<p>See also: <code>seq?, mapcar, strmap</code>.</p>
<h3 data-number="2.17.18" id="map-pairwise-procedure2"><span class="header-section-number">2.17.18</span> <code>map-pairwise</code> : procedure/2</h3>
<p>Usage: <code>(map-pairwise seq proc) =&gt; seq</code></p>
<p>Applies <code>proc</code> in order to subsequent pairs in <code>seq</code>, assembling the sequence that results from the results of <code>proc</code>. Function <code>proc</code> takes two arguments and must return a proper list containing two elements. If the number of elements in <code>seq</code> is odd, an error is raised.</p>
<p>See also: <code>map</code>.</p>
<h3 data-number="2.17.19" id="nth-procedure2"><span class="header-section-number">2.17.19</span> <code>nth</code> : procedure/2</h3>
<p>Usage: <code>(nth seq n) =&gt; any</code></p>
<p>Get the <code>n-th</code> element of sequence <code>seq</code>. Sequences are 0-indexed.</p>
<p>See also: <code>nthdef, list, array, string, 1st, 2nd, 3rd, 4th, 5th, 6th, 7th, 8th, 9th, 10th</code>.</p>
<h3 data-number="2.17.20" id="nthdef-procedure3"><span class="header-section-number">2.17.20</span> <code>nthdef</code> : procedure/3</h3>
<p>Usage: <code>(nthdef seq n default) =&gt; any</code></p>
<p>Return the <code>n-th</code> element of sequence <code>seq</code> (0-indexed) if <code>seq</code> is a sequence and has at least <code>n+1</code> elements, default otherwise.</p>
<p>See also: <code>nth, seq?, 1st, 2nd, 3rd, 4th, 5th, 6th, 7th, 8th, 9th, 10th</code>.</p>
<h3 data-number="2.17.21" id="remove-duplicates-procedure1"><span class="header-section-number">2.17.21</span> <code>remove-duplicates</code> : procedure/1</h3>
<p>Usage: <code>(remove-duplicates seq) =&gt; seq</code></p>
<p>Remove all duplicates in sequence <code>seq</code>, return a new sequence with the duplicates removed.</p>
<p>See also: <code>seq?, map, foreach, nth</code>.</p>
<h3 data-number="2.17.22" id="reverse-procedure1"><span class="header-section-number">2.17.22</span> <code>reverse</code> : procedure/1</h3>
<p>Usage: <code>(reverse seq) =&gt; sequence</code></p>
<p>Reverse a sequence non-destructively, i.e., return a copy of the reversed sequence.</p>
<p>See also: <code>nth, seq?, 1st, 2nd, 3rd, 4th, 6th, 7th, 8th, 9th, 10th, last</code>.</p>
<h3 data-number="2.17.23" id="seq-procedure1"><span class="header-section-number">2.17.23</span> <code>seq?</code> : procedure/1</h3>
<p>Usage: <code>(seq? seq) =&gt; bool</code></p>
<p>Return true if <code>seq</code> is a sequence, nil otherwise.</p>
<p>See also: <code>list, array, string, slice, nth</code>.</p>
<h3 data-number="2.17.24" id="slice-procedure3"><span class="header-section-number">2.17.24</span> <code>slice</code> : procedure/3</h3>
<p>Usage: <code>(slice seq low high) =&gt; seq</code></p>
<p>Return the subsequence of <code>seq</code> starting from <code>low</code> inclusive and ending at <code>high</code> exclusive. Sequences are 0-indexed.</p>
<p>See also: <code>list, array, string, nth, seq?</code>.</p>
<h3 data-number="2.17.25" id="take-procedure3"><span class="header-section-number">2.17.25</span> <code>take</code> : procedure/3</h3>
<p>Usage: <code>(take seq n) =&gt; seq</code></p>
<p>Return the sequence consisting of the <code>n</code> first elements of <code>seq.</code></p>
<p>See also: <code>list, array, string, nth, seq?</code>.</p>
<h2 data-number="2.18" id="sound-support"><span class="header-section-number">2.18</span> Sound Support</h2>
<p>Only a few functions are provided for sound support.</p>
<h3 data-number="2.18.1" id="beep-procedure1"><span class="header-section-number">2.18.1</span> <code>beep</code> : procedure/1</h3>
<p>Usage: <code>(beep sel)</code></p>
<p>Play a built-in system sound. The argument <code>sel</code> may be one of ’(error start ready click okay confirm info).</p>
<p>See also: <code>play-sound, load-sound</code>.</p>
<h3 data-number="2.18.2" id="set-volume-procedure1"><span class="header-section-number">2.18.2</span> <code>set-volume</code> : procedure/1</h3>
<p>Usage: <code>(set-volume fl)</code></p>
<p>Set the master volume for all sound to <code>fl</code>, a value between 0.0 and 1.0.</p>
<p>See also: <code>play-sound, play-music</code>.</p>
<h2 data-number="2.19" id="string-manipulation"><span class="header-section-number">2.19</span> String Manipulation</h2>
<p>These functions all manipulate strings in one way or another.</p>
<h3 data-number="2.19.1" id="fmt-procedure1-or-more"><span class="header-section-number">2.19.1</span> <code>fmt</code> : procedure/1 or more</h3>
<p>Usage: <code>(fmt s [args] ...) =&gt; str</code></p>
<p>Format string <code>s</code> that contains format directives with arbitrary many <code>args</code> as arguments. The number of format directives must match the number of arguments. The format directives are the same as those for the esoteric and arcane programming language “Go”, which was used on Earth for some time.</p>
<p>See also: <code>out</code>.</p>
<h3 data-number="2.19.2" id="instr-procedure2"><span class="header-section-number">2.19.2</span> <code>instr</code> : procedure/2</h3>
<p>Usage: <code>(instr s1 s2) =&gt; int</code></p>
<p>Return the index of the first occurrence of <code>s2</code> in <code>s1</code> (from left), or -1 if <code>s1</code> does not contain <code>s2.</code></p>
<p>See also: <code>str?, index</code>.</p>
<h3 data-number="2.19.3" id="shorten-procedure2"><span class="header-section-number">2.19.3</span> <code>shorten</code> : procedure/2</h3>
<p>Usage: <code>(shorten s n) =&gt; str</code></p>
<p>Shorten string <code>s</code> to length <code>n</code> in a smart way if possible, leave it untouched if the length of <code>s</code> is smaller than <code>n.</code></p>
<p>See also: <code>substr</code>.</p>
<h3 data-number="2.19.4" id="spaces-procedure1"><span class="header-section-number">2.19.4</span> <code>spaces</code> : procedure/1</h3>
<p>Usage: <code>(spaces n) =&gt; str</code></p>
<p>Create a string consisting of <code>n</code> spaces.</p>
<p>See also: <code>strbuild, strleft, strright</code>.</p>
<h3 data-number="2.19.5" id="str-procedure0-or-more"><span class="header-section-number">2.19.5</span> <code>str+</code> : procedure/0 or more</h3>
<p>Usage: <code>(str+ [s] ...) =&gt; str</code></p>
<p>Append all strings given to the function.</p>
<p>See also: <code>str?</code>.</p>
<h3 data-number="2.19.6" id="str-count-substr-procedure2"><span class="header-section-number">2.19.6</span> <code>str-count-substr</code> : procedure/2</h3>
<p>Usage: <code>(str-count-substr s1 s2) =&gt; int</code></p>
<p>Count the number of non-overlapping occurrences of substring <code>s2</code> in string <code>s1.</code></p>
<p>See also: <code>str-replace, str-replace*, instr</code>.</p>
<h3 data-number="2.19.7" id="str-empty-procedure1"><span class="header-section-number">2.19.7</span> <code>str-empty?</code> : procedure/1</h3>
<p>Usage: <code>(str-empty? s) =&gt; bool</code></p>
<p>Return true if the string <code>s</code> is empty, nil otherwise.</p>
<p>See also: <code>strlen</code>.</p>
<h3 data-number="2.19.8" id="str-exists-procedure2"><span class="header-section-number">2.19.8</span> <code>str-exists?</code> : procedure/2</h3>
<p>Usage: <code>(str-exists? s pred) =&gt; bool</code></p>
<p>Return true if <code>pred</code> returns true for at least one character in string <code>s</code>, nil otherwise.</p>
<p>See also: <code>exists?, forall?, list-exists?, array-exists?, seq?</code>.</p>
<h3 data-number="2.19.9" id="str-forall-procedure2"><span class="header-section-number">2.19.9</span> <code>str-forall?</code> : procedure/2</h3>
<p>Usage: <code>(str-forall? s pred) =&gt; bool</code></p>
<p>Return true if predicate <code>pred</code> returns true for all characters in string <code>s</code>, nil otherwise.</p>
<p>See also: <code>foreach, map, forall?, array-forall?, list-forall, exists?</code>.</p>
<h3 data-number="2.19.10" id="str-foreach-procedure2"><span class="header-section-number">2.19.10</span> <code>str-foreach</code> : procedure/2</h3>
<p>Usage: <code>(str-foreach s proc)</code></p>
<p>Apply <code>proc</code> to each element of string <code>s</code> in order, for the side effects.</p>
<p>See also: <code>foreach, list-foreach, array-foreach, map</code>.</p>
<h3 data-number="2.19.11" id="str-index-procedure2-or-more"><span class="header-section-number">2.19.11</span> <code>str-index</code> : procedure/2 or more</h3>
<p>Usage: <code>(str-index s chars [pos]) =&gt; int</code></p>
<p>Find the first char in <code>s</code> that is in the charset <code>chars</code>, starting from the optional <code>pos</code> in <code>s</code>, and return its index in the string. If no macthing char is found, nil is returned.</p>
<p>See also: <code>strsplit, chars, inchars</code>.</p>
<h3 data-number="2.19.12" id="str-join-procedure2"><span class="header-section-number">2.19.12</span> <code>str-join</code> : procedure/2</h3>
<p>Usage: <code>(str-join li del) =&gt; str</code></p>
<p>Join a list of strings <code>li</code> where each of the strings is separated by string <code>del</code>, and return the result string.</p>
<p>See also: <code>strlen, strsplit, str-slice</code>.</p>
<h3 data-number="2.19.13" id="str-ref-procedure2"><span class="header-section-number">2.19.13</span> <code>str-ref</code> : procedure/2</h3>
<p>Usage: <code>(str-ref s n) =&gt; n</code></p>
<p>Return the unicode char as integer at position <code>n</code> in <code>s</code>. Strings are 0-indexed.</p>
<p>See also: <code>nth</code>.</p>
<h3 data-number="2.19.14" id="str-remove-number-procedure1"><span class="header-section-number">2.19.14</span> <code>str-remove-number</code> : procedure/1</h3>
<p>Usage: <code>(str-remove-number s [del]) =&gt; str</code></p>
<p>Remove the suffix number in <code>s</code>, provided there is one and it is separated from the rest of the string by <code>del</code>, where the default is a space character. For instance, “Test 29” will be converted to “Test”, “User-Name1-23-99” with delimiter “-” will be converted to “User-Name1-23”. This function will remove intermediate delimiters in the middle of the string, since it disassembles and reassembles the string, so be aware that this is not preserving inputs in that respect.</p>
<p>See also: <code>strsplit</code>.</p>
<h3 data-number="2.19.15" id="str-remove-prefix-procedure1"><span class="header-section-number">2.19.15</span> <code>str-remove-prefix</code> : procedure/1</h3>
<p>Usage: <code>(str-remove-prefix s prefix) =&gt; str</code></p>
<p>Remove the prefix <code>prefix</code> from string <code>s</code>, return the string without the prefix. If the prefix does not match, <code>s</code> is returned. If <code>prefix</code> is longer than <code>s</code> and matches, the empty string is returned.</p>
<p>See also: <code>str-remove-suffix</code>.</p>
<h3 data-number="2.19.16" id="str-remove-suffix-procedure1"><span class="header-section-number">2.19.16</span> <code>str-remove-suffix</code> : procedure/1</h3>
<p>Usage: <code>(str-remove-suffix s suffix) =&gt; str</code></p>
<p>remove the suffix <code>suffix</code> from string <code>s</code>, return the string without the suffix. If the suffix does not match, <code>s</code> is returned. If <code>suffix</code> is longer than <code>s</code> and matches, the empty string is returned.</p>
<p>See also: <code>str-remove-prefix</code>.</p>
<h3 data-number="2.19.17" id="str-replace-procedure4"><span class="header-section-number">2.19.17</span> <code>str-replace</code> : procedure/4</h3>
<p>Usage: <code>(str-replace s t1 t2 n) =&gt; str</code></p>
<p>Replace the first <code>n</code> instances of substring <code>t1</code> in <code>s</code> by <code>t2.</code></p>
<p>See also: <code>str-replace*, str-count-substr</code>.</p>
<h3 data-number="2.19.18" id="str-replace-procedure3"><span class="header-section-number">2.19.18</span> <code>str-replace*</code> : procedure/3</h3>
<p>Usage: <code>(str-replace* s t1 t2) =&gt; str</code></p>
<p>Replace all non-overlapping substrings <code>t1</code> in <code>s</code> by <code>t2.</code></p>
<p>See also: <code>str-replace, str-count-substr</code>.</p>
<h3 data-number="2.19.19" id="str-reverse-procedure1"><span class="header-section-number">2.19.19</span> <code>str-reverse</code> : procedure/1</h3>
<p>Usage: <code>(str-reverse s) =&gt; str</code></p>
<p>Reverse string <code>s.</code></p>
<p>See also: <code>reverse, array-reverse, list-reverse</code>.</p>
<h3 data-number="2.19.20" id="str-segment-procedure3"><span class="header-section-number">2.19.20</span> <code>str-segment</code> : procedure/3</h3>
<p>Usage: <code>(str-segment str start end) =&gt; list</code></p>
<p>Parse a string <code>str</code> into words that start with one of the characters in string <code>start</code> and end in one of the characters in string <code>end</code> and return a list consisting of lists of the form (bool s) where bool is true if the string starts with a character in <code>start</code>, nil otherwise, and <code>s</code> is the extracted string including start and end characters.</p>
<p>See also: <code>str+, strsplit, fmt, strbuild</code>.</p>
<h3 data-number="2.19.21" id="str-slice-procedure3"><span class="header-section-number">2.19.21</span> <code>str-slice</code> : procedure/3</h3>
<p>Usage: <code>(str-slice s low high) =&gt; s</code></p>
<p>Return a slice of string <code>s</code> starting at character with index <code>low</code> (inclusive) and ending at character with index <code>high</code> (exclusive).</p>
<p>See also: <code>slice</code>.</p>
<h3 data-number="2.19.22" id="strbuild-procedure2"><span class="header-section-number">2.19.22</span> <code>strbuild</code> : procedure/2</h3>
<p>Usage: <code>(strbuild s n) =&gt; str</code></p>
<p>Build a string by repeating string <code>s`` n</code> times.</p>
<p>See also: <code>str+</code>.</p>
<h3 data-number="2.19.23" id="strcase-procedure2"><span class="header-section-number">2.19.23</span> <code>strcase</code> : procedure/2</h3>
<p>Usage: <code>(strcase s sel) =&gt; str</code></p>
<p>Change the case of the string <code>s</code> according to selector <code>sel</code> and return a copy. Valid values for <code>sel</code> are ’lower for conversion to lower-case, ’upper for uppercase, ’title for title case and ’utf-8 for utf-8 normalization (which replaces unprintable characters with “?”).</p>
<p>See also: <code>strmap</code>.</p>
<h3 data-number="2.19.24" id="strcenter-procedure2"><span class="header-section-number">2.19.24</span> <code>strcenter</code> : procedure/2</h3>
<p>Usage: <code>(strcenter s n) =&gt; str</code></p>
<p>Center string <code>s</code> by wrapping space characters around it, such that the total length the result string is <code>n.</code></p>
<p>See also: <code>strleft, strright, strlimit</code>.</p>
<h3 data-number="2.19.25" id="strcnt-procedure2"><span class="header-section-number">2.19.25</span> <code>strcnt</code> : procedure/2</h3>
<p>Usage: <code>(strcnt s del) =&gt; int</code></p>
<p>Returnt the number of non-overlapping substrings <code>del</code> in <code>s.</code></p>
<p>See also: <code>strsplit, str-index</code>.</p>
<h3 data-number="2.19.26" id="strleft-procedure2"><span class="header-section-number">2.19.26</span> <code>strleft</code> : procedure/2</h3>
<p>Usage: <code>(strleft s n) =&gt; str</code></p>
<p>Align string <code>s</code> left by adding space characters to the right of it, such that the total length the result string is <code>n.</code></p>
<p>See also: <code>strcenter, strright, strlimit</code>.</p>
<h3 data-number="2.19.27" id="strlen-procedure1"><span class="header-section-number">2.19.27</span> <code>strlen</code> : procedure/1</h3>
<p>Usage: <code>(strlen s) =&gt; int</code></p>
<p>Return the length of <code>s.</code></p>
<p>See also: <code>len, seq?, str?</code>.</p>
<h3 data-number="2.19.28" id="strless-procedure2"><span class="header-section-number">2.19.28</span> <code>strless</code> : procedure/2</h3>
<p>Usage: <code>(strless s1 s2) =&gt; bool</code></p>
<p>Return true if string <code>s1</code> &lt; <code>s2</code> in lexicographic comparison, nil otherwise.</p>
<p>See also: <code>sort, array-sort, strcase</code>.</p>
<h3 data-number="2.19.29" id="strlimit-procedure2"><span class="header-section-number">2.19.29</span> <code>strlimit</code> : procedure/2</h3>
<p>Usage: <code>(strlimit s n) =&gt; str</code></p>
<p>Return a string based on <code>s</code> cropped to a maximal length of <code>n</code> (or less if <code>s</code> is shorter).</p>
<p>See also: <code>strcenter, strleft, strright</code>.</p>
<h3 data-number="2.19.30" id="strmap-procedure2"><span class="header-section-number">2.19.30</span> <code>strmap</code> : procedure/2</h3>
<p>Usage: <code>(strmap s proc) =&gt; str</code></p>
<p>Map function <code>proc</code>, which takes a number and returns a number, over all unicode characters in <code>s</code> and return the result as new string.</p>
<p>See also: <code>map</code>.</p>
<h3 data-number="2.19.31" id="stropen-procedure1"><span class="header-section-number">2.19.31</span> <code>stropen</code> : procedure/1</h3>
<p>Usage: <code>(stropen s) =&gt; streamport</code></p>
<p>Open the string <code>s</code> as input stream.</p>
<p>See also: <code>open, close</code>.</p>
<h3 data-number="2.19.32" id="strright-procedure2"><span class="header-section-number">2.19.32</span> <code>strright</code> : procedure/2</h3>
<p>Usage: <code>(strright s n) =&gt; str</code></p>
<p>Align string <code>s</code> right by adding space characters in front of it, such that the total length the result string is <code>n.</code></p>
<p>See also: <code>strcenter, strleft, strlimit</code>.</p>
<h3 data-number="2.19.33" id="strsplit-procedure2"><span class="header-section-number">2.19.33</span> <code>strsplit</code> : procedure/2</h3>
<p>Usage: <code>(strsplit s del) =&gt; array</code></p>
<p>Return an array of strings obtained from <code>s</code> by splitting <code>s</code> at each occurrence of string <code>del.</code></p>
<p>See also: <code>str?</code>.</p>
<h2 data-number="2.20" id="system-functions"><span class="header-section-number">2.20</span> System Functions</h2>
<p>These functions concern the inner workings of the Lisp interpreter. Your warranty might be void if you abuse them!</p>
<h3 data-number="2.20.1" id="error-handler-dict"><span class="header-section-number">2.20.1</span> <em>error-handler</em> : dict</h3>
<p>Usage: <code>(*error-handler* err)</code></p>
<p>The global error handler dict that contains procedures which take an error and handle it. If an entry is nil, the default handler is used, which outputs the error using <em>error-printer</em>. The dict contains handlers based on concurrent thread IDs and ought not be manipulated directly.</p>
<p>See also: <code>*error-printer*</code>.</p>
<h3 data-number="2.20.2" id="error-printer-procedure1"><span class="header-section-number">2.20.2</span> <code>*error-printer*</code> : procedure/1</h3>
<p>Usage: <code>(*error-printer* err)</code></p>
<p>The global printer procedure which takes an error and prints it.</p>
<p>See also: <code>error</code>.</p>
<h3 data-number="2.20.3" id="last-error-sym"><span class="header-section-number">2.20.3</span> <em>last-error</em> : sym</h3>
<p>Usage: <code>*last-error* =&gt; str</code></p>
<p>Contains the last error that has occurred.</p>
<p>See also: <code>*error-printer*, *error-handler*</code>.</p>
<p><strong>Warning: This may only be used for debugging! Do <em>not</em> use this for error handling, it will surely fail!</strong></p>
<h3 data-number="2.20.4" id="reflect-symbol"><span class="header-section-number">2.20.4</span> <em>reflect</em> : symbol</h3>
<p>Usage: <code>*reflect* =&gt; li</code></p>
<p>The list of feature identifiers as symbols that this Lisp implementation supports.</p>
<p>See also: <code>feature?, on-feature</code>.</p>
<h3 data-number="2.20.5" id="add-hook-procedure2"><span class="header-section-number">2.20.5</span> <code>add-hook</code> : procedure/2</h3>
<p>Usage: <code>(add-hook hook proc) =&gt; id</code></p>
<p>Add hook procedure <code>proc</code> which takes a list of arguments as argument under symbolic or numeric <code>hook</code> and return an integer hook <code>id</code> for this hook. If <code>hook</code> is not known, nil is returned.</p>
<p>See also: <code>remove-hook, remove-hooks, replace-hook</code>.</p>
<h3 data-number="2.20.6" id="add-hook-internal-procedure2"><span class="header-section-number">2.20.6</span> <code>add-hook-internal</code> : procedure/2</h3>
<p>Usage: <code>(add-hook-internal hook proc) =&gt; int</code></p>
<p>Add a procedure <code>proc</code> to hook with numeric ID <code>hook</code> and return this procedures hook ID. The function does not check whether the hook exists.</p>
<p>See also: <code>add-hook</code>.</p>
<p><strong>Warning: Internal use only.</strong></p>
<h3 data-number="2.20.7" id="add-hook-once-procedure2"><span class="header-section-number">2.20.7</span> <code>add-hook-once</code> : procedure/2</h3>
<p>Usage: <code>(add-hook-once hook proc) =&gt; id</code></p>
<p>Add a hook procedure <code>proc</code> which takes a list of arguments under symbolic or numeric <code>hook</code> and return an integer hook <code>id</code>. If <code>hook</code> is not known, nil is returned.</p>
<p>See also: <code>add-hook, remove-hook, replace-hook</code>.</p>
<h3 data-number="2.20.8" id="bind-procedure2"><span class="header-section-number">2.20.8</span> <code>bind</code> : procedure/2</h3>
<p>Usage: <code>(bind sym value)</code></p>
<p>Bind <code>value</code> to the global symbol <code>sym</code>. In contrast to setq both values need quoting.</p>
<p>See also: <code>setq</code>.</p>
<h3 data-number="2.20.9" id="bound-macro1"><span class="header-section-number">2.20.9</span> <code>bound?</code> : macro/1</h3>
<p>Usage: <code>(bound? sym) =&gt; bool</code></p>
<p>Return true if a value is bound to the symbol <code>sym</code>, nil otherwise.</p>
<p>See also: <code>bind, setq</code>.</p>
<h3 data-number="2.20.10" id="closure-procedure1"><span class="header-section-number">2.20.10</span> <code>closure?</code> : procedure/1</h3>
<p>Usage: <code>(closure? x) =&gt; bool</code></p>
<p>Return true if <code>x</code> is a closure, nil otherwise. Use <code>function?</code> for texting whether <code>x</code> can be executed.</p>
<p>See also: <code>functional?, macro?, intrinsic?, functional-arity, functional-has-rest?</code>.</p>
<h3 data-number="2.20.11" id="collect-garbage-procedure0-or-more"><span class="header-section-number">2.20.11</span> <code>collect-garbage</code> : procedure/0 or more</h3>
<p>Usage: <code>(collect-garbage [sort])</code></p>
<p>Force a garbage-collection of the system’s memory. If <code>sort</code> is ’normal, then only a normal incremental garbage colllection is performed. If <code>sort</code> is ’total, then the garbage collection is more thorough and the system attempts to return unused memory to the host OS. Default is ’normal.</p>
<p>See also: <code>memstats</code>.</p>
<p><strong>Warning: There should rarely be a use for this. Try to use less memory-consuming data structures instead.</strong></p>
<h3 data-number="2.20.12" id="current-error-handler-procedure0"><span class="header-section-number">2.20.12</span> <code>current-error-handler</code> : procedure/0</h3>
<p>Usage: <code>(current-error-handler) =&gt; proc</code></p>
<p>Return the current error handler, a default if there is none.</p>
<p>See also: <code>default-error-handler, push-error-handler, pop-error-handler, *current-error-handler*, *current-error-continuation*</code>.</p>
<h3 data-number="2.20.13" id="def-custom-hook-procedure2"><span class="header-section-number">2.20.13</span> <code>def-custom-hook</code> : procedure/2</h3>
<p>Usage: <code>(def-custom-hook sym proc)</code></p>
<p>Define a custom hook point, to be called manually from Lisp. These have IDs starting from 65636.</p>
<p>See also: <code>add-hook</code>.</p>
<h3 data-number="2.20.14" id="default-error-handler-procedure0"><span class="header-section-number">2.20.14</span> <code>default-error-handler</code> : procedure/0</h3>
<p>Usage: <code>(default-error-handler) =&gt; proc</code></p>
<p>Return the default error handler, irrespectively of the current-error-handler.</p>
<p>See also: <code>current-error-handler, push-error-handler, pop-error-handler, *current-error-handler*, *current-error-continuation*</code>.</p>
<h3 data-number="2.20.15" id="dict-protect-procedure1"><span class="header-section-number">2.20.15</span> <code>dict-protect</code> : procedure/1</h3>
<p>Usage: <code>(dict-protect d)</code></p>
<p>Protect dict <code>d</code> against changes. Attempting to set values in a protected dict will cause an error, but all values can be read and the dict can be copied. This function requires permission ’allow-protect.</p>
<p>See also: <code>dict-unprotect, dict-protected?, protect, unprotect, protected?, permissions, permission?</code>.</p>
<p><strong>Warning: Protected dicts are full readable and can be copied, so you may need to use protect to also prevent changes to the toplevel symbol storing the dict!</strong></p>
<h3 data-number="2.20.16" id="dict-protected-procedure1"><span class="header-section-number">2.20.16</span> <code>dict-protected?</code> : procedure/1</h3>
<p>Usage: <code>(dict-protected? d)</code></p>
<p>Return true if the dict <code>d</code> is protected against mutation, nil otherwise.</p>
<p>See also: <code>dict-protect, dict-unprotect, protect, unprotect, protected?, permissions, permission?</code>.</p>
<h3 data-number="2.20.17" id="dict-unprotect-procedure1"><span class="header-section-number">2.20.17</span> <code>dict-unprotect</code> : procedure/1</h3>
<p>Usage: <code>(dict-unprotect d)</code></p>
<p>Unprotect the dict <code>d</code> so it can be mutated again. This function requires permission ’allow-unprotect.</p>
<p>See also: <code>dict-protect, dict-protected?, protect, unprotect, protected?, permissions, permission?</code>.</p>
<h3 data-number="2.20.18" id="dump-procedure0-or-more"><span class="header-section-number">2.20.18</span> <code>dump</code> : procedure/0 or more</h3>
<p>Usage: <code>(dump [sym] [all?]) =&gt; li</code></p>
<p>Return a list of symbols starting with the characters of <code>sym</code> or starting with any characters if <code>sym</code> is omitted, sorted alphabetically. When <code>all?</code> is true, then all symbols are listed, otherwise only symbols that do not contain "_" are listed. By convention, the underscore is used for auxiliary functions.</p>
<p>See also: <code>dump-bindings, save-zimage, load-zimage</code>.</p>
<h3 data-number="2.20.19" id="dump-bindings-procedure0"><span class="header-section-number">2.20.19</span> <code>dump-bindings</code> : procedure/0</h3>
<p>Usage: <code>(dump-bindings) =&gt; li</code></p>
<p>Return a list of all top-level symbols with bound values, including those intended for internal use.</p>
<p>See also: <code>dump</code>.</p>
<h3 data-number="2.20.20" id="error-procedure0-or-more"><span class="header-section-number">2.20.20</span> <code>error</code> : procedure/0 or more</h3>
<p>Usage: <code>(error [msgstr] [expr] ...)</code></p>
<p>Raise an error, where <code>msgstr</code> and the optional expressions <code>expr</code>… work as in a call to fmt.</p>
<p>See also: <code>fmt, with-final</code>.</p>
<h3 data-number="2.20.21" id="eval-procedure1"><span class="header-section-number">2.20.21</span> <code>eval</code> : procedure/1</h3>
<p>Usage: <code>(eval expr) =&gt; any</code></p>
<p>Evaluate the expression <code>expr</code> in the Z3S5 Machine Lisp interpreter and return the result. The evaluation environment is the system’s environment at the time of the call.</p>
<p>See also: <code>break, apply</code>.</p>
<h3 data-number="2.20.22" id="exit-procedure0-or-more"><span class="header-section-number">2.20.22</span> <code>exit</code> : procedure/0 or more</h3>
<p>Usage: <code>(exit [n])</code></p>
<p>Immediately shut down the system and return OS host error code <code>n</code>. The shutdown is performed gracefully and exit hooks are executed.</p>
<p>See also: <code>n/a</code>.</p>
<h3 data-number="2.20.23" id="expand-macros-procedure1"><span class="header-section-number">2.20.23</span> <code>expand-macros</code> : procedure/1</h3>
<p>Usage: <code>(expand-macros expr) =&gt; expr</code></p>
<p>Expands the macros in <code>expr</code>. This is an ordinary function and will not work on already compiled expressions such as a function bound to a symbol. However, it can be used to expand macros in expressions obtained by <code>read.</code></p>
<p>See also: <code>internalize, externalize, load-library</code>.</p>
<h3 data-number="2.20.24" id="expect-macro2"><span class="header-section-number">2.20.24</span> <code>expect</code> : macro/2</h3>
<p>Usage: <code>(expect value given)</code></p>
<p>Registers a test under the current test name that checks that <code>value</code> is returned by <code>given</code>. The test is only executed when (run-selftest) is executed.</p>
<p>See also: <code>expect-err, expect-ok, run-selftest, testing</code>.</p>
<h3 data-number="2.20.25" id="expect-err-macro1-or-more"><span class="header-section-number">2.20.25</span> <code>expect-err</code> : macro/1 or more</h3>
<p>Usage: <code>(expect-err expr ...)</code></p>
<p>Registers a test under the current test name that checks that <code>expr</code> produces an error.</p>
<p>See also: <code>expect, expect-ok, run-selftest, testing</code>.</p>
<h3 data-number="2.20.26" id="expect-false-macro1-or-more"><span class="header-section-number">2.20.26</span> <code>expect-false</code> : macro/1 or more</h3>
<p>Usage: <code>(expect-false expr ...)</code></p>
<p>Registers a test under the current test name that checks that <code>expr</code> is nil.</p>
<p>See also: <code>expect, expect-ok, run-selftest, testing</code>.</p>
<h3 data-number="2.20.27" id="expect-ok-macro1-or-more"><span class="header-section-number">2.20.27</span> <code>expect-ok</code> : macro/1 or more</h3>
<p>Usage: <code>(expect-err expr ...)</code></p>
<p>Registers a test under the current test name that checks that <code>expr</code> does not produce an error.</p>
<p>See also: <code>expect, expect-ok, run-selftest, testing</code>.</p>
<h3 data-number="2.20.28" id="expect-true-macro1-or-more"><span class="header-section-number">2.20.28</span> <code>expect-true</code> : macro/1 or more</h3>
<p>Usage: <code>(expect-true expr ...)</code></p>
<p>Registers a test under the current test name that checks that <code>expr</code> is true (not nil).</p>
<p>See also: <code>expect, expect-ok, run-selftest, testing</code>.</p>
<h3 data-number="2.20.29" id="feature-procedure1"><span class="header-section-number">2.20.29</span> <code>feature?</code> : procedure/1</h3>
<p>Usage: <code>(feature? sym) =&gt; bool</code></p>
<p>Return true if the Lisp feature identified by symbol <code>sym</code> is available, nil otherwise.</p>
<p>See also: <code>*reflect*, on-feature</code>.</p>
<h3 data-number="2.20.30" id="find-missing-help-entries-procedure0"><span class="header-section-number">2.20.30</span> <code>find-missing-help-entries</code> : procedure/0</h3>
<p>Usage: <code>(find-missing-help-entries) =&gt; li</code></p>
<p>Return a list of global symbols for which help entries are missing.</p>
<p>See also: <code>dump, dump-bindings, find-unneeded-help-entries</code>.</p>
<h3 data-number="2.20.31" id="find-unneeded-help-entries-procedure0"><span class="header-section-number">2.20.31</span> <code>find-unneeded-help-entries</code> : procedure/0</h3>
<p>Usage: <code>(find-unneeded-help-entries) =&gt; li</code></p>
<p>Return a list of help entries for which no symbols are defined.</p>
<p>See also: <code>dump, dump-bindings, find-missing-help-entries</code>.</p>
<h3 data-number="2.20.32" id="functional-arity-procedure1"><span class="header-section-number">2.20.32</span> <code>functional-arity</code> : procedure/1</h3>
<p>Usage: <code>(functional-arity proc) =&gt; int</code></p>
<p>Return the arity of a functional <code>proc.</code></p>
<p>See also: <code>functional?, functional-has-rest?</code>.</p>
<h3 data-number="2.20.33" id="functional-has-rest-procedure1"><span class="header-section-number">2.20.33</span> <code>functional-has-rest?</code> : procedure/1</h3>
<p>Usage: <code>(functional-has-rest? proc) =&gt; bool</code></p>
<p>Return true if the functional <code>proc</code> has a &amp;rest argument, nil otherwise.</p>
<p>See also: <code>functional?, functional-arity</code>.</p>
<h3 data-number="2.20.34" id="functional-macro1"><span class="header-section-number">2.20.34</span> <code>functional?</code> : macro/1</h3>
<p>Usage: <code>(functional? arg) =&gt; bool</code></p>
<p>Return true if <code>arg</code> is either a builtin function, a closure, or a macro, nil otherwise. This is the right predicate for testing whether the argument is applicable and has an arity.</p>
<p>See also: <code>closure?, proc?, functional-arity, functional-has-rest?</code>.</p>
<h3 data-number="2.20.35" id="gensym-procedure0"><span class="header-section-number">2.20.35</span> <code>gensym</code> : procedure/0</h3>
<p>Usage: <code>(gensym) =&gt; sym</code></p>
<p>Return a new symbol guaranteed to be unique during runtime.</p>
<p>See also: <code>nonce</code>.</p>
<h3 data-number="2.20.36" id="hook-procedure1"><span class="header-section-number">2.20.36</span> <code>hook</code> : procedure/1</h3>
<p>Usage: <code>(hook symbol)</code></p>
<p>Lookup the internal hook number from a symbolic name.</p>
<p>See also: <code>*hooks*, add-hook, remove-hook, remove-hooks</code>.</p>
<h3 data-number="2.20.37" id="include-procedure1"><span class="header-section-number">2.20.37</span> <code>include</code> : procedure/1</h3>
<p>Usage: <code>(include fi) =&gt; any</code></p>
<p>Evaluate the lisp file <code>fi</code> one expression after the other in the current environment.</p>
<p>See also: <code>read, write, open, close</code>.</p>
<h3 data-number="2.20.38" id="intern-procedure1"><span class="header-section-number">2.20.38</span> <code>intern</code> : procedure/1</h3>
<p>Usage: <code>(intern s) =&gt; sym</code></p>
<p>Create a new interned symbol based on string <code>s.</code></p>
<p>See also: <code>gensym, str-&gt;sym, make-symbol</code>.</p>
<h3 data-number="2.20.39" id="intrinsic-procedure1"><span class="header-section-number">2.20.39</span> <code>intrinsic</code> : procedure/1</h3>
<p>Usage: <code>(intrinsic sym) =&gt; any</code></p>
<p>Attempt to obtain the value that is intrinsically bound to <code>sym</code>. Use this function to express the intention to use the pre-defined builtin value of a symbol in the base language.</p>
<p>See also: <code>bind, unbind</code>.</p>
<p><strong>Warning: This function currently only returns the binding but this behavior might change in future.</strong></p>
<h3 data-number="2.20.40" id="intrinsic-procedure1-1"><span class="header-section-number">2.20.40</span> <code>intrinsic?</code> : procedure/1</h3>
<p>Usage: <code>(intrinsic? x) =&gt; bool</code></p>
<p>Return true if <code>x</code> is an intrinsic built-in function, nil otherwise. Notice that this function tests the value and not that a symbol has been bound to the intrinsic.</p>
<p>See also: <code>functional?, macro?, closure?</code>.</p>
<p><strong>Warning: What counts as an intrinsic or not may change from version to version. This is for internal use only.</strong></p>
<h3 data-number="2.20.41" id="macro-procedure1"><span class="header-section-number">2.20.41</span> <code>macro?</code> : procedure/1</h3>
<p>Usage: <code>(macro? x) =&gt; bool</code></p>
<p>Return true if <code>x</code> is a macro, nil otherwise.</p>
<p>See also: <code>functional?, intrinsic?, closure?, functional-arity, functional-has-rest?</code>.</p>
<h3 data-number="2.20.42" id="make-symbol-procedure1"><span class="header-section-number">2.20.42</span> <code>make-symbol</code> : procedure/1</h3>
<p>Usage: <code>(make-symbol s) =&gt; sym</code></p>
<p>Create a new symbol based on string <code>s.</code></p>
<p>See also: <code>str-&gt;sym</code>.</p>
<h3 data-number="2.20.43" id="memstats-procedure0"><span class="header-section-number">2.20.43</span> <code>memstats</code> : procedure/0</h3>
<p>Usage: <code>(memstats) =&gt; dict</code></p>
<p>Return a dict with detailed memory statistics for the system.</p>
<p>See also: <code>collect-garbage</code>.</p>
<h3 data-number="2.20.44" id="nonce-procedure0"><span class="header-section-number">2.20.44</span> <code>nonce</code> : procedure/0</h3>
<p>Usage: <code>(nonce) =&gt; str</code></p>
<p>Return a unique random string. This is not cryptographically secure but the string satisfies reasonable GUID requirements.</p>
<p>See also: <code>externalize, internalize</code>.</p>
<h3 data-number="2.20.45" id="on-feature-macro1-or-more"><span class="header-section-number">2.20.45</span> <code>on-feature</code> : macro/1 or more</h3>
<p>Usage: <code>(on-feature sym body ...) =&gt; any</code></p>
<p>Evaluate the expressions of <code>body</code> if the Lisp feature <code>sym</code> is supported by this implementation, do nothing otherwise.</p>
<p>See also: <code>feature?, *reflect*</code>.</p>
<h3 data-number="2.20.46" id="permission-procedure1"><span class="header-section-number">2.20.46</span> <code>permission?</code> : procedure/1</h3>
<p>Usage: <code>(permission? sym [default]) =&gt; bool</code></p>
<p>Return true if the permission for <code>sym</code> is set, nil otherwise. If the permission flag is unknown, then <code>default</code> is returned. The default for <code>default</code> is nil.</p>
<p>See also: <code>permissions, set-permissions, when-permission, sys</code>.</p>
<h3 data-number="2.20.47" id="permissions-procedure0"><span class="header-section-number">2.20.47</span> <code>permissions</code> : procedure/0</h3>
<p>Usage: <code>(permissions)</code></p>
<p>Return a list of all active permissions of the current interpreter. Permissions are: <code>load-prelude</code> - load the init file on start; <code>load-user-init</code> - load the local user init on startup, file if present; <code>allow-unprotect</code> - allow the user to unprotect protected symbols (for redefining them); <code>allow-protect</code> - allow the user to protect symbols from redefinition or unbinding; <code>interactive</code> - make the session interactive, this is particularly used during startup to determine whether hooks are installed and feedback is given. Permissions have to generally be set or removed in careful combination with <code>revoke-permissions</code>, which redefines symbols and functions.</p>
<p>See also: <code>set-permissions, permission?, when-permission, sys</code>.</p>
<h3 data-number="2.20.48" id="pop-error-handler-procedure0"><span class="header-section-number">2.20.48</span> <code>pop-error-handler</code> : procedure/0</h3>
<p>Usage: <code>(pop-error-handler) =&gt; proc</code></p>
<p>Remove the topmost error handler from the error handler stack and return it. For internal use only.</p>
<p>See also: <code>with-error-handler</code>.</p>
<h3 data-number="2.20.49" id="pop-finalizer-procedure0"><span class="header-section-number">2.20.49</span> <code>pop-finalizer</code> : procedure/0</h3>
<p>Usage: <code>(pop-finalizer) =&gt; proc</code></p>
<p>Remove a finalizer from the finalizer stack and return it. For internal use only.</p>
<p>See also: <code>push-finalizer, with-final</code>.</p>
<h3 data-number="2.20.50" id="proc-macro1"><span class="header-section-number">2.20.50</span> <code>proc?</code> : macro/1</h3>
<p>Usage: <code>(proc? arg) =&gt; bool</code></p>
<p>Return true if <code>arg</code> is a procedure, nil otherwise.</p>
<p>See also: <code>functional?, closure?, functional-arity, functional-has-rest?</code>.</p>
<h3 data-number="2.20.51" id="protect-procedure0-or-more"><span class="header-section-number">2.20.51</span> <code>protect</code> : procedure/0 or more</h3>
<p>Usage: <code>(protect [sym] ...)</code></p>
<p>Protect symbols <code>sym</code> … against changes or rebinding. The symbols need to be quoted. This operation requires the permission ’allow-protect to be set.</p>
<p>See also: <code>protected?, unprotect, dict-protect, dict-unprotect, dict-protected?, permissions, permission?, setq, bind, interpret</code>.</p>
<h3 data-number="2.20.52" id="protect-toplevel-symbols-procedure0"><span class="header-section-number">2.20.52</span> <code>protect-toplevel-symbols</code> : procedure/0</h3>
<p>Usage: <code>(protect-toplevel-symbols)</code></p>
<p>Protect all toplevel symbols that are not yet protected and aren’t in the <em>mutable-toplevel-symbols</em> dict.</p>
<p>See also: <code>protected?, protect, unprotect, declare-unprotected, when-permission?, dict-protect, dict-protected?, dict-unprotect</code>.</p>
<h3 data-number="2.20.53" id="protected-procedure1"><span class="header-section-number">2.20.53</span> <code>protected?</code> : procedure/1</h3>
<p>Usage: <code>(protected? sym)</code></p>
<p>Return true if <code>sym</code> is protected, nil otherwise.</p>
<p>See also: <code>protect, unprotect, dict-unprotect, dict-protected?, permission, permission?, setq, bind, interpret</code>.</p>
<h3 data-number="2.20.54" id="push-error-handler-procedure1"><span class="header-section-number">2.20.54</span> <code>push-error-handler</code> : procedure/1</h3>
<p>Usage: <code>(push-error-handler proc)</code></p>
<p>Push an error handler <code>proc</code> on the error handler stack. For internal use only.</p>
<p>See also: <code>with-error-handler</code>.</p>
<h3 data-number="2.20.55" id="push-finalizer-procedure1"><span class="header-section-number">2.20.55</span> <code>push-finalizer</code> : procedure/1</h3>
<p>Usage: <code>(push-finalizer proc)</code></p>
<p>Push a finalizer procedure <code>proc</code> on the finalizer stack. For internal use only.</p>
<p>See also: <code>with-final, pop-finalizer</code>.</p>
<h3 data-number="2.20.56" id="read-eval-reply-procedure0"><span class="header-section-number">2.20.56</span> <code>read-eval-reply</code> : procedure/0</h3>
<p>Usage: <code>(read-eval-reply)</code></p>
<p>Start a new read-eval-reply loop.</p>
<p>See also: <code>end-input, sys</code>.</p>
<p><strong>Warning: Internal use only. This function might not do what you expect it to do.</strong></p>
<h3 data-number="2.20.57" id="remove-hook-procedure2"><span class="header-section-number">2.20.57</span> <code>remove-hook</code> : procedure/2</h3>
<p>Usage: <code>(remove-hook hook id) =&gt; bool</code></p>
<p>Remove the symbolic or numberic <code>hook</code> with <code>id</code> and return true if the hook was removed, nil otherwise.</p>
<p>See also: <code>add-hook, remove-hooks, replace-hook</code>.</p>
<h3 data-number="2.20.58" id="remove-hook-internal-procedure2"><span class="header-section-number">2.20.58</span> <code>remove-hook-internal</code> : procedure/2</h3>
<p>Usage: <code>(remove-hook-internal hook id)</code></p>
<p>Remove the hook with ID <code>id</code> from numeric <code>hook.</code></p>
<p>See also: <code>remove-hook</code>.</p>
<p><strong>Warning: Internal use only.</strong></p>
<h3 data-number="2.20.59" id="remove-hooks-procedure1"><span class="header-section-number">2.20.59</span> <code>remove-hooks</code> : procedure/1</h3>
<p>Usage: <code>(remove-hooks hook) =&gt; bool</code></p>
<p>Remove all hooks for symbolic or numeric <code>hook</code>, return true if the hook exists and the associated procedures were removed, nil otherwise.</p>
<p>See also: <code>add-hook, remove-hook, replace-hook</code>.</p>
<h3 data-number="2.20.60" id="replace-hook-procedure2"><span class="header-section-number">2.20.60</span> <code>replace-hook</code> : procedure/2</h3>
<p>Usage: <code>(replace-hook hook proc)</code></p>
<p>Remove all hooks for symbolic or numeric <code>hook</code> and install the given <code>proc</code> as the only hook procedure.</p>
<p>See also: <code>add-hook, remove-hook, remove-hooks</code>.</p>
<h3 data-number="2.20.61" id="run-hook-procedure1"><span class="header-section-number">2.20.61</span> <code>run-hook</code> : procedure/1</h3>
<p>Usage: <code>(run-hook hook)</code></p>
<p>Manually run the hook, executing all procedures for the hook.</p>
<p>See also: <code>add-hook, remove-hook</code>.</p>
<h3 data-number="2.20.62" id="run-hook-internal-procedure1-or-more"><span class="header-section-number">2.20.62</span> <code>run-hook-internal</code> : procedure/1 or more</h3>
<p>Usage: <code>(run-hook-internal hook [args] ...)</code></p>
<p>Run all hooks for numeric hook ID <code>hook</code> with <code>args</code>… as arguments.</p>
<p>See also: <code>run-hook</code>.</p>
<p><strong>Warning: Internal use only.</strong></p>
<h3 data-number="2.20.63" id="run-selftest-procedure1-or-more"><span class="header-section-number">2.20.63</span> <code>run-selftest</code> : procedure/1 or more</h3>
<p>Usage: <code>(run-selftest [silent?]) =&gt; any</code></p>
<p>Run a diagnostic self-test of the Z3S5 Machine. If <code>silent?</code> is true, then the self-test returns a list containing a boolean for success, the number of tests performed, the number of successes, the number of errors, and the number of failures. If <code>silent?</code> is not provided or nil, then the test progress and results are displayed. An error indicates a problem with the testing, whereas a failure means that an expected value was not returned.</p>
<p>See also: <code>expect, testing</code>.</p>
<h3 data-number="2.20.64" id="set-permissions-nil"><span class="header-section-number">2.20.64</span> set-permissions : nil</h3>
<p>Usage: <code>(set-permissions li)</code></p>
<p>Set the permissions for the current interpreter. This will trigger an error when the permission cannot be set due to a security violation. Generally, permissions can only be downgraded (made more stringent) and never relaxed. See the information for <code>permissions</code> for an overview of symbolic flags.</p>
<p>See also: <code>permissions, permission?, when-permission, sys</code>.</p>
<h3 data-number="2.20.65" id="sleep-procedure1"><span class="header-section-number">2.20.65</span> <code>sleep</code> : procedure/1</h3>
<p>Usage: <code>(sleep ms)</code></p>
<p>Halt the current task execution for <code>ms</code> milliseconds.</p>
<p>See also: <code>sleep-ns, time, now, now-ns</code>.</p>
<h3 data-number="2.20.66" id="sleep-ns-procedure1"><span class="header-section-number">2.20.66</span> <code>sleep-ns</code> : procedure/1</h3>
<p>Usage: <code>(sleep-ns n</code></p>
<p>Halt the current task execution for <code>n</code> nanoseconds.</p>
<p>See also: <code>sleep, time, now, now-ns</code>.</p>
<h3 data-number="2.20.67" id="sys-key-procedure1"><span class="header-section-number">2.20.67</span> <code>sys-key?</code> : procedure/1</h3>
<p>Usage: <code>(sys-key? key) =&gt; bool</code></p>
<p>Return true if the given sys key <code>key</code> exists, nil otherwise.</p>
<p>See also: <code>sys, setsys</code>.</p>
<h3 data-number="2.20.68" id="sysmsg-procedure1"><span class="header-section-number">2.20.68</span> <code>sysmsg</code> : procedure/1</h3>
<p>Usage: <code>(sysmsg msg)</code></p>
<p>Asynchronously display a system message string <code>msg</code> if in console or page mode, otherwise the message is logged.</p>
<p>See also: <code>sysmsg*, synout, synouty, out, outy</code>.</p>
<h3 data-number="2.20.69" id="sysmsg-procedure1-1"><span class="header-section-number">2.20.69</span> <code>sysmsg*</code> : procedure/1</h3>
<p>Usage: <code>(sysmsg* msg)</code></p>
<p>Display a system message string <code>msg</code> if in console or page mode, otherwise the message is logged.</p>
<p>See also: <code>sysmsg, synout, synouty, out, outy</code>.</p>
<h3 data-number="2.20.70" id="testing-macro1"><span class="header-section-number">2.20.70</span> <code>testing</code> : macro/1</h3>
<p>Usage: <code>(testing name)</code></p>
<p>Registers the string <code>name</code> as the name of the tests that are next registered with expect.</p>
<p>See also: <code>expect, expect-err, expect-ok, run-selftest</code>.</p>
<h3 data-number="2.20.71" id="try-macro2-or-more"><span class="header-section-number">2.20.71</span> <code>try</code> : macro/2 or more</h3>
<p>Usage: <code>(try (finals ...) body ...)</code></p>
<p>Evaluate the forms of the <code>body</code> and afterwards the forms in <code>finals</code>. If during the execution of <code>body</code> an error occurs, first all <code>finals</code> are executed and then the error is printed by the default error printer.</p>
<p>See also: <code>with-final, with-error-handler</code>.</p>
<h3 data-number="2.20.72" id="unprotect-procedure0-or-more"><span class="header-section-number">2.20.72</span> <code>unprotect</code> : procedure/0 or more</h3>
<p>Usage: <code>(unprotect [sym] ...)</code></p>
<p>Unprotect symbols <code>sym</code> …, allowing mutation or rebinding them. The symbols need to be quoted. This operation requires the permission ’allow-unprotect to be set, or else an error is caused.</p>
<p>See also: <code>protect, protected?, dict-unprotect, dict-protected?, permissions, permission?, setq, bind, interpret</code>.</p>
<h3 data-number="2.20.73" id="warn-procedure1-or-more"><span class="header-section-number">2.20.73</span> <code>warn</code> : procedure/1 or more</h3>
<p>Usage: <code>(warn msg [args...])</code></p>
<p>Output the warning message <code>msg</code> in error colors. The optional <code>args</code> are applied to the message as in fmt. The message should not end with a newline.</p>
<p>See also: <code>error</code>.</p>
<h3 data-number="2.20.74" id="when-permission-macro1-or-more"><span class="header-section-number">2.20.74</span> <code>when-permission</code> : macro/1 or more</h3>
<p>Usage: <code>(when-permission perm body ...) =&gt; any</code></p>
<p>Execute the expressions in <code>body</code> if and only if the symbolic permission <code>perm</code> is available.</p>
<p>See also: <code>permission?</code>.</p>
<h3 data-number="2.20.75" id="with-colors-procedure3"><span class="header-section-number">2.20.75</span> <code>with-colors</code> : procedure/3</h3>
<p>Usage: <code>(with-colors textcolor backcolor proc)</code></p>
<p>Execute <code>proc</code> for display side effects, where the default colors are set to <code>textcolor</code> and <code>backcolor</code>. These are color specifications like in the-color. After <code>proc</code> has finished or if an error occurs, the default colors are restored to their original state.</p>
<p>See also: <code>the-color, color, set-color, with-final</code>.</p>
<h3 data-number="2.20.76" id="with-error-handler-macro2-or-more"><span class="header-section-number">2.20.76</span> <code>with-error-handler</code> : macro/2 or more</h3>
<p>Usage: <code>(with-error-handler handler body ...)</code></p>
<p>Evaluate the forms of the <code>body</code> with error handler <code>handler</code> in place. The handler is a procedure that takes the error as argument and handles it. If an error occurs in <code>handler</code>, a default error handler is used. Handlers are only active within the same thread.</p>
<p>See also: <code>with-final</code>.</p>
<h3 data-number="2.20.77" id="with-final-macro2-or-more"><span class="header-section-number">2.20.77</span> <code>with-final</code> : macro/2 or more</h3>
<p>Usage: <code>(with-final finalizer body ...)</code></p>
<p>Evaluate the forms of the <code>body</code> with the given finalizer as error handler. If an error occurs, then <code>finalizer</code> is called with that error and nil. If no error occurs, <code>finalizer</code> is called with nil as first argument and the result of evaluating all forms of <code>body</code> as second argument.</p>
<p>See also: <code>with-error-handler</code>.</p>
<h2 data-number="2.21" id="time-date"><span class="header-section-number">2.21</span> Time &amp; Date</h2>
<p>This section lists functions that are time and date-related. Most of them use <code>(now)</code> and turn it into more human-readable form.</p>
<h3 data-number="2.21.1" id="date-epoch-ns-procedure7"><span class="header-section-number">2.21.1</span> <code>date-&gt;epoch-ns</code> : procedure/7</h3>
<p>Usage: <code>(date-&gt;epoch-ns Y M D h m s ns) =&gt; int</code></p>
<p>Return the Unix epoch nanoseconds based on the given year <code>Y</code>, month <code>M</code>, day <code>D</code>, hour <code>h</code>, minute <code>m</code>, seconds <code>s</code>, and nanosecond fraction of a second <code>ns</code>, as it is e.g. returned in a (now) datelist.</p>
<p>See also: <code>epoch-ns-&gt;datelist, datestr-&gt;datelist, datestr, datestr*, day-of-week, week-of-date, now</code>.</p>
<h3 data-number="2.21.2" id="datelist-epoch-ns-procedure1"><span class="header-section-number">2.21.2</span> <code>datelist-&gt;epoch-ns</code> : procedure/1</h3>
<p>Usage: <code>(datelist-&gt;epoch-ns dateli) =&gt; int</code></p>
<p>Convert a datelist to Unix epoch nanoseconds. This function uses the Unix nanoseconds from the 5th value of the second list in the datelist, as it is provided by functions like (now). However, if the Unix nanoseconds value is not specified in the list, it uses <code>date-&gt;epoch-ns</code> to convert to Unix epoch nanoseconds. Datelists can be incomplete. If the month is not specified, January is assumed. If the day is not specified, the 1st is assumed. If the hour is not specified, 12 is assumed, and corresponding defaults for minutes, seconds, and nanoseconds are 0.</p>
<p>See also: <code>date-&gt;epoch-ns, datestr, datestr*, datestr-&gt;datelist, epoch-ns-&gt;datelist, now</code>.</p>
<h3 data-number="2.21.3" id="datestr-procedure1"><span class="header-section-number">2.21.3</span> <code>datestr</code> : procedure/1</h3>
<p>Usage: <code>(datestr datelist) =&gt; str</code></p>
<p>Return datelist, as it is e.g. returned by (now), as a string in format YYYY-MM-DD HH:mm.</p>
<p>See also: <code>now, datestr*, datestr-&gt;datelist</code>.</p>
<h3 data-number="2.21.4" id="datestr-procedure1-1"><span class="header-section-number">2.21.4</span> <code>datestr*</code> : procedure/1</h3>
<p>Usage: <code>(datestr* datelist) =&gt; str</code></p>
<p>Return the datelist, as it is e.g. returned by (now), as a string in format YYYY-MM-DD HH:mm:ss.nanoseconds.</p>
<p>See also: <code>now, datestr, datestr-&gt;datelist</code>.</p>
<h3 data-number="2.21.5" id="datestr-datelist-procedure1"><span class="header-section-number">2.21.5</span> <code>datestr-&gt;datelist</code> : procedure/1</h3>
<p>Usage: <code>(datestr-&gt;datelist s) =&gt; li</code></p>
<p>Convert a date string in the format of datestr and datestr* into a date list as it is e.g. returned by (now).</p>
<p>See also: <code>datestr*, datestr, now</code>.</p>
<h3 data-number="2.21.6" id="day-procedure2"><span class="header-section-number">2.21.6</span> <code>day+</code> : procedure/2</h3>
<p>Usage: <code>(day+ dateli n) =&gt; dateli</code></p>
<p>Adds <code>n</code> days to the given date <code>dateli</code> in datelist format and returns the new datelist.</p>
<p>See also: <code>sec+, minute+, hour+, week+, month+, year+, now</code>.</p>
<h3 data-number="2.21.7" id="day-of-week-procedure3"><span class="header-section-number">2.21.7</span> <code>day-of-week</code> : procedure/3</h3>
<p>Usage: <code>(day-of-week Y M D) =&gt; int</code></p>
<p>Return the day of week based on the date with year <code>Y</code>, month <code>M</code>, and day <code>D</code>. The first day number 0 is Sunday, the last day is Saturday with number 6.</p>
<p>See also: <code>week-of-date, datestr-&gt;datelist, date-&gt;epoch-ns, epoch-ns-&gt;datelist, datestr, datestr*, now</code>.</p>
<h3 data-number="2.21.8" id="epoch-ns-datelist-procedure1"><span class="header-section-number">2.21.8</span> <code>epoch-ns-&gt;datelist</code> : procedure/1</h3>
<p>Usage: <code>(epoch-ns-&gt;datelist ns) =&gt; li</code></p>
<p>Return the date list in UTC time corresponding to the Unix epoch nanoseconds <code>ns.</code></p>
<p>See also: <code>date-&gt;epoch-ns, datestr-&gt;datelist, datestr, datestr*, day-of-week, week-of-date, now</code>.</p>
<h3 data-number="2.21.9" id="hour-procedure2"><span class="header-section-number">2.21.9</span> <code>hour+</code> : procedure/2</h3>
<p>Usage: <code>(hour+ dateli n) =&gt; dateli</code></p>
<p>Adds <code>n</code> hours to the given date <code>dateli</code> in datelist format and returns the new datelist.</p>
<p>See also: <code>sec+, minute+, day+, week+, month+, year+, now</code>.</p>
<h3 data-number="2.21.10" id="minute-procedure2"><span class="header-section-number">2.21.10</span> <code>minute+</code> : procedure/2</h3>
<p>Usage: <code>(minute+ dateli n) =&gt; dateli</code></p>
<p>Adds <code>n</code> minutes to the given date <code>dateli</code> in datelist format and returns the new datelist.</p>
<p>See also: <code>sec+, hour+, day+, week+, month+, year+, now</code>.</p>
<h3 data-number="2.21.11" id="month-procedure2"><span class="header-section-number">2.21.11</span> <code>month+</code> : procedure/2</h3>
<p>Usage: <code>(month+ dateli n) =&gt; dateli</code></p>
<p>Adds <code>n</code> months to the given date <code>dateli</code> in datelist format and returns the new datelist.</p>
<p>See also: <code>sec+, minute+, hour+, day+, week+, year+, now</code>.</p>
<h3 data-number="2.21.12" id="now-procedure0"><span class="header-section-number">2.21.12</span> <code>now</code> : procedure/0</h3>
<p>Usage: <code>(now) =&gt; li</code></p>
<p>Return the current datetime in UTC format as a list of values in the form ’((year month day weekday iso-week) (hour minute second nanosecond unix-nano-second)).</p>
<p>See also: <code>now-ns, datestr, time, date-&gt;epoch-ns, epoch-ns-&gt;datelist</code>.</p>
<h3 data-number="2.21.13" id="now-ms-procedure0"><span class="header-section-number">2.21.13</span> <code>now-ms</code> : procedure/0</h3>
<p>Usage: <code>(now-ms) =&gt; num</code></p>
<p>Return the relative system time as a call to (now-ns) but in milliseconds.</p>
<p>See also: <code>now-ns, now</code>.</p>
<h3 data-number="2.21.14" id="now-ns-procedure0"><span class="header-section-number">2.21.14</span> <code>now-ns</code> : procedure/0</h3>
<p>Usage: <code>(now-ns) =&gt; int</code></p>
<p>Return the current time in Unix nanoseconds.</p>
<p>See also: <code>now, time</code>.</p>
<h3 data-number="2.21.15" id="sec-procedure2"><span class="header-section-number">2.21.15</span> <code>sec+</code> : procedure/2</h3>
<p>Usage: <code>(sec+ dateli n) =&gt; dateli</code></p>
<p>Adds <code>n</code> seconds to the given date <code>dateli</code> in datelist format and returns the new datelist.</p>
<p>See also: <code>minute+, hour+, day+, week+, month+, year+, now</code>.</p>
<h3 data-number="2.21.16" id="time-procedure1"><span class="header-section-number">2.21.16</span> <code>time</code> : procedure/1</h3>
<p>Usage: <code>(time proc) =&gt; int</code></p>
<p>Return the time in nanoseconds that it takes to execute the procedure with no arguments <code>proc.</code></p>
<p>See also: <code>now-ns, now</code>.</p>
<h3 data-number="2.21.17" id="week-procedure2"><span class="header-section-number">2.21.17</span> <code>week+</code> : procedure/2</h3>
<p>Usage: <code>(week+ dateli n) =&gt; dateli</code></p>
<p>Adds <code>n</code> weeks to the given date <code>dateli</code> in datelist format and returns the new datelist.</p>
<p>See also: <code>sec+, minute+, hour+, day+, month+, year+, now</code>.</p>
<h3 data-number="2.21.18" id="week-of-date-procedure3"><span class="header-section-number">2.21.18</span> <code>week-of-date</code> : procedure/3</h3>
<p>Usage: <code>(week-of-date Y M D) =&gt; int</code></p>
<p>Return the week of the date in the year given by year <code>Y</code>, month <code>M</code>, and day <code>D.</code></p>
<p>See also: <code>day-of-week, datestr-&gt;datelist, date-&gt;epoch-ns, epoch-ns-&gt;datelist, datestr, datestr*, now</code>.</p>
<h3 data-number="2.21.19" id="year-procedure2"><span class="header-section-number">2.21.19</span> <code>year+</code> : procedure/2</h3>
<p>Usage: <code>(month+ dateli n) =&gt; dateli</code></p>
<p>Adds <code>n</code> years to the given date <code>dateli</code> in datelist format and returns the new datelist.</p>
<p>See also: <code>sec+, minute+, hour+, day+, week+, month+, now</code>.</p>
<h2 data-number="2.22" id="user-interface"><span class="header-section-number">2.22</span> User Interface</h2>
<p>This section lists miscellaneous user interface commands such as color for terminals.</p>
<h3 data-number="2.22.1" id="colors-dict"><span class="header-section-number">2.22.1</span> <em>colors</em> : dict</h3>
<p>Usage: <code>*colors*</code></p>
<p>A global dict that maps default color names to color lists (r g b), (r g b a) or selectors for (color selector). This can be used with procedure the-color to translate symbolic names to colors.</p>
<p>See also: <code>the-color</code>.</p>
<h3 data-number="2.22.2" id="color-procedure1"><span class="header-section-number">2.22.2</span> <code>color</code> : procedure/1</h3>
<p>Usage: <code>(color sel) =&gt; (r g b a)</code></p>
<p>Return the color based on <code>sel</code>, which may be ’text for the text color, ’back for the background color, ’textarea for the color of the text area, ’gfx for the current graphics foreground color, and ’frame for the frame color.</p>
<p>See also: <code>set-color, the-color, with-colors</code>.</p>
<h3 data-number="2.22.3" id="darken-procedure1"><span class="header-section-number">2.22.3</span> <code>darken</code> : procedure/1</h3>
<p>Usage: <code>(darken color [amount]) =&gt; (r g b a)</code></p>
<p>Return a darker version of <code>color</code>. The optional positive <code>amount</code> specifies the amount of darkening (0-255).</p>
<p>See also: <code>the-color, *colors*, lighten</code>.</p>
<h3 data-number="2.22.4" id="lighten-procedure1"><span class="header-section-number">2.22.4</span> <code>lighten</code> : procedure/1</h3>
<p>Usage: <code>(lighten color [amount]) =&gt; (r g b a)</code></p>
<p>Return a lighter version of <code>color</code>. The optional positive <code>amount</code> specifies the amount of lightening (0-255).</p>
<p>See also: <code>the-color, *colors*, darken</code>.</p>
<h3 data-number="2.22.5" id="out-procedure1"><span class="header-section-number">2.22.5</span> <code>out</code> : procedure/1</h3>
<p>Usage: <code>(out expr)</code></p>
<p>Output <code>expr</code> on the console with current default background and foreground color.</p>
<p>See also: <code>outy, synout, synouty, output-at</code>.</p>
<h3 data-number="2.22.6" id="outy-procedure1"><span class="header-section-number">2.22.6</span> <code>outy</code> : procedure/1</h3>
<p>Usage: <code>(outy spec)</code></p>
<p>Output styled text specified in <code>spec</code>. A specification is a list of lists starting with ’fg for foreground, ’bg for background, or ’text for unstyled text. If the list starts with ’fg or ’bg then the next element must be a color suitable for (the-color spec). Following may be a string to print or another color specification. If a list starts with ’text then one or more strings may follow.</p>
<p>See also: <code>*colors*, the-color, set-color, color, gfx.color, output-at, out</code>.</p>
<h3 data-number="2.22.7" id="random-color-procedure0-or-more"><span class="header-section-number">2.22.7</span> <code>random-color</code> : procedure/0 or more</h3>
<p>Usage: <code>(random-color [alpha])</code></p>
<p>Return a random color with optional <code>alpha</code> value. If <code>alpha</code> is not specified, it is 255.</p>
<p>See also: <code>the-color, *colors*, darken, lighten</code>.</p>
<h3 data-number="2.22.8" id="set-color-procedure1"><span class="header-section-number">2.22.8</span> <code>set-color</code> : procedure/1</h3>
<p>Usage: <code>(set-color sel colorlist)</code></p>
<p>Set the color according to <code>sel</code> to the color <code>colorlist</code> of the form ’(r g b a). See <code>color</code> for information about <code>sel.</code></p>
<p>See also: <code>color, the-color, with-colors</code>.</p>
<h3 data-number="2.22.9" id="synout-procedure1"><span class="header-section-number">2.22.9</span> <code>synout</code> : procedure/1</h3>
<p>Usage: <code>(synout arg)</code></p>
<p>Like out, but enforcing a new input line afterwards. This needs to be used when outputing concurrently in a future or task.</p>
<p>See also: <code>out, outy, synouty</code>.</p>
<p><strong>Warning: Concurrent display output can lead to unexpected visual results and ought to be avoided.</strong></p>
<h3 data-number="2.22.10" id="the-color-procedure1"><span class="header-section-number">2.22.10</span> <code>the-color</code> : procedure/1</h3>
<p>Usage: <code>(the-color colors-spec) =&gt; (r g b a)</code></p>
<p>Return the color list (r g b a) based on a color specification, which may be a color list (r g b), a color selector for (color selector) or a color name such as ’dark-blue.</p>
<p>See also: <code>*colors*, color, set-color, outy</code>.</p>
<h3 data-number="2.22.11" id="the-color-names-procedure0"><span class="header-section-number">2.22.11</span> <code>the-color-names</code> : procedure/0</h3>
<p>Usage: <code>(the-color-names) =&gt; li</code></p>
<p>Return the list of color names in <em>colors</em>.</p>
<p>See also: <code>*colors*, the-color</code>.</p>
<h1 data-number="3" id="complete-reference"><span class="header-section-number">3</span> Complete Reference</h1>
<h2 data-number="3.1" id="procedure2-7"><span class="header-section-number">3.1</span> <code>%</code> : procedure/2</h2>
<p>Usage: <code>(% x y) =&gt; num</code></p>
<p>Compute the remainder of dividing number <code>x</code> by <code>y.</code></p>
<p>See also: <code>mod, /</code>.</p>
<h2 data-number="3.2" id="procedure0-or-more-2"><span class="header-section-number">3.2</span> <code>*</code> : procedure/0 or more</h2>
<p>Usage: <code>(* [args] ...) =&gt; num</code></p>
<p>Multiply all <code>args</code>. Special cases: (<em>) is 1 and (</em> x) is x.</p>
<p>See also: <code>+, -, /</code>.</p>
<h2 data-number="3.3" id="colors-dict-1"><span class="header-section-number">3.3</span> <em>colors</em> : dict</h2>
<p>Usage: <code>*colors*</code></p>
<p>A global dict that maps default color names to color lists (r g b), (r g b a) or selectors for (color selector). This can be used with procedure the-color to translate symbolic names to colors.</p>
<p>See also: <code>the-color</code>.</p>
<h2 data-number="3.4" id="error-handler-dict-1"><span class="header-section-number">3.4</span> <em>error-handler</em> : dict</h2>
<p>Usage: <code>(*error-handler* err)</code></p>
<p>The global error handler dict that contains procedures which take an error and handle it. If an entry is nil, the default handler is used, which outputs the error using <em>error-printer</em>. The dict contains handlers based on concurrent thread IDs and ought not be manipulated directly.</p>
<p>See also: <code>*error-printer*</code>.</p>
<h2 data-number="3.5" id="error-printer-procedure1-1"><span class="header-section-number">3.5</span> <code>*error-printer*</code> : procedure/1</h2>
<p>Usage: <code>(*error-printer* err)</code></p>
<p>The global printer procedure which takes an error and prints it.</p>
<p>See also: <code>error</code>.</p>
<h2 data-number="3.6" id="help-dict-1"><span class="header-section-number">3.6</span> <em>help</em> : dict</h2>
<p>Usage: <code>*help*</code></p>
<p>Dict containing all help information for symbols.</p>
<p>See also: <code>help, defhelp, apropos</code>.</p>
<h2 data-number="3.7" id="hooks-dict"><span class="header-section-number">3.7</span> <em>hooks</em> : dict</h2>
<p>Usage: <code>*hooks*</code></p>
<p>A dict containing translations from symbolic names to the internal numeric representations of hooks.</p>
<p>See also: <code>hook, add-hook, remove-hook, remove-hooks</code>.</p>
<h2 data-number="3.8" id="last-error-sym-1"><span class="header-section-number">3.8</span> <em>last-error</em> : sym</h2>
<p>Usage: <code>*last-error* =&gt; str</code></p>
<p>Contains the last error that has occurred.</p>
<p>See also: <code>*error-printer*, *error-handler*</code>.</p>
<p><strong>Warning: This may only be used for debugging! Do <em>not</em> use this for error handling, it will surely fail!</strong></p>
<h2 data-number="3.9" id="reflect-symbol-1"><span class="header-section-number">3.9</span> <em>reflect</em> : symbol</h2>
<p>Usage: <code>*reflect* =&gt; li</code></p>
<p>The list of feature identifiers as symbols that this Lisp implementation supports.</p>
<p>See also: <code>feature?, on-feature</code>.</p>
<h2 data-number="3.10" id="procedure0-or-more-3"><span class="header-section-number">3.10</span> <code>+</code> : procedure/0 or more</h2>
<p>Usage: <code>(+ [args] ...) =&gt; num</code></p>
<p>Sum up all <code>args</code>. Special cases: (+) is 0 and (+ x) is x.</p>
<p>See also: <code>-, *, /</code>.</p>
<h2 data-number="3.11" id="procedure1-or-more-2"><span class="header-section-number">3.11</span> <code>-</code> : procedure/1 or more</h2>
<p>Usage: <code>(- x [y1] [y2] ...) =&gt; num</code></p>
<p>Subtract <code>y1</code>, <code>y2</code>, …, from <code>x</code>. Special case: (- x) is -x.</p>
<p>See also: <code>+, *, /</code>.</p>
<h2 data-number="3.12" id="procedure1-or-more-3"><span class="header-section-number">3.12</span> <code>/</code> : procedure/1 or more</h2>
<p>Usage: <code>(/ x y1 [y2] ...) =&gt; float</code></p>
<p>Divide <code>x</code> by <code>y1</code>, then by <code>y2</code>, and so forth. The result is a float.</p>
<p>See also: <code>+, *, -</code>.</p>
<h2 data-number="3.13" id="procedure2-8"><span class="header-section-number">3.13</span> <code>/=</code> : procedure/2</h2>
<p>Usage: <code>(/= x y) =&gt; bool</code></p>
<p>Return true if number <code>x</code> is not equal to <code>y</code>, nil otherwise.</p>
<p>See also: <code>&gt;, &gt;=, &lt;, &lt;=</code>.</p>
<h2 data-number="3.14" id="th-procedure1-or-more-7"><span class="header-section-number">3.14</span> <code>10th</code> : procedure/1 or more</h2>
<p>Usage: <code>(10th seq [default]) =&gt; any</code></p>
<p>Get the tenth element of a sequence or the optional <code>default</code>. If there is no such element and no default is provided, then an error is raised.</p>
<p>See also: <code>nth, nthdef, car, list-ref, array-ref, string-ref, 1st, 2nd, 3rd, 4th, 5th, 6th, 7th, 8th, 9th</code>.</p>
<h2 data-number="3.15" id="st-procedure1-or-more-1"><span class="header-section-number">3.15</span> <code>1st</code> : procedure/1 or more</h2>
<p>Usage: <code>(1st seq [default]) =&gt; any</code></p>
<p>Get the first element of a sequence or the optional <code>default</code>. If there is no such element and no default is provided, then an error is raised.</p>
<p>See also: <code>nth, nthdef, car, list-ref, array-ref, string-ref, 2nd, 3rd, 4th, 5th, 6th, 7th, 8th, 9th, 10th</code>.</p>
<h2 data-number="3.16" id="nd-procedure1-or-more-1"><span class="header-section-number">3.16</span> <code>2nd</code> : procedure/1 or more</h2>
<p>Usage: <code>(2nd seq [default]) =&gt; any</code></p>
<p>Get the second element of a sequence or the optional <code>default</code>. If there is no such element and no default is provided, then an error is raised.</p>
<p>See also: <code>nth, nthdef, car, list-ref, array-ref, string-ref, 1st, 3rd, 4th, 5th, 6th, 7th, 8th, 9th, 10th</code>.</p>
<h2 data-number="3.17" id="rd-procedure1-or-more-1"><span class="header-section-number">3.17</span> <code>3rd</code> : procedure/1 or more</h2>
<p>Usage: <code>(3rd seq [default]) =&gt; any</code></p>
<p>Get the third element of a sequence or the optional <code>default</code>. If there is no such element and no default is provided, then an error is raised.</p>
<p>See also: <code>nth, nthdef, car, list-ref, array-ref, string-ref, 1st, 2nd, 4th, 5th, 6th, 7th, 8th, 9th, 10th</code>.</p>
<h2 data-number="3.18" id="th-procedure1-or-more-8"><span class="header-section-number">3.18</span> <code>4th</code> : procedure/1 or more</h2>
<p>Usage: <code>(4th seq [default]) =&gt; any</code></p>
<p>Get the fourth element of a sequence or the optional <code>default</code>. If there is no such element and no default is provided, then an error is raised.</p>
<p>See also: <code>nth, nthdef, car, list-ref, array-ref, string-ref, 1st, 2nd, 3rd, 5th, 6th, 7th, 8th, 9th, 10th</code>.</p>
<h2 data-number="3.19" id="th-procedure1-or-more-9"><span class="header-section-number">3.19</span> <code>5th</code> : procedure/1 or more</h2>
<p>Usage: <code>(5th seq [default]) =&gt; any</code></p>
<p>Get the fifth element of a sequence or the optional <code>default</code>. If there is no such element and no default is provided, then an error is raised.</p>
<p>See also: <code>nth, nthdef, car, list-ref, array-ref, string-ref, 1st, 2nd, 3rd, 4th, 6th, 7th, 8th, 9th, 10th</code>.</p>
<h2 data-number="3.20" id="th-procedure1-or-more-10"><span class="header-section-number">3.20</span> <code>6th</code> : procedure/1 or more</h2>
<p>Usage: <code>(6th seq [default]) =&gt; any</code></p>
<p>Get the sixth element of a sequence or the optional <code>default</code>. If there is no such element and no default is provided, then an error is raised.</p>
<p>See also: <code>nth, nthdef, car, list-ref, array-ref, string-ref, 1st, 2nd, 3rd, 4th, 5th, 7th, 8th, 9th, 10th</code>.</p>
<h2 data-number="3.21" id="th-procedure1-or-more-11"><span class="header-section-number">3.21</span> <code>7th</code> : procedure/1 or more</h2>
<p>Usage: <code>(7th seq [default]) =&gt; any</code></p>
<p>Get the seventh element of a sequence or the optional <code>default</code>. If there is no such element and no default is provided, then an error is raised.</p>
<p>See also: <code>nth, nthdef, car, list-ref, array-ref, string-ref, 1st, 2nd, 3rd, 4th, 5th, 6th, 8th, 9th, 10th</code>.</p>
<h2 data-number="3.22" id="th-procedure1-or-more-12"><span class="header-section-number">3.22</span> <code>8th</code> : procedure/1 or more</h2>
<p>Usage: <code>(8th seq [default]) =&gt; any</code></p>
<p>Get the eighth element of a sequence or the optional <code>default</code>. If there is no such element and no default is provided, then an error is raised.</p>
<p>See also: <code>nth, nthdef, car, list-ref, array-ref, string-ref, 1st, 2nd, 3rd, 4th, 5th, 6th, 7th, 9th, 10th</code>.</p>
<h2 data-number="3.23" id="th-procedure1-or-more-13"><span class="header-section-number">3.23</span> <code>9th</code> : procedure/1 or more</h2>
<p>Usage: <code>(9th seq [default]) =&gt; any</code></p>
<p>Get the nineth element of a sequence or the optional <code>default</code>. If there is no such element and no default is provided, then an error is raised.</p>
<p>See also: <code>nth, nthdef, car, list-ref, array-ref, string-ref, 1st, 2nd, 3rd, 4th, 5th, 6th, 7th, 8th, 10th</code>.</p>
<h2 data-number="3.24" id="procedure2-9"><span class="header-section-number">3.24</span> <code>&lt;</code> : procedure/2</h2>
<p>Usage: <code>(&lt; x y) =&gt; bool</code></p>
<p>Return true if <code>x</code> is smaller than <code>y.</code></p>
<p>See also: <code>&lt;=, &gt;=, &gt;</code>.</p>
<h2 data-number="3.25" id="procedure2-10"><span class="header-section-number">3.25</span> <code>&lt;=</code> : procedure/2</h2>
<p>Usage: <code>(&lt;= x y) =&gt; bool</code></p>
<p>Return true if <code>x</code> is smaller than or equal to <code>y</code>, nil otherwise.</p>
<p>See also: <code>&gt;, &lt;, &gt;=, /=</code>.</p>
<h2 data-number="3.26" id="procedure2-11"><span class="header-section-number">3.26</span> <code>=</code> : procedure/2</h2>
<p>Usage: <code>(= x y) =&gt; bool</code></p>
<p>Return true if number <code>x</code> equals number <code>y</code>, nil otherwise.</p>
<p>See also: <code>eql?, equal?</code>.</p>
<h2 data-number="3.27" id="procedure2-12"><span class="header-section-number">3.27</span> <code>&gt;</code> : procedure/2</h2>
<p>Usage: <code>(&gt; x y) =&gt; bool</code></p>
<p>Return true if <code>x</code> is larger than <code>y</code>, nil otherwise.</p>
<p>See also: <code>&lt;, &gt;=, &lt;=, /=</code>.</p>
<h2 data-number="3.28" id="procedure2-13"><span class="header-section-number">3.28</span> <code>&gt;=</code> : procedure/2</h2>
<p>Usage: <code>(&gt;= x y) =&gt; bool</code></p>
<p>Return true if <code>x</code> is larger than or equal to <code>y</code>, nil otherwise.</p>
<p>See also: <code>&gt;, &lt;, &lt;=, /=</code>.</p>
<h2 data-number="3.29" id="abs-procedure1-1"><span class="header-section-number">3.29</span> <code>abs</code> : procedure/1</h2>
<p>Usage: <code>(abs x) =&gt; num</code></p>
<p>Returns the absolute value of number <code>x.</code></p>
<p>See also: <code>*, -, +, /</code>.</p>
<h2 data-number="3.30" id="add-hook-procedure2-1"><span class="header-section-number">3.30</span> <code>add-hook</code> : procedure/2</h2>
<p>Usage: <code>(add-hook hook proc) =&gt; id</code></p>
<p>Add hook procedure <code>proc</code> which takes a list of arguments as argument under symbolic or numeric <code>hook</code> and return an integer hook <code>id</code> for this hook. If <code>hook</code> is not known, nil is returned.</p>
<p>See also: <code>remove-hook, remove-hooks, replace-hook</code>.</p>
<h2 data-number="3.31" id="add-hook-internal-procedure2-1"><span class="header-section-number">3.31</span> <code>add-hook-internal</code> : procedure/2</h2>
<p>Usage: <code>(add-hook-internal hook proc) =&gt; int</code></p>
<p>Add a procedure <code>proc</code> to hook with numeric ID <code>hook</code> and return this procedures hook ID. The function does not check whether the hook exists.</p>
<p>See also: <code>add-hook</code>.</p>
<p><strong>Warning: Internal use only.</strong></p>
<h2 data-number="3.32" id="add-hook-once-procedure2-1"><span class="header-section-number">3.32</span> <code>add-hook-once</code> : procedure/2</h2>
<p>Usage: <code>(add-hook-once hook proc) =&gt; id</code></p>
<p>Add a hook procedure <code>proc</code> which takes a list of arguments under symbolic or numeric <code>hook</code> and return an integer hook <code>id</code>. If <code>hook</code> is not known, nil is returned.</p>
<p>See also: <code>add-hook, remove-hook, replace-hook</code>.</p>
<h2 data-number="3.33" id="add1-procedure1-1"><span class="header-section-number">3.33</span> <code>add1</code> : procedure/1</h2>
<p>Usage: <code>(add1 n) =&gt; num</code></p>
<p>Add 1 to number <code>n.</code></p>
<p>See also: <code>sub1, +, -</code>.</p>
<h2 data-number="3.34" id="alist-dict-procedure1-1"><span class="header-section-number">3.34</span> <code>alist-&gt;dict</code> : procedure/1</h2>
<p>Usage: <code>(alist-&gt;dict li) =&gt; dict</code></p>
<p>Convert an association list <code>li</code> into a dictionary. Note that the value will be the cdr of each list element, not the second element, so you need to use an alist with proper pairs ’(a . b) if you want b to be a single value.</p>
<p>See also: <code>dict-&gt;alist, dict, dict-&gt;list, list-&gt;dict</code>.</p>
<h2 data-number="3.35" id="alist-procedure1-1"><span class="header-section-number">3.35</span> <code>alist?</code> : procedure/1</h2>
<p>Usage: <code>(alist? li) =&gt; bool</code></p>
<p>Return true if <code>li</code> is an association list, nil otherwise. This also works for a-lists where each element is a pair rather than a full list.</p>
<p>See also: <code>assoc</code>.</p>
<h2 data-number="3.36" id="and-macro0-or-more-1"><span class="header-section-number">3.36</span> <code>and</code> : macro/0 or more</h2>
<p>Usage: <code>(and expr1 expr2 ...) =&gt; any</code></p>
<p>Evaluate <code>expr1</code> and if it is not nil, then evaluate <code>expr2</code> and if it is not nil, evaluate the next expression, until all expressions have been evaluated. This is a shortcut logical and.</p>
<p>See also: <code>or</code>.</p>
<h2 data-number="3.37" id="append-procedure1-or-more-1"><span class="header-section-number">3.37</span> <code>append</code> : procedure/1 or more</h2>
<p>Usage: <code>(append li1 li2 ...) =&gt; li</code></p>
<p>Concatenate the lists given as arguments.</p>
<p>See also: <code>cons</code>.</p>
<h2 data-number="3.38" id="apply-procedure2-1"><span class="header-section-number">3.38</span> <code>apply</code> : procedure/2</h2>
<p>Usage: <code>(apply proc arg) =&gt; any</code></p>
<p>Apply function <code>proc</code> to argument list <code>arg.</code></p>
<p>See also: <code>functional?</code>.</p>
<h2 data-number="3.39" id="apropos-procedure1-1"><span class="header-section-number">3.39</span> <code>apropos</code> : procedure/1</h2>
<p>Usage: <code>(apropos sym) =&gt; #li</code></p>
<p>Get a list of procedures and symbols related to <code>sym</code> from the help system.</p>
<p>See also: <code>defhelp, help-entry, help, *help*</code>.</p>
<h2 data-number="3.40" id="array-procedure0-or-more-1"><span class="header-section-number">3.40</span> <code>array</code> : procedure/0 or more</h2>
<p>Usage: <code>(array [arg1] ...) =&gt; array</code></p>
<p>Create an array containing the arguments given to it.</p>
<p>See also: <code>array?, build-array</code>.</p>
<h2 data-number="3.41" id="array-list-procedure1-1"><span class="header-section-number">3.41</span> <code>array-&gt;list</code> : procedure/1</h2>
<p>Usage: <code>(array-&gt;list arr) =&gt; li</code></p>
<p>Convert array <code>arr</code> into a list.</p>
<p>See also: <code>list-&gt;array, array</code>.</p>
<h2 data-number="3.42" id="array-str-procedure1-1"><span class="header-section-number">3.42</span> <code>array-&gt;str</code> : procedure/1</h2>
<p>Usage: <code>(array-str arr) =&gt; s</code></p>
<p>Convert an array of unicode glyphs as integer values into a string. If the given sequence is not a valid UTF-8 sequence, an error is thrown.</p>
<p>See also: <code>str-&gt;array</code>.</p>
<h2 data-number="3.43" id="array-copy-procedure1-1"><span class="header-section-number">3.43</span> <code>array-copy</code> : procedure/1</h2>
<p>Usage: <code>(array-copy arr) =&gt; array</code></p>
<p>Return a copy of <code>arr.</code></p>
<p>See also: <code>array, array?, array-map!, array-pmap!</code>.</p>
<h2 data-number="3.44" id="array-exists-procedure2-1"><span class="header-section-number">3.44</span> <code>array-exists?</code> : procedure/2</h2>
<p>Usage: <code>(array-exists? arr pred) =&gt; bool</code></p>
<p>Return true if <code>pred</code> returns true for at least one element in array <code>arr</code>, nil otherwise.</p>
<p>See also: <code>exists?, forall?, list-exists?, str-exists?, seq?</code>.</p>
<h2 data-number="3.45" id="array-forall-procedure2-1"><span class="header-section-number">3.45</span> <code>array-forall?</code> : procedure/2</h2>
<p>Usage: <code>(array-forall? arr pred) =&gt; bool</code></p>
<p>Return true if predicate <code>pred</code> returns true for all elements of array <code>arr</code>, nil otherwise.</p>
<p>See also: <code>foreach, map, forall?, str-forall?, list-forall?, exists?</code>.</p>
<h2 data-number="3.46" id="array-foreach-procedure2-1"><span class="header-section-number">3.46</span> <code>array-foreach</code> : procedure/2</h2>
<p>Usage: <code>(array-foreach arr proc)</code></p>
<p>Apply <code>proc</code> to each element of array <code>arr</code> in order, for the side effects.</p>
<p>See also: <code>foreach, list-foreach, map</code>.</p>
<h2 data-number="3.47" id="array-len-procedure1-1"><span class="header-section-number">3.47</span> <code>array-len</code> : procedure/1</h2>
<p>Usage: <code>(array-len arr) =&gt; int</code></p>
<p>Return the length of array <code>arr.</code></p>
<p>See also: <code>len</code>.</p>
<h2 data-number="3.48" id="array-map-procedure2-1"><span class="header-section-number">3.48</span> <code>array-map!</code> : procedure/2</h2>
<p>Usage: <code>(array-map! arr proc)</code></p>
<p>Traverse array <code>arr</code> in unspecified order and apply <code>proc</code> to each element. This mutates the array.</p>
<p>See also: <code>array-walk, array-pmap!, array?, map, seq?</code>.</p>
<h2 data-number="3.49" id="array-pmap-procedure2-1"><span class="header-section-number">3.49</span> <code>array-pmap!</code> : procedure/2</h2>
<p>Usage: <code>(array-pmap! arr proc)</code></p>
<p>Apply <code>proc</code> in unspecified order in parallel to array <code>arr</code>, mutating the array to contain the value returned by <code>proc</code> each time. Because of the calling overhead for parallel execution, for many workloads array-map! might be faster if <code>proc</code> is very fast. If <code>proc</code> is slow, then array-pmap! may be much faster for large arrays on machines with many cores.</p>
<p>See also: <code>array-map!, array-walk, array?, map, seq?</code>.</p>
<h2 data-number="3.50" id="array-ref-procedure1-1"><span class="header-section-number">3.50</span> <code>array-ref</code> : procedure/1</h2>
<p>Usage: <code>(array-ref arr n) =&gt; any</code></p>
<p>Return the element of <code>arr</code> at index <code>n</code>. Arrays are 0-indexed.</p>
<p>See also: <code>array?, array, nth, seq?</code>.</p>
<h2 data-number="3.51" id="array-reverse-procedure1-1"><span class="header-section-number">3.51</span> <code>array-reverse</code> : procedure/1</h2>
<p>Usage: <code>(array-reverse arr) =&gt; array</code></p>
<p>Create a copy of <code>arr</code> that reverses the order of all of its elements.</p>
<p>See also: <code>reverse, list-reverse, str-reverse</code>.</p>
<h2 data-number="3.52" id="array-set-procedure3-1"><span class="header-section-number">3.52</span> <code>array-set</code> : procedure/3</h2>
<p>Usage: <code>(array-set arr idx value)</code></p>
<p>Set the value at index <code>idx</code> in <code>arr</code> to <code>value</code>. Arrays are 0-indexed. This mutates the array.</p>
<p>See also: <code>array?, array</code>.</p>
<h2 data-number="3.53" id="array-slice-procedure3-1"><span class="header-section-number">3.53</span> <code>array-slice</code> : procedure/3</h2>
<p>Usage: <code>(array-slice arr low high) =&gt; array</code></p>
<p>Slice the array <code>arr</code> starting from <code>low</code> (inclusive) and ending at <code>high</code> (exclusive) and return the slice.</p>
<p>See also: <code>array-ref, array-len</code>.</p>
<h2 data-number="3.54" id="array-sort-procedure2-1"><span class="header-section-number">3.54</span> <code>array-sort</code> : procedure/2</h2>
<p>Usage: <code>(array-sort arr proc) =&gt; arr</code></p>
<p>Destructively sorts array <code>arr</code> by using comparison proc <code>proc</code>, which takes two arguments and returns true if the first argument is smaller than the second argument, nil otherwise. The array is returned but it is not copied and modified in place by this procedure. The sorting algorithm is not guaranteed to be stable.</p>
<p>See also: <code>sort</code>.</p>
<h2 data-number="3.55" id="array-walk-procedure2-1"><span class="header-section-number">3.55</span> <code>array-walk</code> : procedure/2</h2>
<p>Usage: <code>(array-walk arr proc)</code></p>
<p>Traverse the array <code>arr</code> from first to last element and apply <code>proc</code> to each element for side-effects. Function <code>proc</code> takes the index and the array element at that index as argument. If <code>proc</code> returns nil, then the traversal stops and the index is returned. If <code>proc</code> returns non-nil, traversal continues. If <code>proc</code> never returns nil, then the index returned is -1. This function does not mutate the array.</p>
<p>See also: <code>array-map!, array-pmap!, array?, map, seq?</code>.</p>
<h2 data-number="3.56" id="array-procedure1-1"><span class="header-section-number">3.56</span> <code>array?</code> : procedure/1</h2>
<p>Usage: <code>(array? obj) =&gt; bool</code></p>
<p>Return true of <code>obj</code> is an array, nil otherwise.</p>
<p>See also: <code>seq?, array</code>.</p>
<h2 data-number="3.57" id="ascii85-blob-procedure1-1"><span class="header-section-number">3.57</span> <code>ascii85-&gt;blob</code> : procedure/1</h2>
<p>Usage: <code>(ascii85-&gt;blob str) =&gt; blob</code></p>
<p>Convert the ascii85 encoded string <code>str</code> to a binary blob. This will raise an error if <code>str</code> is not a valid ascii85 encoded string.</p>
<p>See also: <code>blob-&gt;ascii85, base64-&gt;blob, str-&gt;blob, hex-&gt;blob</code>.</p>
<h2 data-number="3.58" id="assoc-procedure2-1"><span class="header-section-number">3.58</span> <code>assoc</code> : procedure/2</h2>
<p>Usage: <code>(assoc key alist) =&gt; li</code></p>
<p>Return the sublist of <code>alist</code> that starts with <code>key</code> if there is any, nil otherwise. Testing is done with equal?. An association list may be of the form ((key1 value1)(key2 value2)…) or ((key1 . value1) (key2 . value2) …)</p>
<p>See also: <code>assoc, assoc1, alist?, eq?, equal?</code>.</p>
<h2 data-number="3.59" id="assoc1-procedure2-1"><span class="header-section-number">3.59</span> <code>assoc1</code> : procedure/2</h2>
<p>Usage: <code>(assoc1 sym li) =&gt; any</code></p>
<p>Get the second element in the first sublist in <code>li</code> that starts with <code>sym</code>. This is equivalent to (cadr (assoc sym li)).</p>
<p>See also: <code>assoc, alist?</code>.</p>
<h2 data-number="3.60" id="assq-procedure2-1"><span class="header-section-number">3.60</span> <code>assq</code> : procedure/2</h2>
<p>Usage: <code>(assq key alist) =&gt; li</code></p>
<p>Return the sublist of <code>alist</code> that starts with <code>key</code> if there is any, nil otherwise. Testing is done with eq?. An association list may be of the form ((key1 value1)(key2 value2)…) or ((key1 . value1) (key2 . value2) …)</p>
<p>See also: <code>assoc, assoc1, eq?, alist?, equal?</code>.</p>
<h2 data-number="3.61" id="atom-procedure1-1"><span class="header-section-number">3.61</span> <code>atom?</code> : procedure/1</h2>
<p>Usage: <code>(atom? x) =&gt; bool</code></p>
<p>Return true if <code>x</code> is an atomic value, nil otherwise. Atomic values are numbers and symbols.</p>
<p>See also: <code>sym?</code>.</p>
<h2 data-number="3.62" id="base64-blob-procedure1-1"><span class="header-section-number">3.62</span> <code>base64-&gt;blob</code> : procedure/1</h2>
<p>Usage: <code>(base64-&gt;blob str) =&gt; blob</code></p>
<p>Convert the base64 encoded string <code>str</code> to a binary blob. This will raise an error if <code>str</code> is not a valid base64 encoded string.</p>
<p>See also: <code>blob-&gt;base64, hex-&gt;blob, ascii85-&gt;blob, str-&gt;blob</code>.</p>
<h2 data-number="3.63" id="beep-procedure1-1"><span class="header-section-number">3.63</span> <code>beep</code> : procedure/1</h2>
<p>Usage: <code>(beep sel)</code></p>
<p>Play a built-in system sound. The argument <code>sel</code> may be one of ’(error start ready click okay confirm info).</p>
<p>See also: <code>play-sound, load-sound</code>.</p>
<h2 data-number="3.64" id="bind-procedure2-1"><span class="header-section-number">3.64</span> <code>bind</code> : procedure/2</h2>
<p>Usage: <code>(bind sym value)</code></p>
<p>Bind <code>value</code> to the global symbol <code>sym</code>. In contrast to setq both values need quoting.</p>
<p>See also: <code>setq</code>.</p>
<h2 data-number="3.65" id="bitand-procedure2-1"><span class="header-section-number">3.65</span> <code>bitand</code> : procedure/2</h2>
<p>Usage: <code>(bitand n m) =&gt; int</code></p>
<p>Return the bitwise and of integers <code>n</code> and <code>m.</code></p>
<p>See also: <code>bitxor, bitor, bitclear, bitshl, bitshr</code>.</p>
<h2 data-number="3.66" id="bitclear-procedure2-1"><span class="header-section-number">3.66</span> <code>bitclear</code> : procedure/2</h2>
<p>Usage: <code>(bitclear n m) =&gt; int</code></p>
<p>Return the bitwise and-not of integers <code>n</code> and <code>m.</code></p>
<p>See also: <code>bitxor, bitand, bitor, bitshl, bitshr</code>.</p>
<h2 data-number="3.67" id="bitor-procedure2-1"><span class="header-section-number">3.67</span> <code>bitor</code> : procedure/2</h2>
<p>Usage: <code>(bitor n m) =&gt; int</code></p>
<p>Return the bitwise or of integers <code>n</code> and <code>m.</code></p>
<p>See also: <code>bitxor, bitand, bitclear, bitshl, bitshr</code>.</p>
<h2 data-number="3.68" id="bitshl-procedure2-1"><span class="header-section-number">3.68</span> <code>bitshl</code> : procedure/2</h2>
<p>Usage: <code>(bitshl n m) =&gt; int</code></p>
<p>Return the bitwise left shift of <code>n</code> by <code>m.</code></p>
<p>See also: <code>bitxor, bitor, bitand, bitclear, bitshr</code>.</p>
<h2 data-number="3.69" id="bitshr-procedure2-1"><span class="header-section-number">3.69</span> <code>bitshr</code> : procedure/2</h2>
<p>Usage: <code>(bitshr n m) =&gt; int</code></p>
<p>Return the bitwise right shift of <code>n</code> by <code>m.</code></p>
<p>See also: <code>bitxor, bitor, bitand, bitclear, bitshl</code>.</p>
<h2 data-number="3.70" id="bitxor-procedure2-1"><span class="header-section-number">3.70</span> <code>bitxor</code> : procedure/2</h2>
<p>Usage: <code>(bitxor n m) =&gt; int</code></p>
<p>Return the bitwise exclusive or value of integers <code>n</code> and <code>m.</code></p>
<p>See also: <code>bitand, bitor, bitclear, bitshl, bitshr</code>.</p>
<h2 data-number="3.71" id="blob-ascii85-procedure1-or-more-1"><span class="header-section-number">3.71</span> <code>blob-&gt;ascii85</code> : procedure/1 or more</h2>
<p>Usage: <code>(blob-&gt;ascii85 b [start] [end]) =&gt; str</code></p>
<p>Convert the blob <code>b</code> to an ascii85 encoded string. If the optional <code>start</code> and <code>end</code> are provided, then only bytes from <code>start</code> (inclusive) to <code>end</code> (exclusive) are converted.</p>
<p>See also: <code>blob-&gt;hex, blob-&gt;str, blob-&gt;base64, valid?, blob?</code>.</p>
<h2 data-number="3.72" id="blob-base64-procedure1-or-more-1"><span class="header-section-number">3.72</span> <code>blob-&gt;base64</code> : procedure/1 or more</h2>
<p>Usage: <code>(blob-&gt;base64 b [start] [end]) =&gt; str</code></p>
<p>Convert the blob <code>b</code> to a base64 encoded string. If the optional <code>start</code> and <code>end</code> are provided, then only bytes from <code>start</code> (inclusive) to <code>end</code> (exclusive) are converted.</p>
<p>See also: <code>base64-&gt;blob, valid?, blob?, blob-&gt;str, blob-&gt;hex, blob-&gt;ascii85</code>.</p>
<h2 data-number="3.73" id="blob-hex-procedure1-or-more-1"><span class="header-section-number">3.73</span> <code>blob-&gt;hex</code> : procedure/1 or more</h2>
<p>Usage: <code>(blob-&gt;hex b [start] [end]) =&gt; str</code></p>
<p>Convert the blob <code>b</code> to a hexadecimal string of byte values. If the optional <code>start</code> and <code>end</code> are provided, then only bytes from <code>start</code> (inclusive) to <code>end</code> (exclusive) are converted.</p>
<p>See also: <code>hex-&gt;blob, str-&gt;blob, valid?, blob?, blob-&gt;base64, blob-&gt;ascii85</code>.</p>
<h2 data-number="3.74" id="blob-str-procedure1-or-more-1"><span class="header-section-number">3.74</span> <code>blob-&gt;str</code> : procedure/1 or more</h2>
<p>Usage: <code>(blob-&gt;str b [start] [end]) =&gt; str</code></p>
<p>Convert blob <code>b</code> into a string. Notice that the string may contain binary data that is not suitable for displaying and does not represent valid UTF-8 glyphs. If the optional <code>start</code> and <code>end</code> are provided, then only bytes from <code>start</code> (inclusive) to <code>end</code> (exclusive) are converted.</p>
<p>See also: <code>str-&gt;blob, valid?, blob?</code>.</p>
<h2 data-number="3.75" id="blob-chksum-procedure1-or-more-1"><span class="header-section-number">3.75</span> <code>blob-chksum</code> : procedure/1 or more</h2>
<p>Usage: <code>(blob-chksum b [start] [end]) =&gt; blob</code></p>
<p>Return the checksum of the contents of blob <code>b</code> as new blob. The checksum is cryptographically secure. If the optional <code>start</code> and <code>end</code> are provided, then only the bytes from <code>start</code> (inclusive) to <code>end</code> (exclusive) are checksummed.</p>
<p>See also: <code>fchksum, blob-free</code>.</p>
<h2 data-number="3.76" id="blob-equal-procedure2-1"><span class="header-section-number">3.76</span> <code>blob-equal?</code> : procedure/2</h2>
<p>Usage: <code>(blob-equal? b1 b2) =&gt; bool</code></p>
<p>Return true if <code>b1</code> and <code>b2</code> are equal, nil otherwise. Two blobs are equal if they are either both invalid, both contain no valid data, or their contents contain exactly the same binary data.</p>
<p>See also: <code>str-&gt;blob, blob-&gt;str, blob-free</code>.</p>
<h2 data-number="3.77" id="blob-free-procedure1-1"><span class="header-section-number">3.77</span> <code>blob-free</code> : procedure/1</h2>
<p>Usage: <code>(blob-free b)</code></p>
<p>Frees the binary data stored in blob <code>b</code> and makes the blob invalid.</p>
<p>See also: <code>make-blob, valid?, str-&gt;blob, blob-&gt;str, blob-equal?</code>.</p>
<h2 data-number="3.78" id="bound-macro1-1"><span class="header-section-number">3.78</span> <code>bound?</code> : macro/1</h2>
<p>Usage: <code>(bound? sym) =&gt; bool</code></p>
<p>Return true if a value is bound to the symbol <code>sym</code>, nil otherwise.</p>
<p>See also: <code>bind, setq</code>.</p>
<h2 data-number="3.79" id="build-array-procedure2-1"><span class="header-section-number">3.79</span> <code>build-array</code> : procedure/2</h2>
<p>Usage: <code>(build-array n init) =&gt; array</code></p>
<p>Create an array containing <code>n</code> elements with initial value <code>init.</code></p>
<p>See also: <code>array, array?</code>.</p>
<h2 data-number="3.80" id="build-list-procedure2-1"><span class="header-section-number">3.80</span> <code>build-list</code> : procedure/2</h2>
<p>Usage: <code>(build-list n proc) =&gt; list</code></p>
<p>Build a list with <code>n</code> elements by applying <code>proc</code> to the counter <code>n</code> each time.</p>
<p>See also: <code>list, list?, map, foreach</code>.</p>
<h2 data-number="3.81" id="caaar-procedure1-1"><span class="header-section-number">3.81</span> <code>caaar</code> : procedure/1</h2>
<p>Usage: <code>(caaar x) =&gt; any</code></p>
<p>Equivalent to (car (car (car <code>x</code>))).</p>
<p>See also: <code>car, cdr, caar, cadr, cdar, cddr, caadr, cadar, caddr, cdaar, cdadr, cddar, cdddr, nth, 1st, 2nd, 3rd</code>.</p>
<h2 data-number="3.82" id="caadr-procedure1-1"><span class="header-section-number">3.82</span> <code>caadr</code> : procedure/1</h2>
<p>Usage: <code>(caadr x) =&gt; any</code></p>
<p>Equivalent to (car (car (cdr <code>x</code>))).</p>
<p>See also: <code>car, cdr, caar, cadr, cdar, cddr, caaar, cadar, caddr, cdaar, cdadr, cddar, cdddr, nth, 1st, 2nd, 3rd</code>.</p>
<h2 data-number="3.83" id="caar-procedure1-1"><span class="header-section-number">3.83</span> <code>caar</code> : procedure/1</h2>
<p>Usage: <code>(caar x) =&gt; any</code></p>
<p>Equivalent to (car (car <code>x</code>)).</p>
<p>See also: <code>car, cdr, cadr, cdar, cddr, caaar, caadr, cadar, caddr, cdaar, cdadr, cddar, cdddr, nth, 1st, 2nd, 3rd</code>.</p>
<h2 data-number="3.84" id="cadar-procedure1-1"><span class="header-section-number">3.84</span> <code>cadar</code> : procedure/1</h2>
<p>Usage: <code>(cadar x) =&gt; any</code></p>
<p>Equivalent to (car (cdr (car <code>x</code>))).</p>
<p>See also: <code>car, cdr, caar, cadr, cdar, cddr, caaar, caadr, caddr, cdaar, cdadr, cddar, cdddr, nth, 1st, 2nd, 3rd</code>.</p>
<h2 data-number="3.85" id="caddr-procedure1-1"><span class="header-section-number">3.85</span> <code>caddr</code> : procedure/1</h2>
<p>Usage: <code>(caddr x) =&gt; any</code></p>
<p>Equivalent to (car (cdr (cdr <code>x</code>))).</p>
<p>See also: <code>car, cdr, caar, cadr, cdar, cddr, caaar, caadr, cadar, cdaar, cdadr, cddar, cdddr, nth, 1st, 2nd, 3rd</code>.</p>
<h2 data-number="3.86" id="cadr-procedure1-1"><span class="header-section-number">3.86</span> <code>cadr</code> : procedure/1</h2>
<p>Usage: <code>(cadr x) =&gt; any</code></p>
<p>Equivalent to (car (cdr <code>x</code>)).</p>
<p>See also: <code>car, cdr, caar, cdar, cddr, caaar, caadr, cadar, caddr, cdaar, cdadr, cddar, cdddr, nth, 1st, 2nd, 3rd</code>.</p>
<h2 data-number="3.87" id="car-procedure1-1"><span class="header-section-number">3.87</span> <code>car</code> : procedure/1</h2>
<p>Usage: <code>(car li) =&gt; any</code></p>
<p>Get the first element of a list or pair <code>li</code>, an error if there is not first element.</p>
<p>See also: <code>list, list?, pair?</code>.</p>
<h2 data-number="3.88" id="case-macro2-or-more-1"><span class="header-section-number">3.88</span> <code>case</code> : macro/2 or more</h2>
<p>Usage: <code>(case expr (clause1 ... clausen)) =&gt; any</code></p>
<p>Standard case macro, where you should use t for the remaining alternative. Example: (case (get dict ’key) ((a b) (out “a or b”))(t (out “something else!”))).</p>
<p>See also: <code>cond</code>.</p>
<h2 data-number="3.89" id="ccmp-macro2-1"><span class="header-section-number">3.89</span> <code>ccmp</code> : macro/2</h2>
<p>Usage: <code>(ccmp sym value) =&gt; int</code></p>
<p>Compare the integer value of <code>sym</code> with the integer <code>value</code>, return 0 if <code>sym</code> = <code>value</code>, -1 if <code>sym</code> &lt; <code>value</code>, and 1 if <code>sym</code> &gt; <code>value</code>. This operation is synchronized between tasks and futures.</p>
<p>See also: <code>cinc!, cdec!, cwait, cst!</code>.</p>
<h2 data-number="3.90" id="cdaar-procedure1-1"><span class="header-section-number">3.90</span> <code>cdaar</code> : procedure/1</h2>
<p>Usage: <code>(cdaar x) =&gt; any</code></p>
<p>Equivalent to (cdr (car (car <code>x</code>))).</p>
<p>See also: <code>car, cdr, caar, cadr, cdar, cddr, caaar, caadr, cadar, caddr, cdadr, cddar, cdddr, nth, 1st, 2nd, 3rd</code>.</p>
<h2 data-number="3.91" id="cdadr-procedure1-1"><span class="header-section-number">3.91</span> <code>cdadr</code> : procedure/1</h2>
<p>Usage: <code>(cdadr x) =&gt; any</code></p>
<p>Equivalent to (cdr (car (cdr <code>x</code>))).</p>
<p>See also: <code>car, cdr, caar, cadr, cdar, cddr, caaar, caadr, cadar, caddr, cdaar, cddar, cdddr, nth, 1st, 2nd, 3rd</code>.</p>
<h2 data-number="3.92" id="cdar-procedure1-1"><span class="header-section-number">3.92</span> <code>cdar</code> : procedure/1</h2>
<p>Usage: <code>(cdar x) =&gt; any</code></p>
<p>Equivalent to (cdr (car <code>x</code>)).</p>
<p>See also: <code>car, cdr, caar, cadr, cddr, caaar, caadr, cadar, caddr, cdaar, cdadr, cddar, cdddr, nth, 1st, 2nd, 3rd</code>.</p>
<h2 data-number="3.93" id="cddar-procedure1-1"><span class="header-section-number">3.93</span> <code>cddar</code> : procedure/1</h2>
<p>Usage: <code>(cddar x) =&gt; any</code></p>
<p>Equivalent to (cdr (cdr (car <code>x</code>))).</p>
<p>See also: <code>car, cdr, caar, cadr, cdar, cddr, caaar, caadr, cadar, caddr, cdaar, cdadr, cdddr, nth, 1st, 2nd, 3rd</code>.</p>
<h2 data-number="3.94" id="cdddr-procedure1-1"><span class="header-section-number">3.94</span> <code>cdddr</code> : procedure/1</h2>
<p>Usage: <code>(cdddr x) =&gt; any</code></p>
<p>Equivalent to (cdr (cdr (cdr <code>x</code>))).</p>
<p>See also: <code>car, cdr, caar, cadr, cdar, cddr, caaar, caadr, cadar, caddr, cdaar, cdadr, cddar, nth, 1st, 2nd, 3rd</code>.</p>
<h2 data-number="3.95" id="cddr-procedure1-1"><span class="header-section-number">3.95</span> <code>cddr</code> : procedure/1</h2>
<p>Usage: <code>(cddr x) =&gt; any</code></p>
<p>Equivalent to (cdr (cdr <code>x</code>)).</p>
<p>See also: <code>car, cdr, caar, cadr, cdar, caaar, caadr, cadar, caddr, cdaar, cdadr, cddar, cdddr, nth, 1st, 2nd, 3rd</code>.</p>
<h2 data-number="3.96" id="cdec-macro1-1"><span class="header-section-number">3.96</span> <code>cdec!</code> : macro/1</h2>
<p>Usage: <code>(cdec! sym) =&gt; int</code></p>
<p>Decrease the integer value stored in top-level symbol <code>sym</code> by 1 and return the new value. This operation is synchronized between tasks and futures.</p>
<p>See also: <code>cinc!, cwait, ccmp, cst!</code>.</p>
<h2 data-number="3.97" id="cdr-procedure1-1"><span class="header-section-number">3.97</span> <code>cdr</code> : procedure/1</h2>
<p>Usage: <code>(cdr li) =&gt; any</code></p>
<p>Get the rest of a list <code>li</code>. If the list is proper, the cdr is a list. If it is a pair, then it may be an element. If the list is empty, nil is returned.</p>
<p>See also: <code>car, list, list?, pair?</code>.</p>
<h2 data-number="3.98" id="char-str-procedure1-1"><span class="header-section-number">3.98</span> <code>char-&gt;str</code> : procedure/1</h2>
<p>Usage: <code>(char-&gt;str n) =&gt; str</code></p>
<p>Return a string containing the unicode char based on integer <code>n.</code></p>
<p>See also: <code>str-&gt;char</code>.</p>
<h2 data-number="3.99" id="chars-procedure1-1"><span class="header-section-number">3.99</span> <code>chars</code> : procedure/1</h2>
<p>Usage: <code>(chars str) =&gt; dict</code></p>
<p>Return a charset based on <code>str</code>, i.e., dict with the chars of <code>str</code> as keys and true as value.</p>
<p>See also: <code>dict, get, set, contains</code>.</p>
<h2 data-number="3.100" id="chars-str-procedure1-1"><span class="header-section-number">3.100</span> <code>chars-&gt;str</code> : procedure/1</h2>
<p>Usage: <code>(chars-&gt;str a) =&gt; str</code></p>
<p>Convert an array of UTF-8 rune integers <code>a</code> into a UTF-8 encoded string.</p>
<p>See also: <code>str-&gt;runes, str-&gt;char, char-&gt;str</code>.</p>
<h2 data-number="3.101" id="cinc-macro1-1"><span class="header-section-number">3.101</span> <code>cinc!</code> : macro/1</h2>
<p>Usage: <code>(cinc! sym) =&gt; int</code></p>
<p>Increase the integer value stored in top-level symbol <code>sym</code> by 1 and return the new value. This operation is synchronized between tasks and futures.</p>
<p>See also: <code>cdec!, cwait, ccmp, cst!</code>.</p>
<h2 data-number="3.102" id="close-procedure1-1"><span class="header-section-number">3.102</span> <code>close</code> : procedure/1</h2>
<p>Usage: <code>(close p)</code></p>
<p>Close the port <code>p</code>. Calling close twice on the same port should be avoided.</p>
<p>See also: <code>open, stropen</code>.</p>
<h2 data-number="3.103" id="closure-procedure1-1"><span class="header-section-number">3.103</span> <code>closure?</code> : procedure/1</h2>
<p>Usage: <code>(closure? x) =&gt; bool</code></p>
<p>Return true if <code>x</code> is a closure, nil otherwise. Use <code>function?</code> for texting whether <code>x</code> can be executed.</p>
<p>See also: <code>functional?, macro?, intrinsic?, functional-arity, functional-has-rest?</code>.</p>
<h2 data-number="3.104" id="collect-garbage-procedure0-or-more-1"><span class="header-section-number">3.104</span> <code>collect-garbage</code> : procedure/0 or more</h2>
<p>Usage: <code>(collect-garbage [sort])</code></p>
<p>Force a garbage-collection of the system’s memory. If <code>sort</code> is ’normal, then only a normal incremental garbage colllection is performed. If <code>sort</code> is ’total, then the garbage collection is more thorough and the system attempts to return unused memory to the host OS. Default is ’normal.</p>
<p>See also: <code>memstats</code>.</p>
<p><strong>Warning: There should rarely be a use for this. Try to use less memory-consuming data structures instead.</strong></p>
<h2 data-number="3.105" id="color-procedure1-1"><span class="header-section-number">3.105</span> <code>color</code> : procedure/1</h2>
<p>Usage: <code>(color sel) =&gt; (r g b a)</code></p>
<p>Return the color based on <code>sel</code>, which may be ’text for the text color, ’back for the background color, ’textarea for the color of the text area, ’gfx for the current graphics foreground color, and ’frame for the frame color.</p>
<p>See also: <code>set-color, the-color, with-colors</code>.</p>
<h2 data-number="3.106" id="cons-procedure2-1"><span class="header-section-number">3.106</span> <code>cons</code> : procedure/2</h2>
<p>Usage: <code>(cons a b) =&gt; pair</code></p>
<p>Cons two values into a pair. If <code>b</code> is a list, the result is a list. Otherwise the result is a pair.</p>
<p>See also: <code>cdr, car, list?, pair?</code>.</p>
<h2 data-number="3.107" id="cons-procedure1-1"><span class="header-section-number">3.107</span> <code>cons?</code> : procedure/1</h2>
<p>Usage: <code>(cons? x) =&gt; bool</code></p>
<p>return true if <code>x</code> is not an atom, nil otherwise.</p>
<p>See also: <code>atom?</code>.</p>
<h2 data-number="3.108" id="count-partitions-procedure2-1"><span class="header-section-number">3.108</span> <code>count-partitions</code> : procedure/2</h2>
<p>Usage: <code>(count-partitions m k) =&gt; int</code></p>
<p>Return the number of partitions for divding <code>m</code> items into parts of size <code>k</code> or less, where the size of the last partition may be less than <code>k</code> but the remaining ones have size <code>k.</code></p>
<p>See also: <code>nth-partition, get-partitions</code>.</p>
<h2 data-number="3.109" id="cpunum-procedure0-1"><span class="header-section-number">3.109</span> <code>cpunum</code> : procedure/0</h2>
<p>Usage: <code>(cpunum)</code></p>
<p>Return the number of cpu cores of this machine.</p>
<p>See also: <code>sys</code>.</p>
<p><strong>Warning: This function also counts virtual cores on the emulator. The original Z3S5 machine did not have virtual cpu cores.</strong></p>
<h2 data-number="3.110" id="cst-procedure2-1"><span class="header-section-number">3.110</span> <code>cst!</code> : procedure/2</h2>
<p>Usage: <code>(cst! sym value)</code></p>
<p>Set the value of <code>sym</code> to integer <code>value</code>. This operation is synchronized between tasks and futures.</p>
<p>See also: <code>cinc!, cdec!, ccmp, cwait</code>.</p>
<h2 data-number="3.111" id="current-error-handler-procedure0-1"><span class="header-section-number">3.111</span> <code>current-error-handler</code> : procedure/0</h2>
<p>Usage: <code>(current-error-handler) =&gt; proc</code></p>
<p>Return the current error handler, a default if there is none.</p>
<p>See also: <code>default-error-handler, push-error-handler, pop-error-handler, *current-error-handler*, *current-error-continuation*</code>.</p>
<h2 data-number="3.112" id="cwait-procedure3-1"><span class="header-section-number">3.112</span> <code>cwait</code> : procedure/3</h2>
<p>Usage: <code>(cwait sym value timeout)</code></p>
<p>Wait until integer counter <code>sym</code> has <code>value</code> or <code>timeout</code> milliseconds have passed. If <code>imeout</code> is 0, then this routine might wait indefinitely. This operation is synchronized between tasks and futures.</p>
<p>See also: <code>cinc!, cdec!, ccmp, cst!</code>.</p>
<h2 data-number="3.113" id="darken-procedure1-1"><span class="header-section-number">3.113</span> <code>darken</code> : procedure/1</h2>
<p>Usage: <code>(darken color [amount]) =&gt; (r g b a)</code></p>
<p>Return a darker version of <code>color</code>. The optional positive <code>amount</code> specifies the amount of darkening (0-255).</p>
<p>See also: <code>the-color, *colors*, lighten</code>.</p>
<h2 data-number="3.114" id="date-epoch-ns-procedure7-1"><span class="header-section-number">3.114</span> <code>date-&gt;epoch-ns</code> : procedure/7</h2>
<p>Usage: <code>(date-&gt;epoch-ns Y M D h m s ns) =&gt; int</code></p>
<p>Return the Unix epoch nanoseconds based on the given year <code>Y</code>, month <code>M</code>, day <code>D</code>, hour <code>h</code>, minute <code>m</code>, seconds <code>s</code>, and nanosecond fraction of a second <code>ns</code>, as it is e.g. returned in a (now) datelist.</p>
<p>See also: <code>epoch-ns-&gt;datelist, datestr-&gt;datelist, datestr, datestr*, day-of-week, week-of-date, now</code>.</p>
<h2 data-number="3.115" id="datelist-epoch-ns-procedure1-1"><span class="header-section-number">3.115</span> <code>datelist-&gt;epoch-ns</code> : procedure/1</h2>
<p>Usage: <code>(datelist-&gt;epoch-ns dateli) =&gt; int</code></p>
<p>Convert a datelist to Unix epoch nanoseconds. This function uses the Unix nanoseconds from the 5th value of the second list in the datelist, as it is provided by functions like (now). However, if the Unix nanoseconds value is not specified in the list, it uses <code>date-&gt;epoch-ns</code> to convert to Unix epoch nanoseconds. Datelists can be incomplete. If the month is not specified, January is assumed. If the day is not specified, the 1st is assumed. If the hour is not specified, 12 is assumed, and corresponding defaults for minutes, seconds, and nanoseconds are 0.</p>
<p>See also: <code>date-&gt;epoch-ns, datestr, datestr*, datestr-&gt;datelist, epoch-ns-&gt;datelist, now</code>.</p>
<h2 data-number="3.116" id="datestr-procedure1-2"><span class="header-section-number">3.116</span> <code>datestr</code> : procedure/1</h2>
<p>Usage: <code>(datestr datelist) =&gt; str</code></p>
<p>Return datelist, as it is e.g. returned by (now), as a string in format YYYY-MM-DD HH:mm.</p>
<p>See also: <code>now, datestr*, datestr-&gt;datelist</code>.</p>
<h2 data-number="3.117" id="datestr-procedure1-3"><span class="header-section-number">3.117</span> <code>datestr*</code> : procedure/1</h2>
<p>Usage: <code>(datestr* datelist) =&gt; str</code></p>
<p>Return the datelist, as it is e.g. returned by (now), as a string in format YYYY-MM-DD HH:mm:ss.nanoseconds.</p>
<p>See also: <code>now, datestr, datestr-&gt;datelist</code>.</p>
<h2 data-number="3.118" id="datestr-datelist-procedure1-1"><span class="header-section-number">3.118</span> <code>datestr-&gt;datelist</code> : procedure/1</h2>
<p>Usage: <code>(datestr-&gt;datelist s) =&gt; li</code></p>
<p>Convert a date string in the format of datestr and datestr* into a date list as it is e.g. returned by (now).</p>
<p>See also: <code>datestr*, datestr, now</code>.</p>
<h2 data-number="3.119" id="day-procedure2-1"><span class="header-section-number">3.119</span> <code>day+</code> : procedure/2</h2>
<p>Usage: <code>(day+ dateli n) =&gt; dateli</code></p>
<p>Adds <code>n</code> days to the given date <code>dateli</code> in datelist format and returns the new datelist.</p>
<p>See also: <code>sec+, minute+, hour+, week+, month+, year+, now</code>.</p>
<h2 data-number="3.120" id="day-of-week-procedure3-1"><span class="header-section-number">3.120</span> <code>day-of-week</code> : procedure/3</h2>
<p>Usage: <code>(day-of-week Y M D) =&gt; int</code></p>
<p>Return the day of week based on the date with year <code>Y</code>, month <code>M</code>, and day <code>D</code>. The first day number 0 is Sunday, the last day is Saturday with number 6.</p>
<p>See also: <code>week-of-date, datestr-&gt;datelist, date-&gt;epoch-ns, epoch-ns-&gt;datelist, datestr, datestr*, now</code>.</p>
<h2 data-number="3.121" id="def-custom-hook-procedure2-1"><span class="header-section-number">3.121</span> <code>def-custom-hook</code> : procedure/2</h2>
<p>Usage: <code>(def-custom-hook sym proc)</code></p>
<p>Define a custom hook point, to be called manually from Lisp. These have IDs starting from 65636.</p>
<p>See also: <code>add-hook</code>.</p>
<h2 data-number="3.122" id="default-error-handler-procedure0-1"><span class="header-section-number">3.122</span> <code>default-error-handler</code> : procedure/0</h2>
<p>Usage: <code>(default-error-handler) =&gt; proc</code></p>
<p>Return the default error handler, irrespectively of the current-error-handler.</p>
<p>See also: <code>current-error-handler, push-error-handler, pop-error-handler, *current-error-handler*, *current-error-continuation*</code>.</p>
<h2 data-number="3.123" id="defmacro-macro2-or-more-1"><span class="header-section-number">3.123</span> <code>defmacro</code> : macro/2 or more</h2>
<p>Usage: <code>(defmacro name args body ...)</code></p>
<p>Define a macro <code>name</code> with argument list <code>args</code> and <code>body</code>. Macros are expanded at compile-time.</p>
<p>See also: <code>macro</code>.</p>
<h2 data-number="3.124" id="delete-procedure2-1"><span class="header-section-number">3.124</span> <code>delete</code> : procedure/2</h2>
<p>Usage: <code>(delete d key)</code></p>
<p>Remove the value for <code>key</code> in dict <code>d</code>. This also removes the key.</p>
<p>See also: <code>dict?, get, set</code>.</p>
<h2 data-number="3.125" id="dequeue-macro1-or-more-1"><span class="header-section-number">3.125</span> <code>dequeue!</code> : macro/1 or more</h2>
<p>Usage: <code>(dequeue! sym [def]) =&gt; any</code></p>
<p>Get the next element from queue <code>sym</code>, which must be the unquoted name of a variable, and return it. If a default <code>def</code> is given, then this is returned if the queue is empty, otherwise nil is returned.</p>
<p>See also: <code>make-queue, queue?, enqueue!, glance, queue-empty?, queue-len</code>.</p>
<h2 data-number="3.126" id="dict-procedure0-or-more-1"><span class="header-section-number">3.126</span> <code>dict</code> : procedure/0 or more</h2>
<p>Usage: <code>(dict [li]) =&gt; dict</code></p>
<p>Create a dictionary. The option <code>li</code> must be a list of the form ’(key1 value1 key2 value2 …). Dictionaries are unordered, hence also not sequences. Dictionaries are safe for concurrent access.</p>
<p>See also: <code>array, list</code>.</p>
<h2 data-number="3.127" id="dict-alist-procedure1-1"><span class="header-section-number">3.127</span> <code>dict-&gt;alist</code> : procedure/1</h2>
<p>Usage: <code>(dict-&gt;alist d) =&gt; li</code></p>
<p>Convert a dictionary into an association list. Note that the resulting alist will be a set of proper pairs of the form ’(a . b) if the values in the dictionary are not lists.</p>
<p>See also: <code>dict, dict-map, dict-&gt;list</code>.</p>
<h2 data-number="3.128" id="dict-array-procedure1-1"><span class="header-section-number">3.128</span> <code>dict-&gt;array</code> : procedure/1</h2>
<p>Usage: <code>(dict-array d) =&gt; array</code></p>
<p>Return an array that contains all key, value pairs of <code>d</code>. A key comes directly before its value, but otherwise the order is unspecified.</p>
<p>See also: <code>dict-&gt;list, dict</code>.</p>
<h2 data-number="3.129" id="dict-keys-procedure1-1"><span class="header-section-number">3.129</span> <code>dict-&gt;keys</code> : procedure/1</h2>
<p>Usage: <code>(dict-&gt;keys d) =&gt; li</code></p>
<p>Return the keys of dictionary <code>d</code> in arbitrary order.</p>
<p>See also: <code>dict, dict-&gt;values, dict-&gt;alist, dict-&gt;list</code>.</p>
<h2 data-number="3.130" id="dict-list-procedure1-1"><span class="header-section-number">3.130</span> <code>dict-&gt;list</code> : procedure/1</h2>
<p>Usage: <code>(dict-&gt;list d) =&gt; li</code></p>
<p>Return a list of the form ’(key1 value1 key2 value2 …), where the order of key, value pairs is unspecified.</p>
<p>See also: <code>dict-&gt;array, dict</code>.</p>
<h2 data-number="3.131" id="dict-values-procedure1-1"><span class="header-section-number">3.131</span> <code>dict-&gt;values</code> : procedure/1</h2>
<p>Usage: <code>(dict-&gt;values d) =&gt; li</code></p>
<p>Return the values of dictionary <code>d</code> in arbitrary order.</p>
<p>See also: <code>dict, dict-&gt;keys, dict-&gt;alist, dict-&gt;list</code>.</p>
<h2 data-number="3.132" id="dict-copy-procedure1-1"><span class="header-section-number">3.132</span> <code>dict-copy</code> : procedure/1</h2>
<p>Usage: <code>(dict-copy d) =&gt; dict</code></p>
<p>Return a copy of dict <code>d.</code></p>
<p>See also: <code>dict, dict?</code>.</p>
<h2 data-number="3.133" id="dict-empty-procedure1-1"><span class="header-section-number">3.133</span> <code>dict-empty?</code> : procedure/1</h2>
<p>Usage: <code>(dict-empty? d) =&gt; bool</code></p>
<p>Return true if dict <code>d</code> is empty, nil otherwise. As crazy as this may sound, this can have O(n) complexity if the dict is not empty, but it is still going to be more efficient than any other method.</p>
<p>See also: <code>dict</code>.</p>
<h2 data-number="3.134" id="dict-foreach-procedure2-1"><span class="header-section-number">3.134</span> <code>dict-foreach</code> : procedure/2</h2>
<p>Usage: <code>(dict-foreach d proc)</code></p>
<p>Call <code>proc</code> for side-effects with the key and value for each key, value pair in dict <code>d.</code></p>
<p>See also: <code>dict-map!, dict?, dict</code>.</p>
<h2 data-number="3.135" id="dict-map-procedure2-2"><span class="header-section-number">3.135</span> <code>dict-map</code> : procedure/2</h2>
<p>Usage: <code>(dict-map dict proc) =&gt; dict</code></p>
<p>Returns a copy of <code>dict</code> with <code>proc</code> applies to each key value pair as aruments. Keys are immutable, so <code>proc</code> must take two arguments and return the new value.</p>
<p>See also: <code>dict-map!, map</code>.</p>
<h2 data-number="3.136" id="dict-map-procedure2-3"><span class="header-section-number">3.136</span> <code>dict-map!</code> : procedure/2</h2>
<p>Usage: <code>(dict-map! d proc)</code></p>
<p>Apply procedure <code>proc</code> which takes the key and value as arguments to each key, value pair in dict <code>d</code> and set the respective value in <code>d</code> to the result of <code>proc</code>. Keys are not changed.</p>
<p>See also: <code>dict, dict?, dict-foreach</code>.</p>
<h2 data-number="3.137" id="dict-merge-procedure2-1"><span class="header-section-number">3.137</span> <code>dict-merge</code> : procedure/2</h2>
<p>Usage: <code>(dict-merge a b) =&gt; dict</code></p>
<p>Create a new dict that contains all key-value pairs from dicts <code>a</code> and <code>b</code>. Note that this function is not symmetric. If a key is in both <code>a</code> and <code>b</code>, then the key value pair in <code>a</code> is retained for this key.</p>
<p>See also: <code>dict, dict-map, dict-map!, dict-foreach</code>.</p>
<h2 data-number="3.138" id="dict-protect-procedure1-1"><span class="header-section-number">3.138</span> <code>dict-protect</code> : procedure/1</h2>
<p>Usage: <code>(dict-protect d)</code></p>
<p>Protect dict <code>d</code> against changes. Attempting to set values in a protected dict will cause an error, but all values can be read and the dict can be copied. This function requires permission ’allow-protect.</p>
<p>See also: <code>dict-unprotect, dict-protected?, protect, unprotect, protected?, permissions, permission?</code>.</p>
<p><strong>Warning: Protected dicts are full readable and can be copied, so you may need to use protect to also prevent changes to the toplevel symbol storing the dict!</strong></p>
<h2 data-number="3.139" id="dict-protected-procedure1-1"><span class="header-section-number">3.139</span> <code>dict-protected?</code> : procedure/1</h2>
<p>Usage: <code>(dict-protected? d)</code></p>
<p>Return true if the dict <code>d</code> is protected against mutation, nil otherwise.</p>
<p>See also: <code>dict-protect, dict-unprotect, protect, unprotect, protected?, permissions, permission?</code>.</p>
<h2 data-number="3.140" id="dict-unprotect-procedure1-1"><span class="header-section-number">3.140</span> <code>dict-unprotect</code> : procedure/1</h2>
<p>Usage: <code>(dict-unprotect d)</code></p>
<p>Unprotect the dict <code>d</code> so it can be mutated again. This function requires permission ’allow-unprotect.</p>
<p>See also: <code>dict-protect, dict-protected?, protect, unprotect, protected?, permissions, permission?</code>.</p>
<h2 data-number="3.141" id="dict-procedure1-1"><span class="header-section-number">3.141</span> <code>dict?</code> : procedure/1</h2>
<p>Usage: <code>(dict? obj) =&gt; bool</code></p>
<p>Return true if <code>obj</code> is a dict, nil otherwise.</p>
<p>See also: <code>dict</code>.</p>
<h2 data-number="3.142" id="dir-procedure1-2"><span class="header-section-number">3.142</span> <code>dir</code> : procedure/1</h2>
<p>Usage: <code>(dir [path]) =&gt; li</code></p>
<p>Obtain a directory list for <code>path</code>. If <code>path</code> is not specified, the current working directory is listed.</p>
<p>See also: <code>dir?, open, close, read, write</code>.</p>
<h2 data-number="3.143" id="dir-procedure1-3"><span class="header-section-number">3.143</span> <code>dir?</code> : procedure/1</h2>
<p>Usage: <code>(dir? path) =&gt; bool</code></p>
<p>Check if the file at <code>path</code> is a directory and return true, nil if the file does not exist or is not a directory.</p>
<p>See also: <code>file-exists?, dir, open, close, read, write</code>.</p>
<h2 data-number="3.144" id="div-procedure2-1"><span class="header-section-number">3.144</span> <code>div</code> : procedure/2</h2>
<p>Usage: <code>(div n k) =&gt; int</code></p>
<p>Integer division of <code>n</code> by <code>k.</code></p>
<p>See also: <code>truncate, /, int</code>.</p>
<h2 data-number="3.145" id="dolist-macro1-or-more-1"><span class="header-section-number">3.145</span> <code>dolist</code> : macro/1 or more</h2>
<p>Usage: <code>(dolist (name list [result]) body ...) =&gt; li</code></p>
<p>Traverse the list <code>list</code> in order, binding <code>name</code> to each element subsequently and evaluate the <code>body</code> expressions with this binding. The optional <code>result</code> is the result of the traversal, nil if it is not provided.</p>
<p>See also: <code>letrec, foreach, map</code>.</p>
<h2 data-number="3.146" id="dotimes-macro1-or-more-1"><span class="header-section-number">3.146</span> <code>dotimes</code> : macro/1 or more</h2>
<p>Usage: <code>(dotimes (name count [result]) body ...) =&gt; any</code></p>
<p>Iterate <code>count</code> times, binding <code>name</code> to the counter starting from 0 until the counter has reached count-1, and evaluate the <code>body</code> expressions each time with this binding. The optional <code>result</code> is the result of the iteration, nil if it is not provided.</p>
<p>See also: <code>letrec, dolist, while</code>.</p>
<h2 data-number="3.147" id="dump-procedure0-or-more-1"><span class="header-section-number">3.147</span> <code>dump</code> : procedure/0 or more</h2>
<p>Usage: <code>(dump [sym] [all?]) =&gt; li</code></p>
<p>Return a list of symbols starting with the characters of <code>sym</code> or starting with any characters if <code>sym</code> is omitted, sorted alphabetically. When <code>all?</code> is true, then all symbols are listed, otherwise only symbols that do not contain "_" are listed. By convention, the underscore is used for auxiliary functions.</p>
<p>See also: <code>dump-bindings, save-zimage, load-zimage</code>.</p>
<h2 data-number="3.148" id="dump-bindings-procedure0-1"><span class="header-section-number">3.148</span> <code>dump-bindings</code> : procedure/0</h2>
<p>Usage: <code>(dump-bindings) =&gt; li</code></p>
<p>Return a list of all top-level symbols with bound values, including those intended for internal use.</p>
<p>See also: <code>dump</code>.</p>
<h2 data-number="3.149" id="enq-procedure1-1"><span class="header-section-number">3.149</span> <code>enq</code> : procedure/1</h2>
<p>Usage: <code>(enq proc)</code></p>
<p>Put <code>proc</code> on a special internal queue for sequential execution and execute it when able. <code>proc</code> must be a prodedure that takes no arguments. The queue can be used to synchronizing i/o commands but special care must be taken that <code>proc</code> terminates, or else the system might be damaged.</p>
<p>See also: <code>task, future, synout, synouty</code>.</p>
<p><strong>Warning: Calls to enq can never be nested, neither explicitly or implicitly by calling enq anywhere else in the call chain!</strong></p>
<h2 data-number="3.150" id="enqueue-macro2-1"><span class="header-section-number">3.150</span> <code>enqueue!</code> : macro/2</h2>
<p>Usage: <code>(enqueue! sym elem)</code></p>
<p>Put <code>elem</code> in queue <code>sym</code>, where <code>sym</code> is the unquoted name of a variable.</p>
<p>See also: <code>make-queue, queue?, dequeue!, glance, queue-empty?, queue-len</code>.</p>
<h2 data-number="3.151" id="epoch-ns-datelist-procedure1-1"><span class="header-section-number">3.151</span> <code>epoch-ns-&gt;datelist</code> : procedure/1</h2>
<p>Usage: <code>(epoch-ns-&gt;datelist ns) =&gt; li</code></p>
<p>Return the date list in UTC time corresponding to the Unix epoch nanoseconds <code>ns.</code></p>
<p>See also: <code>date-&gt;epoch-ns, datestr-&gt;datelist, datestr, datestr*, day-of-week, week-of-date, now</code>.</p>
<h2 data-number="3.152" id="eq-procedure2-1"><span class="header-section-number">3.152</span> <code>eq?</code> : procedure/2</h2>
<p>Usage: <code>(eq? x y) =&gt; bool</code></p>
<p>Return true if <code>x</code> and <code>y</code> are equal, nil otherwise. In contrast to other LISPs, eq? checks for deep equality of arrays and dicts. However, lists are compared by checking whether they are the same cell in memory. Use <code>equal?</code> to check for deep equality of lists and other objects.</p>
<p>See also: <code>equal?</code>.</p>
<h2 data-number="3.153" id="eql-procedure2-1"><span class="header-section-number">3.153</span> <code>eql?</code> : procedure/2</h2>
<p>Usage: <code>(eql? x y) =&gt; bool</code></p>
<p>Returns true if <code>x</code> is equal to <code>y</code>, nil otherwise. This is currently the same as equal? but the behavior might change.</p>
<p>See also: <code>equal?</code>.</p>
<p><strong>Warning: Deprecated.</strong></p>
<h2 data-number="3.154" id="equal-procedure2-1"><span class="header-section-number">3.154</span> <code>equal?</code> : procedure/2</h2>
<p>Usage: <code>(equal? x y) =&gt; bool</code></p>
<p>Return true if <code>x</code> and <code>y</code> are equal, nil otherwise. The equality is tested recursively for containers like lists and arrays.</p>
<p>See also: <code>eq?, eql?</code>.</p>
<h2 data-number="3.155" id="error-procedure0-or-more-1"><span class="header-section-number">3.155</span> <code>error</code> : procedure/0 or more</h2>
<p>Usage: <code>(error [msgstr] [expr] ...)</code></p>
<p>Raise an error, where <code>msgstr</code> and the optional expressions <code>expr</code>… work as in a call to fmt.</p>
<p>See also: <code>fmt, with-final</code>.</p>
<h2 data-number="3.156" id="eval-procedure1-1"><span class="header-section-number">3.156</span> <code>eval</code> : procedure/1</h2>
<p>Usage: <code>(eval expr) =&gt; any</code></p>
<p>Evaluate the expression <code>expr</code> in the Z3S5 Machine Lisp interpreter and return the result. The evaluation environment is the system’s environment at the time of the call.</p>
<p>See also: <code>break, apply</code>.</p>
<h2 data-number="3.157" id="even-procedure1-1"><span class="header-section-number">3.157</span> <code>even?</code> : procedure/1</h2>
<p>Usage: <code>(even? n) =&gt; bool</code></p>
<p>Returns true if the integer <code>n</code> is even, nil if it is not even.</p>
<p>See also: <code>odd?</code>.</p>
<h2 data-number="3.158" id="exists-procedure2-1"><span class="header-section-number">3.158</span> <code>exists?</code> : procedure/2</h2>
<p>Usage: <code>(exists? seq pred) =&gt; bool</code></p>
<p>Return true if <code>pred</code> returns true for at least one element in sequence <code>seq</code>, nil otherwise.</p>
<p>See also: <code>forall?, list-exists?, array-exists?, str-exists?, seq?</code>.</p>
<h2 data-number="3.159" id="exit-procedure0-or-more-1"><span class="header-section-number">3.159</span> <code>exit</code> : procedure/0 or more</h2>
<p>Usage: <code>(exit [n])</code></p>
<p>Immediately shut down the system and return OS host error code <code>n</code>. The shutdown is performed gracefully and exit hooks are executed.</p>
<p>See also: <code>n/a</code>.</p>
<h2 data-number="3.160" id="expect-macro2-1"><span class="header-section-number">3.160</span> <code>expect</code> : macro/2</h2>
<p>Usage: <code>(expect value given)</code></p>
<p>Registers a test under the current test name that checks that <code>value</code> is returned by <code>given</code>. The test is only executed when (run-selftest) is executed.</p>
<p>See also: <code>expect-err, expect-ok, run-selftest, testing</code>.</p>
<h2 data-number="3.161" id="expect-err-macro1-or-more-1"><span class="header-section-number">3.161</span> <code>expect-err</code> : macro/1 or more</h2>
<p>Usage: <code>(expect-err expr ...)</code></p>
<p>Registers a test under the current test name that checks that <code>expr</code> produces an error.</p>
<p>See also: <code>expect, expect-ok, run-selftest, testing</code>.</p>
<h2 data-number="3.162" id="expect-false-macro1-or-more-1"><span class="header-section-number">3.162</span> <code>expect-false</code> : macro/1 or more</h2>
<p>Usage: <code>(expect-false expr ...)</code></p>
<p>Registers a test under the current test name that checks that <code>expr</code> is nil.</p>
<p>See also: <code>expect, expect-ok, run-selftest, testing</code>.</p>
<h2 data-number="3.163" id="expect-ok-macro1-or-more-1"><span class="header-section-number">3.163</span> <code>expect-ok</code> : macro/1 or more</h2>
<p>Usage: <code>(expect-err expr ...)</code></p>
<p>Registers a test under the current test name that checks that <code>expr</code> does not produce an error.</p>
<p>See also: <code>expect, expect-ok, run-selftest, testing</code>.</p>
<h2 data-number="3.164" id="expect-true-macro1-or-more-1"><span class="header-section-number">3.164</span> <code>expect-true</code> : macro/1 or more</h2>
<p>Usage: <code>(expect-true expr ...)</code></p>
<p>Registers a test under the current test name that checks that <code>expr</code> is true (not nil).</p>
<p>See also: <code>expect, expect-ok, run-selftest, testing</code>.</p>
<h2 data-number="3.165" id="expr-str-procedure1-1"><span class="header-section-number">3.165</span> <code>expr-&gt;str</code> : procedure/1</h2>
<p>Usage: <code>(expr-&gt;str expr) =&gt; str</code></p>
<p>Convert a Lisp expression <code>expr</code> into a string. Does not use a stream port.</p>
<p>See also: <code>str-&gt;expr, str-&gt;expr*, openstr, internalize, externalize</code>.</p>
<h2 data-number="3.166" id="fdelete-procedure1-1"><span class="header-section-number">3.166</span> <code>fdelete</code> : procedure/1</h2>
<p>Usage: <code>(fdelete path)</code></p>
<p>Removes the file or directory at <code>path.</code></p>
<p>See also: <code>file-exists?, dir?, dir</code>.</p>
<p><strong>Warning: This function also deletes directories containing files and all of their subdirectories!</strong></p>
<h2 data-number="3.167" id="feature-procedure1-1"><span class="header-section-number">3.167</span> <code>feature?</code> : procedure/1</h2>
<p>Usage: <code>(feature? sym) =&gt; bool</code></p>
<p>Return true if the Lisp feature identified by symbol <code>sym</code> is available, nil otherwise.</p>
<p>See also: <code>*reflect*, on-feature</code>.</p>
<h2 data-number="3.168" id="file-port-procedure1-1"><span class="header-section-number">3.168</span> <code>file-port?</code> : procedure/1</h2>
<p>Usage: <code>(file-port? p) =&gt; bool</code></p>
<p>Return true if <code>p</code> is a file port, nil otherwise.</p>
<p>See also: <code>port?, str-port?, open, stropen</code>.</p>
<h2 data-number="3.169" id="filter-procedure2-1"><span class="header-section-number">3.169</span> <code>filter</code> : procedure/2</h2>
<p>Usage: <code>(filter li pred) =&gt; li</code></p>
<p>Return the list based on <code>li</code> with each element removed for which <code>pred</code> returns nil.</p>
<p>See also: <code>list</code>.</p>
<h2 data-number="3.170" id="find-missing-help-entries-procedure0-1"><span class="header-section-number">3.170</span> <code>find-missing-help-entries</code> : procedure/0</h2>
<p>Usage: <code>(find-missing-help-entries) =&gt; li</code></p>
<p>Return a list of global symbols for which help entries are missing.</p>
<p>See also: <code>dump, dump-bindings, find-unneeded-help-entries</code>.</p>
<h2 data-number="3.171" id="find-unneeded-help-entries-procedure0-1"><span class="header-section-number">3.171</span> <code>find-unneeded-help-entries</code> : procedure/0</h2>
<p>Usage: <code>(find-unneeded-help-entries) =&gt; li</code></p>
<p>Return a list of help entries for which no symbols are defined.</p>
<p>See also: <code>dump, dump-bindings, find-missing-help-entries</code>.</p>
<h2 data-number="3.172" id="fl.abs-procedure1-1"><span class="header-section-number">3.172</span> <code>fl.abs</code> : procedure/1</h2>
<p>Usage: <code>(fl.abs x) =&gt; fl</code></p>
<p>Return the absolute value of <code>x.</code></p>
<p>See also: <code>float, *</code>.</p>
<h2 data-number="3.173" id="fl.acos-procedure1-1"><span class="header-section-number">3.173</span> <code>fl.acos</code> : procedure/1</h2>
<p>Usage: <code>(fl.acos x) =&gt; fl</code></p>
<p>Return the arc cosine of <code>x.</code></p>
<p>See also: <code>fl.cos</code>.</p>
<h2 data-number="3.174" id="fl.asin-procedure1-1"><span class="header-section-number">3.174</span> <code>fl.asin</code> : procedure/1</h2>
<p>Usage: <code>(fl.asin x) =&gt; fl</code></p>
<p>Return the arc sine of <code>x.</code></p>
<p>See also: <code>fl.acos</code>.</p>
<h2 data-number="3.175" id="fl.asinh-procedure1-1"><span class="header-section-number">3.175</span> <code>fl.asinh</code> : procedure/1</h2>
<p>Usage: <code>(fl.asinh x) =&gt; fl</code></p>
<p>Return the inverse hyperbolic sine of <code>x.</code></p>
<p>See also: <code>fl.cosh</code>.</p>
<h2 data-number="3.176" id="fl.atan-procedure1-1"><span class="header-section-number">3.176</span> <code>fl.atan</code> : procedure/1</h2>
<p>Usage: <code>(fl.atan x) =&gt; fl</code></p>
<p>Return the arctangent of <code>x</code> in radians.</p>
<p>See also: <code>fl.atanh, fl.tan</code>.</p>
<h2 data-number="3.177" id="fl.atan2-procedure2-1"><span class="header-section-number">3.177</span> <code>fl.atan2</code> : procedure/2</h2>
<p>Usage: <code>(fl.atan2 x y) =&gt; fl</code></p>
<p>Atan2 returns the arc tangent of <code>y</code> / <code>x</code>, using the signs of the two to determine the quadrant of the return value.</p>
<p>See also: <code>fl.atan</code>.</p>
<h2 data-number="3.178" id="fl.atanh-procedure1-1"><span class="header-section-number">3.178</span> <code>fl.atanh</code> : procedure/1</h2>
<p>Usage: <code>(fl.atanh x) =&gt; fl</code></p>
<p>Return the inverse hyperbolic tangent of <code>x.</code></p>
<p>See also: <code>fl.atan</code>.</p>
<h2 data-number="3.179" id="fl.cbrt-procedure1-1"><span class="header-section-number">3.179</span> <code>fl.cbrt</code> : procedure/1</h2>
<p>Usage: <code>(fl.cbrt x) =&gt; fl</code></p>
<p>Return the cube root of <code>x.</code></p>
<p>See also: <code>fl.sqrt</code>.</p>
<h2 data-number="3.180" id="fl.ceil-procedure1-1"><span class="header-section-number">3.180</span> <code>fl.ceil</code> : procedure/1</h2>
<p>Usage: <code>(fl.ceil x) =&gt; fl</code></p>
<p>Round <code>x</code> up to the nearest integer, return it as a floating point number.</p>
<p>See also: <code>fl.floor, truncate, int, fl.round, fl.trunc</code>.</p>
<h2 data-number="3.181" id="fl.cos-procedure1-1"><span class="header-section-number">3.181</span> <code>fl.cos</code> : procedure/1</h2>
<p>Usage: <code>(fl.cos x) =&gt; fl</code></p>
<p>Return the cosine of <code>x.</code></p>
<p>See also: <code>fl.sin</code>.</p>
<h2 data-number="3.182" id="fl.cosh-procedure1-1"><span class="header-section-number">3.182</span> <code>fl.cosh</code> : procedure/1</h2>
<p>Usage: <code>(fl.cosh x) =&gt; fl</code></p>
<p>Return the hyperbolic cosine of <code>x.</code></p>
<p>See also: <code>fl.cos</code>.</p>
<h2 data-number="3.183" id="fl.dim-procedure2-1"><span class="header-section-number">3.183</span> <code>fl.dim</code> : procedure/2</h2>
<p>Usage: <code>(fl.dim x y) =&gt; fl</code></p>
<p>Return the maximum of x, y or 0.</p>
<p>See also: <code>max</code>.</p>
<h2 data-number="3.184" id="fl.erf-procedure1-1"><span class="header-section-number">3.184</span> <code>fl.erf</code> : procedure/1</h2>
<p>Usage: <code>(fl.erf x) =&gt; fl</code></p>
<p>Return the result of the error function of <code>x.</code></p>
<p>See also: <code>fl.erfc, fl.dim</code>.</p>
<h2 data-number="3.185" id="fl.erfc-procedure1-1"><span class="header-section-number">3.185</span> <code>fl.erfc</code> : procedure/1</h2>
<p>Usage: <code>(fl.erfc x) =&gt; fl</code></p>
<p>Return the result of the complementary error function of <code>x.</code></p>
<p>See also: <code>fl.erfcinv, fl.erf</code>.</p>
<h2 data-number="3.186" id="fl.erfcinv-procedure1-1"><span class="header-section-number">3.186</span> <code>fl.erfcinv</code> : procedure/1</h2>
<p>Usage: <code>(fl.erfcinv x) =&gt; fl</code></p>
<p>Return the inverse of (fl.erfc <code>x</code>).</p>
<p>See also: <code>fl.erfc</code>.</p>
<h2 data-number="3.187" id="fl.erfinv-procedure1-1"><span class="header-section-number">3.187</span> <code>fl.erfinv</code> : procedure/1</h2>
<p>Usage: <code>(fl.erfinv x) =&gt; fl</code></p>
<p>Return the inverse of (fl.erf <code>x</code>).</p>
<p>See also: <code>fl.erf</code>.</p>
<h2 data-number="3.188" id="fl.exp-procedure1-1"><span class="header-section-number">3.188</span> <code>fl.exp</code> : procedure/1</h2>
<p>Usage: <code>(fl.exp x) =&gt; fl</code></p>
<p>Return e^<code>x</code>, the base-e exponential of <code>x.</code></p>
<p>See also: <code>fl.exp</code>.</p>
<h2 data-number="3.189" id="fl.exp2-procedure2-1"><span class="header-section-number">3.189</span> <code>fl.exp2</code> : procedure/2</h2>
<p>Usage: <code>(fl.exp2 x) =&gt; fl</code></p>
<p>Return 2^<code>x</code>, the base-2 exponential of <code>x.</code></p>
<p>See also: <code>fl.exp</code>.</p>
<h2 data-number="3.190" id="fl.expm1-procedure1-1"><span class="header-section-number">3.190</span> <code>fl.expm1</code> : procedure/1</h2>
<p>Usage: <code>(fl.expm1 x) =&gt; fl</code></p>
<p>Return e^<code>x-1</code>, the base-e exponential of (sub1 <code>x</code>). This is more accurate than (sub1 (fl.exp <code>x</code>)) when <code>x</code> is very small.</p>
<p>See also: <code>fl.exp</code>.</p>
<h2 data-number="3.191" id="fl.floor-procedure1-1"><span class="header-section-number">3.191</span> <code>fl.floor</code> : procedure/1</h2>
<p>Usage: <code>(fl.floor x) =&gt; fl</code></p>
<p>Return <code>x</code> rounded to the nearest integer below as floating point number.</p>
<p>See also: <code>fl.ceil, truncate, int</code>.</p>
<h2 data-number="3.192" id="fl.fma-procedure3-1"><span class="header-section-number">3.192</span> <code>fl.fma</code> : procedure/3</h2>
<p>Usage: <code>(fl.fma x y z) =&gt; fl</code></p>
<p>Return the fused multiply-add of <code>x</code>, <code>y</code>, <code>z</code>, which is <code>x</code> * <code>y</code> + <code>z.</code></p>
<p>See also: <code>*, +</code>.</p>
<h2 data-number="3.193" id="fl.frexp-procedure1-1"><span class="header-section-number">3.193</span> <code>fl.frexp</code> : procedure/1</h2>
<p>Usage: <code>(fl.frexp x) =&gt; li</code></p>
<p>Break <code>x</code> into a normalized fraction and an integral power of two. It returns a list of (frac exp) containing a float and an integer satisfying <code>x</code> == <code>frac</code> × 2^<code>exp</code> where the absolute value of <code>frac</code> is in the interval [0.5, 1).</p>
<p>See also: <code>fl.exp</code>.</p>
<h2 data-number="3.194" id="fl.gamma-procedure1-1"><span class="header-section-number">3.194</span> <code>fl.gamma</code> : procedure/1</h2>
<p>Usage: <code>(fl.gamma x) =&gt; fl</code></p>
<p>Compute the Gamma function of <code>x.</code></p>
<p>See also: <code>fl.lgamma</code>.</p>
<h2 data-number="3.195" id="fl.hypot-procedure2-1"><span class="header-section-number">3.195</span> <code>fl.hypot</code> : procedure/2</h2>
<p>Usage: <code>(fl.hypot x y) =&gt; fl</code></p>
<p>Compute the square root of x^2 and y^2.</p>
<p>See also: <code>fl.sqrt</code>.</p>
<h2 data-number="3.196" id="fl.ilogb-procedure1-1"><span class="header-section-number">3.196</span> <code>fl.ilogb</code> : procedure/1</h2>
<p>Usage: <code>(fl.ilogb x) =&gt; fl</code></p>
<p>Return the binary exponent of <code>x</code> as a floating point number.</p>
<p>See also: <code>fl.exp2</code>.</p>
<h2 data-number="3.197" id="fl.inf-procedure1-1"><span class="header-section-number">3.197</span> <code>fl.inf</code> : procedure/1</h2>
<p>Usage: <code>(fl.inf x) =&gt; fl</code></p>
<p>Return positive 64 bit floating point infinity +INF if <code>x</code> &gt;= 0 and negative 64 bit floating point finfinity -INF if <code>x</code> &lt; 0.</p>
<p>See also: <code>fl.is-nan?</code>.</p>
<h2 data-number="3.198" id="fl.is-nan-procedure1-1"><span class="header-section-number">3.198</span> <code>fl.is-nan?</code> : procedure/1</h2>
<p>Usage: <code>(fl.is-nan? x) =&gt; bool</code></p>
<p>Return true if <code>x</code> is not a number according to IEEE 754 floating point arithmetics, nil otherwise.</p>
<p>See also: <code>fl.inf</code>.</p>
<h2 data-number="3.199" id="fl.j0-procedure1-1"><span class="header-section-number">3.199</span> <code>fl.j0</code> : procedure/1</h2>
<p>Usage: <code>(fl.j0 x) =&gt; fl</code></p>
<p>Apply the order-zero Bessel function of the first kind to <code>x.</code></p>
<p>See also: <code>fl.j1, fl.jn, fl.y0, fl.y1, fl.yn</code>.</p>
<h2 data-number="3.200" id="fl.j1-procedure1-1"><span class="header-section-number">3.200</span> <code>fl.j1</code> : procedure/1</h2>
<p>Usage: <code>(fl.j1 x) =&gt; fl</code></p>
<p>Apply the the order-one Bessel function of the first kind <code>x.</code></p>
<p>See also: <code>fl.j0, fl.jn, fl.y0, fl.y1, fl.yn</code>.</p>
<h2 data-number="3.201" id="fl.jn-procedure1-1"><span class="header-section-number">3.201</span> <code>fl.jn</code> : procedure/1</h2>
<p>Usage: <code>(fl.jn n x) =&gt; fl</code></p>
<p>Apply the Bessel function of order <code>n</code> to <code>x</code>. The number <code>n</code> must be an integer.</p>
<p>See also: <code>fl.j1, fl.j0, fl.y0, fl.y1, fl.yn</code>.</p>
<h2 data-number="3.202" id="fl.ldexp-procedure2-1"><span class="header-section-number">3.202</span> <code>fl.ldexp</code> : procedure/2</h2>
<p>Usage: <code>(fl.ldexp x n) =&gt; fl</code></p>
<p>Return the inverse of fl.frexp, <code>x</code> * 2^<code>n.</code></p>
<p>See also: <code>fl.frexp</code>.</p>
<h2 data-number="3.203" id="fl.lgamma-procedure1-1"><span class="header-section-number">3.203</span> <code>fl.lgamma</code> : procedure/1</h2>
<p>Usage: <code>(fl.lgamma x) =&gt; li</code></p>
<p>Return a list containing the natural logarithm and sign (-1 or +1) of the Gamma function applied to <code>x.</code></p>
<p>See also: <code>fl.gamma</code>.</p>
<h2 data-number="3.204" id="fl.log-procedure1-1"><span class="header-section-number">3.204</span> <code>fl.log</code> : procedure/1</h2>
<p>Usage: <code>(fl.log x) =&gt; fl</code></p>
<p>Return the natural logarithm of <code>x.</code></p>
<p>See also: <code>fl.log10, fl.log2, fl.logb, fl.log1p</code>.</p>
<h2 data-number="3.205" id="fl.log10-procedure1-1"><span class="header-section-number">3.205</span> <code>fl.log10</code> : procedure/1</h2>
<p>Usage: <code>(fl.log10 x) =&gt; fl</code></p>
<p>Return the decimal logarithm of <code>x.</code></p>
<p>See also: <code>fl.log, fl.log2, fl.logb, fl.log1p</code>.</p>
<h2 data-number="3.206" id="fl.log1p-procedure1-1"><span class="header-section-number">3.206</span> <code>fl.log1p</code> : procedure/1</h2>
<p>Usage: <code>(fl.log1p x) =&gt; fl</code></p>
<p>Return the natural logarithm of <code>x</code> + 1. This function is more accurate than (fl.log (add1 x)) if <code>x</code> is close to 0.</p>
<p>See also: <code>fl.log, fl.log2, fl.logb, fl.log10</code>.</p>
<h2 data-number="3.207" id="fl.log2-procedure1-1"><span class="header-section-number">3.207</span> <code>fl.log2</code> : procedure/1</h2>
<p>Usage: <code>(fl.log2 x) =&gt; fl</code></p>
<p>Return the binary logarithm of <code>x</code>. This is important for calculating entropy, for example.</p>
<p>See also: <code>fl.log, fl.log10, fl.log1p, fl.logb</code>.</p>
<h2 data-number="3.208" id="fl.logb-procedure1-1"><span class="header-section-number">3.208</span> <code>fl.logb</code> : procedure/1</h2>
<p>Usage: <code>(fl.logb x) =&gt; fl</code></p>
<p>Return the binary exponent of <code>x.</code></p>
<p>See also: <code>fl.log, fl.log10, fl.log1p, fl.logb, fl.log2</code>.</p>
<h2 data-number="3.209" id="fl.max-procedure2-1"><span class="header-section-number">3.209</span> <code>fl.max</code> : procedure/2</h2>
<p>Usage: <code>(fl.max x y) =&gt; fl</code></p>
<p>Return the larger value of two floating point arguments <code>x</code> and <code>y.</code></p>
<p>See also: <code>fl.min, max, min</code>.</p>
<h2 data-number="3.210" id="fl.min-procedure2-1"><span class="header-section-number">3.210</span> <code>fl.min</code> : procedure/2</h2>
<p>Usage: <code>(fl.min x y) =&gt; fl</code></p>
<p>Return the smaller value of two floating point arguments <code>x</code> and <code>y.</code></p>
<p>See also: <code>fl.min, max, min</code>.</p>
<h2 data-number="3.211" id="fl.mod-procedure2-1"><span class="header-section-number">3.211</span> <code>fl.mod</code> : procedure/2</h2>
<p>Usage: <code>(fl.mod x y) =&gt; fl</code></p>
<p>Return the floating point remainder of <code>x</code> / <code>y.</code></p>
<p>See also: <code>fl.remainder</code>.</p>
<h2 data-number="3.212" id="fl.modf-procedure1-1"><span class="header-section-number">3.212</span> <code>fl.modf</code> : procedure/1</h2>
<p>Usage: <code>(fl.modf x) =&gt; li</code></p>
<p>Return integer and fractional floating-point numbers that sum to <code>x</code>. Both values have the same sign as <code>x.</code></p>
<p>See also: <code>fl.mod</code>.</p>
<h2 data-number="3.213" id="fl.nan-procedure1-1"><span class="header-section-number">3.213</span> <code>fl.nan</code> : procedure/1</h2>
<p>Usage: <code>(fl.nan) =&gt; fl</code></p>
<p>Return the IEEE 754 not-a-number value.</p>
<p>See also: <code>fl.is-nan?, fl.inf</code>.</p>
<h2 data-number="3.214" id="fl.next-after-procedure1-1"><span class="header-section-number">3.214</span> <code>fl.next-after</code> : procedure/1</h2>
<p>Usage: <code>(fl.next-after x) =&gt; fl</code></p>
<p>Return the next representable floating point number after <code>x.</code></p>
<p>See also: <code>fl.is-nan?, fl.nan, fl.inf</code>.</p>
<h2 data-number="3.215" id="fl.pow-procedure2-1"><span class="header-section-number">3.215</span> <code>fl.pow</code> : procedure/2</h2>
<p>Usage: <code>(fl.pow x y) =&gt; fl</code></p>
<p>Return <code>x</code> to the power of <code>y</code> according to 64 bit floating point arithmetics.</p>
<p>See also: <code>fl.pow10</code>.</p>
<h2 data-number="3.216" id="fl.pow10-procedure1-1"><span class="header-section-number">3.216</span> <code>fl.pow10</code> : procedure/1</h2>
<p>Usage: <code>(fl.pow10 n) =&gt; fl</code></p>
<p>Return 10 to the power of integer <code>n</code> as a 64 bit floating point number.</p>
<p>See also: <code>fl.pow</code>.</p>
<h2 data-number="3.217" id="fl.remainder-procedure2-1"><span class="header-section-number">3.217</span> <code>fl.remainder</code> : procedure/2</h2>
<p>Usage: <code>(fl.remainder x y) =&gt; fl</code></p>
<p>Return the IEEE 754 floating-point remainder of <code>x</code> / <code>y.</code></p>
<p>See also: <code>fl.mod</code>.</p>
<h2 data-number="3.218" id="fl.round-procedure1-1"><span class="header-section-number">3.218</span> <code>fl.round</code> : procedure/1</h2>
<p>Usage: <code>(fl.round x) =&gt; fl</code></p>
<p>Round <code>x</code> to the nearest integer floating point number according to floating point arithmetics.</p>
<p>See also: <code>fl.round-to-even, fl.truncate, int, float</code>.</p>
<h2 data-number="3.219" id="fl.round-to-even-procedure1-1"><span class="header-section-number">3.219</span> <code>fl.round-to-even</code> : procedure/1</h2>
<p>Usage: <code>(fl.round-to-even x) =&gt; fl</code></p>
<p>Round <code>x</code> to the nearest even integer floating point number according to floating point arithmetics.</p>
<p>See also: <code>fl.round, fl.truncate, int, float</code>.</p>
<h2 data-number="3.220" id="fl.signbit-procedure1-1"><span class="header-section-number">3.220</span> <code>fl.signbit</code> : procedure/1</h2>
<p>Usage: <code>(fl.signbit x) =&gt; bool</code></p>
<p>Return true if <code>x</code> is negative, nil otherwise.</p>
<p>See also: <code>fl.abs</code>.</p>
<h2 data-number="3.221" id="fl.sin-procedure1-1"><span class="header-section-number">3.221</span> <code>fl.sin</code> : procedure/1</h2>
<p>Usage: <code>(fl.sin x) =&gt; fl</code></p>
<p>Return the sine of <code>x.</code></p>
<p>See also: <code>fl.cos</code>.</p>
<h2 data-number="3.222" id="fl.sinh-procedure1-1"><span class="header-section-number">3.222</span> <code>fl.sinh</code> : procedure/1</h2>
<p>Usage: <code>(fl.sinh x) =&gt; fl</code></p>
<p>Return the hyperbolic sine of <code>x.</code></p>
<p>See also: <code>fl.sin</code>.</p>
<h2 data-number="3.223" id="fl.sqrt-procedure1-1"><span class="header-section-number">3.223</span> <code>fl.sqrt</code> : procedure/1</h2>
<p>Usage: <code>(fl.sqrt x) =&gt; fl</code></p>
<p>Return the square root of <code>x.</code></p>
<p>See also: <code>fl.pow</code>.</p>
<h2 data-number="3.224" id="fl.tan-procedure1-1"><span class="header-section-number">3.224</span> <code>fl.tan</code> : procedure/1</h2>
<p>Usage: <code>(fl.tan x) =&gt; fl</code></p>
<p>Return the tangent of <code>x</code> in radian.</p>
<p>See also: <code>fl.tanh, fl.sin, fl.cos</code>.</p>
<h2 data-number="3.225" id="fl.tanh-procedure1-1"><span class="header-section-number">3.225</span> <code>fl.tanh</code> : procedure/1</h2>
<p>Usage: <code>(fl.tanh x) =&gt; fl</code></p>
<p>Return the hyperbolic tangent of <code>x.</code></p>
<p>See also: <code>fl.tan, flsinh, fl.cosh</code>.</p>
<h2 data-number="3.226" id="fl.trunc-procedure1-1"><span class="header-section-number">3.226</span> <code>fl.trunc</code> : procedure/1</h2>
<p>Usage: <code>(fl.trunc x) =&gt; fl</code></p>
<p>Return the integer value of <code>x</code> as floating point number.</p>
<p>See also: <code>truncate, int, fl.floor</code>.</p>
<h2 data-number="3.227" id="fl.y0-procedure1-1"><span class="header-section-number">3.227</span> <code>fl.y0</code> : procedure/1</h2>
<p>Usage: <code>(fl.y0 x) =&gt; fl</code></p>
<p>Return the order-zero Bessel function of the second kind applied to <code>x.</code></p>
<p>See also: <code>fl.y1, fl.yn, fl.j0, fl.j1, fl.jn</code>.</p>
<h2 data-number="3.228" id="fl.y1-procedure1-1"><span class="header-section-number">3.228</span> <code>fl.y1</code> : procedure/1</h2>
<p>Usage: <code>(fl.y1 x) =&gt; fl</code></p>
<p>Return the order-one Bessel function of the second kind applied to <code>x.</code></p>
<p>See also: <code>fl.y0, fl.yn, fl.j0, fl.j1, fl.jn</code>.</p>
<h2 data-number="3.229" id="fl.yn-procedure1-1"><span class="header-section-number">3.229</span> <code>fl.yn</code> : procedure/1</h2>
<p>Usage: <code>(fl.yn n x) =&gt; fl</code></p>
<p>Return the Bessel function of the second kind of order <code>n</code> applied to <code>x</code>. Argument <code>n</code> must be an integer value.</p>
<p>See also: <code>fl.y0, fl.y1, fl.j0, fl.j1, fl.jn</code>.</p>
<h2 data-number="3.230" id="flatten-procedure1-1"><span class="header-section-number">3.230</span> <code>flatten</code> : procedure/1</h2>
<p>Usage: <code>(flatten lst) =&gt; list</code></p>
<p>Flatten <code>lst</code>, making all elements of sublists elements of the flattened list.</p>
<p>See also: <code>car, cdr, remove-duplicates</code>.</p>
<h2 data-number="3.231" id="float-procedure1-1"><span class="header-section-number">3.231</span> <code>float</code> : procedure/1</h2>
<p>Usage: <code>(float n) =&gt; float</code></p>
<p>Convert <code>n</code> to a floating point value.</p>
<p>See also: <code>int</code>.</p>
<h2 data-number="3.232" id="fmt-procedure1-or-more-1"><span class="header-section-number">3.232</span> <code>fmt</code> : procedure/1 or more</h2>
<p>Usage: <code>(fmt s [args] ...) =&gt; str</code></p>
<p>Format string <code>s</code> that contains format directives with arbitrary many <code>args</code> as arguments. The number of format directives must match the number of arguments. The format directives are the same as those for the esoteric and arcane programming language “Go”, which was used on Earth for some time.</p>
<p>See also: <code>out</code>.</p>
<h2 data-number="3.233" id="forall-procedure2-1"><span class="header-section-number">3.233</span> <code>forall?</code> : procedure/2</h2>
<p>Usage: <code>(forall? seq pred) =&gt; bool</code></p>
<p>Return true if predicate <code>pred</code> returns true for all elements of sequence <code>seq</code>, nil otherwise.</p>
<p>See also: <code>foreach, map, list-forall?, array-forall?, str-forall?, exists?, str-exists?, array-exists?, list-exists?</code>.</p>
<h2 data-number="3.234" id="force-procedure1-1"><span class="header-section-number">3.234</span> <code>force</code> : procedure/1</h2>
<p>Usage: <code>(force fut) =&gt; any</code></p>
<p>Obtain the value of the computation encapsulated by future <code>fut</code>, halting the current task until it has been obtained. If the future never ends computation, e.g. in an infinite loop, the program may halt indefinitely.</p>
<p>See also: <code>future, task, make-mutex</code>.</p>
<h2 data-number="3.235" id="foreach-procedure2-1"><span class="header-section-number">3.235</span> <code>foreach</code> : procedure/2</h2>
<p>Usage: <code>(foreach seq proc)</code></p>
<p>Apply <code>proc</code> to each element of sequence <code>seq</code> in order, for the side effects.</p>
<p>See also: <code>seq?, map</code>.</p>
<h2 data-number="3.236" id="functional-arity-procedure1-1"><span class="header-section-number">3.236</span> <code>functional-arity</code> : procedure/1</h2>
<p>Usage: <code>(functional-arity proc) =&gt; int</code></p>
<p>Return the arity of a functional <code>proc.</code></p>
<p>See also: <code>functional?, functional-has-rest?</code>.</p>
<h2 data-number="3.237" id="functional-has-rest-procedure1-1"><span class="header-section-number">3.237</span> <code>functional-has-rest?</code> : procedure/1</h2>
<p>Usage: <code>(functional-has-rest? proc) =&gt; bool</code></p>
<p>Return true if the functional <code>proc</code> has a &amp;rest argument, nil otherwise.</p>
<p>See also: <code>functional?, functional-arity</code>.</p>
<h2 data-number="3.238" id="functional-macro1-1"><span class="header-section-number">3.238</span> <code>functional?</code> : macro/1</h2>
<p>Usage: <code>(functional? arg) =&gt; bool</code></p>
<p>Return true if <code>arg</code> is either a builtin function, a closure, or a macro, nil otherwise. This is the right predicate for testing whether the argument is applicable and has an arity.</p>
<p>See also: <code>closure?, proc?, functional-arity, functional-has-rest?</code>.</p>
<h2 data-number="3.239" id="gensym-procedure0-1"><span class="header-section-number">3.239</span> <code>gensym</code> : procedure/0</h2>
<p>Usage: <code>(gensym) =&gt; sym</code></p>
<p>Return a new symbol guaranteed to be unique during runtime.</p>
<p>See also: <code>nonce</code>.</p>
<h2 data-number="3.240" id="get-procedure2-or-more-1"><span class="header-section-number">3.240</span> <code>get</code> : procedure/2 or more</h2>
<p>Usage: <code>(get dict key [default]) =&gt; any</code></p>
<p>Get the value for <code>key</code> in <code>dict</code>, return <code>default</code> if there is no value for <code>key</code>. If <code>default</code> is omitted, then nil is returned. Provide your own default if you want to store nil.</p>
<p>See also: <code>dict, dict?, set</code>.</p>
<h2 data-number="3.241" id="get-or-set-procedure3-1"><span class="header-section-number">3.241</span> <code>get-or-set</code> : procedure/3</h2>
<p>Usage: <code>(get-or-set d key value)</code></p>
<p>Get the value for <code>key</code> in dict <code>d</code> if it already exists, otherwise set it to <code>value.</code></p>
<p>See also: <code>dict?, get, set</code>.</p>
<h2 data-number="3.242" id="get-partitions-procedure2-1"><span class="header-section-number">3.242</span> <code>get-partitions</code> : procedure/2</h2>
<p>Usage: <code>(get-partitions x n) =&gt; proc/1*</code></p>
<p>Return an iterator procedure that returns lists of the form (start-offset end-offset bytes) with 0-index offsets for a given index <code>k</code>, or nil if there is no corresponding part, such that the sizes of the partitions returned in <code>bytes</code> summed up are <code>x</code> and and each partition is <code>n</code> or lower in size. The last partition will be the smallest partition with a <code>bytes</code> value smaller than <code>n</code> if <code>x</code> is not dividable without rest by <code>n</code>. If no argument is provided for the returned iterator, then it returns the number of partitions.</p>
<p>See also: <code>nth-partition, count-partitions, get-file-partitions, iterate</code>.</p>
<h2 data-number="3.243" id="getstacked-procedure3-1"><span class="header-section-number">3.243</span> <code>getstacked</code> : procedure/3</h2>
<p>Usage: <code>(getstacked dict key default)</code></p>
<p>Get the topmost element from the stack stored at <code>key</code> in <code>dict</code>. If the stack is empty or no stack is stored at key, then <code>default</code> is returned.</p>
<p>See also: <code>pushstacked, popstacked</code>.</p>
<h2 data-number="3.244" id="glance-procedure1-1"><span class="header-section-number">3.244</span> <code>glance</code> : procedure/1</h2>
<p>Usage: <code>(glance s [def]) =&gt; any</code></p>
<p>Peek the next element in a stack or queue without changing the data structure. If default <code>def</code> is provided, this is returned in case the stack or queue is empty; otherwise nil is returned.</p>
<p>See also: <code>make-queue, make-stack, queue?, enqueue?, dequeue?, queue-len, stack-len, pop!, push!</code>.</p>
<h2 data-number="3.245" id="has-procedure2-1"><span class="header-section-number">3.245</span> <code>has</code> : procedure/2</h2>
<p>Usage: <code>(has dict key) =&gt; bool</code></p>
<p>Return true if the dict <code>dict</code> contains an entry for <code>key</code>, nil otherwise.</p>
<p>See also: <code>dict, get, set</code>.</p>
<h2 data-number="3.246" id="has-key-procedure2-1"><span class="header-section-number">3.246</span> <code>has-key?</code> : procedure/2</h2>
<p>Usage: <code>(has-key? d key) =&gt; bool</code></p>
<p>Return true if <code>d</code> has key <code>key</code>, nil otherwise.</p>
<p>See also: <code>dict?, get, set, delete</code>.</p>
<h2 data-number="3.247" id="help-macro1-1"><span class="header-section-number">3.247</span> <code>help</code> : macro/1</h2>
<p>Usage: <code>(help sym)</code></p>
<p>Display help information about <code>sym</code> (unquoted).</p>
<p>See also: <code>defhelp, help-entry, *help*, apropos</code>.</p>
<h2 data-number="3.248" id="help-manual-entry-nil-1"><span class="header-section-number">3.248</span> help-&gt;manual-entry : nil</h2>
<p>Usage: <code>(help-&gt;manual-entry key [level]) =&gt; str</code></p>
<p>Looks up help for <code>key</code> and converts it to a manual section as markdown string. If there is no entry for <code>key</code>, then nil is returned. The optional <code>level</code> integer indicates the heading nesting.</p>
<p>See also: <code>help</code>.</p>
<h2 data-number="3.249" id="help-about-procedure1-or-more-1"><span class="header-section-number">3.249</span> <code>help-about</code> : procedure/1 or more</h2>
<p>Usage: <code>(help-about topic [sel]) =&gt; li</code></p>
<p>Obtain a list of symbols for which help about <code>topic</code> is available. If optional <code>sel</code> argument is left out or <code>any</code>, then any symbols with which the topic is associated are listed. If the optional <code>sel</code> argument is <code>first</code>, then a symbol is only listed if it has <code>topic</code> as first topic entry. This restricts the number of entries returned to a more essential selection.</p>
<p>See also: <code>help-topics, help, apropos</code>.</p>
<h2 data-number="3.250" id="help-entry-procedure1-1"><span class="header-section-number">3.250</span> <code>help-entry</code> : procedure/1</h2>
<p>Usage: <code>(help-entry sym) =&gt; list</code></p>
<p>Get usage and help information for <code>sym.</code></p>
<p>See also: <code>defhelp, help, apropos, *help*</code>.</p>
<h2 data-number="3.251" id="help-topic-info-procedure1-1"><span class="header-section-number">3.251</span> <code>help-topic-info</code> : procedure/1</h2>
<p>Usage: <code>(help-topic-info topic) =&gt; li</code></p>
<p>Return a list containing a heading and an info string for help <code>topic</code>, or nil if no info is available.</p>
<p>See also: <code>set-help-topic-info, defhelp, help</code>.</p>
<h2 data-number="3.252" id="help-topics-procedure0-1"><span class="header-section-number">3.252</span> <code>help-topics</code> : procedure/0</h2>
<p>Usage: <code>(help-topics) =&gt; li</code></p>
<p>Obtain a list of help topics for commands.</p>
<p>See also: <code>help, help-topic, apropos</code>.</p>
<h2 data-number="3.253" id="hex-blob-procedure1-1"><span class="header-section-number">3.253</span> <code>hex-&gt;blob</code> : procedure/1</h2>
<p>Usage: <code>(hex-&gt;blob str) =&gt; blob</code></p>
<p>Convert hex string <code>str</code> to a blob. This will raise an error if <code>str</code> is not a valid hex string.</p>
<p>See also: <code>blob-&gt;hex, base64-&gt;blob, ascii85-&gt;blob, str-&gt;blob</code>.</p>
<h2 data-number="3.254" id="hook-procedure1-1"><span class="header-section-number">3.254</span> <code>hook</code> : procedure/1</h2>
<p>Usage: <code>(hook symbol)</code></p>
<p>Lookup the internal hook number from a symbolic name.</p>
<p>See also: <code>*hooks*, add-hook, remove-hook, remove-hooks</code>.</p>
<h2 data-number="3.255" id="hour-procedure2-1"><span class="header-section-number">3.255</span> <code>hour+</code> : procedure/2</h2>
<p>Usage: <code>(hour+ dateli n) =&gt; dateli</code></p>
<p>Adds <code>n</code> hours to the given date <code>dateli</code> in datelist format and returns the new datelist.</p>
<p>See also: <code>sec+, minute+, day+, week+, month+, year+, now</code>.</p>
<h2 data-number="3.256" id="identity-procedure1-1"><span class="header-section-number">3.256</span> <code>identity</code> : procedure/1</h2>
<p>Usage: <code>(identity x)</code></p>
<p>Return <code>x.</code></p>
<p>See also: <code>apply, equal?</code>.</p>
<h2 data-number="3.257" id="if-macro3-1"><span class="header-section-number">3.257</span> <code>if</code> : macro/3</h2>
<p>Usage: <code>(if cond expr1 expr2) =&gt; any</code></p>
<p>Evaluate <code>expr1</code> if <code>cond</code> is true, otherwise evaluate <code>expr2.</code></p>
<p>See also: <code>cond, when, unless</code>.</p>
<h2 data-number="3.258" id="inchars-procedure2-1"><span class="header-section-number">3.258</span> <code>inchars</code> : procedure/2</h2>
<p>Usage: <code>(inchars char chars) =&gt; bool</code></p>
<p>Return true if char is in the charset chars, nil otherwise.</p>
<p>See also: <code>chars, dict, get, set, has</code>.</p>
<h2 data-number="3.259" id="include-procedure1-1"><span class="header-section-number">3.259</span> <code>include</code> : procedure/1</h2>
<p>Usage: <code>(include fi) =&gt; any</code></p>
<p>Evaluate the lisp file <code>fi</code> one expression after the other in the current environment.</p>
<p>See also: <code>read, write, open, close</code>.</p>
<h2 data-number="3.260" id="index-procedure2-or-more-1"><span class="header-section-number">3.260</span> <code>index</code> : procedure/2 or more</h2>
<p>Usage: <code>(index seq elem [pred]) =&gt; int</code></p>
<p>Return the first index of <code>elem</code> in <code>seq</code> going from left to right, using equality predicate <code>pred</code> for comparisons (default is eq?). If <code>elem</code> is not in <code>seq</code>, -1 is returned.</p>
<p>See also: <code>nth, seq?</code>.</p>
<h2 data-number="3.261" id="instr-procedure2-1"><span class="header-section-number">3.261</span> <code>instr</code> : procedure/2</h2>
<p>Usage: <code>(instr s1 s2) =&gt; int</code></p>
<p>Return the index of the first occurrence of <code>s2</code> in <code>s1</code> (from left), or -1 if <code>s1</code> does not contain <code>s2.</code></p>
<p>See also: <code>str?, index</code>.</p>
<h2 data-number="3.262" id="int-procedure1-1"><span class="header-section-number">3.262</span> <code>int</code> : procedure/1</h2>
<p>Usage: <code>(int n) =&gt; int</code></p>
<p>Return <code>n</code> as an integer, rounding down to the nearest integer if necessary.</p>
<p>See also: <code>float</code>.</p>
<p><strong>Warning: If the number is very large this may result in returning the maximum supported integer number rather than the number as integer.</strong></p>
<h2 data-number="3.263" id="intern-procedure1-1"><span class="header-section-number">3.263</span> <code>intern</code> : procedure/1</h2>
<p>Usage: <code>(intern s) =&gt; sym</code></p>
<p>Create a new interned symbol based on string <code>s.</code></p>
<p>See also: <code>gensym, str-&gt;sym, make-symbol</code>.</p>
<h2 data-number="3.264" id="intrinsic-procedure1-2"><span class="header-section-number">3.264</span> <code>intrinsic</code> : procedure/1</h2>
<p>Usage: <code>(intrinsic sym) =&gt; any</code></p>
<p>Attempt to obtain the value that is intrinsically bound to <code>sym</code>. Use this function to express the intention to use the pre-defined builtin value of a symbol in the base language.</p>
<p>See also: <code>bind, unbind</code>.</p>
<p><strong>Warning: This function currently only returns the binding but this behavior might change in future.</strong></p>
<h2 data-number="3.265" id="intrinsic-procedure1-3"><span class="header-section-number">3.265</span> <code>intrinsic?</code> : procedure/1</h2>
<p>Usage: <code>(intrinsic? x) =&gt; bool</code></p>
<p>Return true if <code>x</code> is an intrinsic built-in function, nil otherwise. Notice that this function tests the value and not that a symbol has been bound to the intrinsic.</p>
<p>See also: <code>functional?, macro?, closure?</code>.</p>
<p><strong>Warning: What counts as an intrinsic or not may change from version to version. This is for internal use only.</strong></p>
<h2 data-number="3.266" id="iterate-procedure2-1"><span class="header-section-number">3.266</span> <code>iterate</code> : procedure/2</h2>
<p>Usage: <code>(iterate it proc)</code></p>
<p>Apply <code>proc</code> to each argument returned by iterator <code>it</code> in sequence, similar to the way foreach works. An iterator is a procedure that takes one integer as argument or no argument at all. If no argument is provided, the iterator returns the number of iterations. If an integer is provided, the iterator returns a non-nil value for the given index.</p>
<p>See also: <code>foreach, get-partitions</code>.</p>
<h2 data-number="3.267" id="last-procedure1-or-more-1"><span class="header-section-number">3.267</span> <code>last</code> : procedure/1 or more</h2>
<p>Usage: <code>(last seq [default]) =&gt; any</code></p>
<p>Get the last element of sequence <code>seq</code> or return <code>default</code> if the sequence is empty. If <code>default</code> is not given and the sequence is empty, an error is raised.</p>
<p>See also: <code>nth, nthdef, car, list-ref, array-ref, string, ref, 1st, 2nd, 3rd, 4th, 5th, 6th, 7th, 8th, 9th, 10th</code>.</p>
<h2 data-number="3.268" id="lcons-procedure2-1"><span class="header-section-number">3.268</span> <code>lcons</code> : procedure/2</h2>
<p>Usage: <code>(lcons datum li) =&gt; list</code></p>
<p>Insert <code>datum</code> at the end of the list <code>li</code>. There may be a more efficient implementation of this in the future. Or, maybe not. Who knows?</p>
<p>See also: <code>cons, list, append, nreverse</code>.</p>
<h2 data-number="3.269" id="len-procedure1-1"><span class="header-section-number">3.269</span> <code>len</code> : procedure/1</h2>
<p>Usage: <code>(len seq) =&gt; int</code></p>
<p>Return the length of <code>seq</code>. Works for lists, strings, arrays, and dicts.</p>
<p>See also: <code>seq?</code>.</p>
<h2 data-number="3.270" id="let-macro1-or-more-1"><span class="header-section-number">3.270</span> <code>let</code> : macro/1 or more</h2>
<p>Usage: <code>(let args body ...) =&gt; any</code></p>
<p>Bind each pair of symbol and expression in <code>args</code> and evaluate the expressions in <code>body</code> with these local bindings. Return the value of the last expression in <code>body.</code></p>
<p>See also: <code>letrec</code>.</p>
<h2 data-number="3.271" id="letrec-macro1-or-more-1"><span class="header-section-number">3.271</span> <code>letrec</code> : macro/1 or more</h2>
<p>Usage: <code>(letrec args body ...) =&gt; any</code></p>
<p>Recursive let binds the symbol, expression pairs in <code>args</code> in a way that makes prior bindings available to later bindings and allows for recursive definitions in <code>args</code>, then evaluates the <code>body</code> expressions with these bindings.</p>
<p>See also: <code>let</code>.</p>
<h2 data-number="3.272" id="lighten-procedure1-1"><span class="header-section-number">3.272</span> <code>lighten</code> : procedure/1</h2>
<p>Usage: <code>(lighten color [amount]) =&gt; (r g b a)</code></p>
<p>Return a lighter version of <code>color</code>. The optional positive <code>amount</code> specifies the amount of lightening (0-255).</p>
<p>See also: <code>the-color, *colors*, darken</code>.</p>
<h2 data-number="3.273" id="ling.damerau-levenshtein-procedure2-1"><span class="header-section-number">3.273</span> <code>ling.damerau-levenshtein</code> : procedure/2</h2>
<p>Usage: <code>(ling.damerau-levenshtein s1 s2) =&gt; num</code></p>
<p>Compute the Damerau-Levenshtein distance between <code>s1</code> and <code>s2.</code></p>
<p>See also: <code>ling.match-rating-compare, ling.levenshtein, ling.jaro-winkler, ling.jaro, ling.hamming, ling.match-rating-codex, ling.porter, ling.nysiis, ling.metaphone, ling.soundex</code>.</p>
<h2 data-number="3.274" id="ling.hamming-procedure2-1"><span class="header-section-number">3.274</span> <code>ling.hamming</code> : procedure/2</h2>
<p>Usage: <code>(ling-hamming s1 s2) =&gt; num</code></p>
<p>Compute the Hamming distance between <code>s1</code> and <code>s2.</code></p>
<p>See also: <code>ling.match-rating-compare, ling.levenshtein, ling.jaro-winkler, ling.jaro, ling.damerau-levenshtein, ling.match-rating-codex, ling.porter, ling.nysiis, ling.metaphone, ling.soundex</code>.</p>
<h2 data-number="3.275" id="ling.jaro-procedure2-1"><span class="header-section-number">3.275</span> <code>ling.jaro</code> : procedure/2</h2>
<p>Usage: <code>(ling.jaro s1 s2) =&gt; num</code></p>
<p>Compute the Jaro distance between <code>s1</code> and <code>s2.</code></p>
<p>See also: <code>ling.match-rating-compare, ling.levenshtein, ling.jaro-winkler, ling.hamming, ling.damerau-levenshtein, ling.match-rating-codex, ling.porter, ling.nysiis, ling.metaphone, ling.soundex</code>.</p>
<h2 data-number="3.276" id="ling.jaro-winkler-procedure2-1"><span class="header-section-number">3.276</span> <code>ling.jaro-winkler</code> : procedure/2</h2>
<p>Usage: <code>(ling.jaro-winkler s1 s2) =&gt; num</code></p>
<p>Compute the Jaro-Winkler distance between <code>s1</code> and <code>s2.</code></p>
<p>See also: <code>ling.match-rating-compare, ling.levenshtein, ling.jaro, ling.hamming, ling.damerau-levenshtein, ling.match-rating-codex, ling.porter, ling.nysiis, ling.metaphone, ling.soundex</code>.</p>
<h2 data-number="3.277" id="ling.levenshtein-procedure2-1"><span class="header-section-number">3.277</span> <code>ling.levenshtein</code> : procedure/2</h2>
<p>Usage: <code>(ling.levenshtein s1 s2) =&gt; num</code></p>
<p>Compute the Levenshtein distance between <code>s1</code> and <code>s2.</code></p>
<p>See also: <code>ling.match-rating-compare, ling.jaro-winkler, ling.jaro, ling.hamming, ling.damerau-levenshtein, ling.match-rating-codex, ling.porter, ling.nysiis, ling.metaphone, ling.soundex</code>.</p>
<h2 data-number="3.278" id="ling.match-rating-codex-procedure1-1"><span class="header-section-number">3.278</span> <code>ling.match-rating-codex</code> : procedure/1</h2>
<p>Usage: <code>(ling.match-rating-codex s) =&gt; str</code></p>
<p>Compute the Match-Rating-Codex of string <code>s.</code></p>
<p>See also: <code>ling.match-rating-compare, ling.levenshtein, ling.jaro-winkler, ling.jaro, ling.hamming, ling.damerau-levenshtein, ling.porter, ling.nysiis, ling.metaphone, ling.soundex</code>.</p>
<h2 data-number="3.279" id="ling.match-rating-compare-procedure2-1"><span class="header-section-number">3.279</span> <code>ling.match-rating-compare</code> : procedure/2</h2>
<p>Usage: <code>(ling.match-rating-compare s1 s2) =&gt; bool</code></p>
<p>Returns true if <code>s1</code> and <code>s2</code> are equal according to the Match-rating Comparison algorithm, nil otherwise.</p>
<p>See also: <code>ling.match-rating-compare, ling.levenshtein, ling.jaro-winkler, ling.jaro, ling.hamming, ling.damerau-levenshtein, ling.match-rating-codex, ling.porter, ling.nysiis, ling.metaphone, ling.soundex</code>.</p>
<h2 data-number="3.280" id="ling.metaphone-procedure1-1"><span class="header-section-number">3.280</span> <code>ling.metaphone</code> : procedure/1</h2>
<p>Usage: <code>(ling.metaphone s) =&gt; str</code></p>
<p>Compute the Metaphone representation of string <code>s.</code></p>
<p>See also: <code>ling.match-rating-compare, ling.levenshtein, ling.jaro-winkler, ling.jaro, ling.hamming, ling.damerau-levenshtein, ling.match-rating-codex, ling.porter, ling.nysiis, ling.soundex</code>.</p>
<h2 data-number="3.281" id="ling.nysiis-procedure1-1"><span class="header-section-number">3.281</span> <code>ling.nysiis</code> : procedure/1</h2>
<p>Usage: <code>(ling.nysiis s) =&gt; str</code></p>
<p>Compute the Nysiis representation of string <code>s.</code></p>
<p>See also: <code>ling.match-rating-compare, ling.levenshtein, ling.jaro-winkler, ling.jaro, ling.hamming, ling.damerau-levenshtein, ling.match-rating-codex, ling.porter, ling.metaphone, ling.soundex</code>.</p>
<h2 data-number="3.282" id="ling.porter-procedure1-1"><span class="header-section-number">3.282</span> <code>ling.porter</code> : procedure/1</h2>
<p>Usage: <code>(ling.porter s) =&gt; str</code></p>
<p>Compute the stem of word string <code>s</code> using the Porter stemming algorithm.</p>
<p>See also: <code>ling.match-rating-compare, ling.levenshtein, ling.jaro-winkler, ling.jaro, ling.hamming, ling.damerau-levenshtein, ling.match-rating-codex, ling.nysiis, ling.metaphone, ling.soundex</code>.</p>
<h2 data-number="3.283" id="ling.soundex-procedure1-1"><span class="header-section-number">3.283</span> <code>ling.soundex</code> : procedure/1</h2>
<p>Usage: <code>(ling.soundex s) =&gt; str</code></p>
<p>Compute the Soundex representation of string <code>s.</code></p>
<p>See also: <code>ling.match-rating-compare, ling.levenshtein, ling.jaro-winkler, ling.jaro, ling.hamming, ling.damerau-levenshtein, ling.match-rating-codex, ling.porter, ling.nysiis, ling.metaphone, ling.soundex</code>.</p>
<h2 data-number="3.284" id="list-procedure0-or-more-1"><span class="header-section-number">3.284</span> <code>list</code> : procedure/0 or more</h2>
<p>Usage: <code>(list [args] ...) =&gt; li</code></p>
<p>Create a list from all <code>args</code>. The arguments must be quoted.</p>
<p>See also: <code>cons</code>.</p>
<h2 data-number="3.285" id="list-array-procedure1-1"><span class="header-section-number">3.285</span> <code>list-&gt;array</code> : procedure/1</h2>
<p>Usage: <code>(list-&gt;array li) =&gt; array</code></p>
<p>Convert the list <code>li</code> to an array.</p>
<p>See also: <code>list, array, string, nth, seq?</code>.</p>
<h2 data-number="3.286" id="list-set-procedure1-1"><span class="header-section-number">3.286</span> <code>list-&gt;set</code> : procedure/1</h2>
<p>Usage: <code>(list-&gt;set li) =&gt; dict</code></p>
<p>Create a dict containing true for each element of list <code>li.</code></p>
<p>See also: <code>make-set, set-element?, set-union, set-intersection, set-complement, set-difference, set?, set-empty</code>.</p>
<h2 data-number="3.287" id="list-str-procedure1-1"><span class="header-section-number">3.287</span> <code>list-&gt;str</code> : procedure/1</h2>
<p>Usage: <code>(list-&gt;str li) =&gt; string</code></p>
<p>Return the string that is composed out of the chars in list <code>li.</code></p>
<p>See also: <code>array-&gt;str, str-&gt;list, chars</code>.</p>
<h2 data-number="3.288" id="list-exists-procedure2-1"><span class="header-section-number">3.288</span> <code>list-exists?</code> : procedure/2</h2>
<p>Usage: <code>(list-exists? li pred) =&gt; bool</code></p>
<p>Return true if <code>pred</code> returns true for at least one element in list <code>li</code>, nil otherwise.</p>
<p>See also: <code>exists?, forall?, array-exists?, str-exists?, seq?</code>.</p>
<h2 data-number="3.289" id="list-forall-procedure2-1"><span class="header-section-number">3.289</span> <code>list-forall?</code> : procedure/2</h2>
<p>Usage: <code>(list-all? li pred) =&gt; bool</code></p>
<p>Return true if predicate <code>pred</code> returns true for all elements of list <code>li</code>, nil otherwise.</p>
<p>See also: <code>foreach, map, forall?, array-forall?, str-forall?, exists?</code>.</p>
<h2 data-number="3.290" id="list-foreach-procedure2-1"><span class="header-section-number">3.290</span> <code>list-foreach</code> : procedure/2</h2>
<p>Usage: <code>(list-foreach li proc)</code></p>
<p>Apply <code>proc</code> to each element of list <code>li</code> in order, for the side effects.</p>
<p>See also: <code>mapcar, map, foreach</code>.</p>
<h2 data-number="3.291" id="list-last-procedure1-1"><span class="header-section-number">3.291</span> <code>list-last</code> : procedure/1</h2>
<p>Usage: <code>(list-last li) =&gt; any</code></p>
<p>Return the last element of <code>li.</code></p>
<p>See also: <code>reverse, nreverse, car, 1st, last</code>.</p>
<h2 data-number="3.292" id="list-ref-procedure2-1"><span class="header-section-number">3.292</span> <code>list-ref</code> : procedure/2</h2>
<p>Usage: <code>(list-ref li n) =&gt; any</code></p>
<p>Return the element with index <code>n</code> of list <code>li</code>. Lists are 0-indexed.</p>
<p>See also: <code>array-ref, nth</code>.</p>
<h2 data-number="3.293" id="list-reverse-procedure1-1"><span class="header-section-number">3.293</span> <code>list-reverse</code> : procedure/1</h2>
<p>Usage: <code>(list-reverse li) =&gt; li</code></p>
<p>Create a reversed copy of <code>li.</code></p>
<p>See also: <code>reverse, array-reverse, str-reverse</code>.</p>
<h2 data-number="3.294" id="list-slice-procedure3-1"><span class="header-section-number">3.294</span> <code>list-slice</code> : procedure/3</h2>
<p>Usage: <code>(list-slice li low high) =&gt; li</code></p>
<p>Return the slice of the list <code>li</code> starting at index <code>low</code> (inclusive) and ending at index <code>high</code> (exclusive).</p>
<p>See also: <code>slice, array-slice</code>.</p>
<h2 data-number="3.295" id="list-procedure1-1"><span class="header-section-number">3.295</span> <code>list?</code> : procedure/1</h2>
<p>Usage: <code>(list? obj) =&gt; bool</code></p>
<p>Return true if <code>obj</code> is a list, nil otherwise.</p>
<p>See also: <code>cons?, atom?, null?</code>.</p>
<h2 data-number="3.296" id="macro-procedure1-1"><span class="header-section-number">3.296</span> <code>macro?</code> : procedure/1</h2>
<p>Usage: <code>(macro? x) =&gt; bool</code></p>
<p>Return true if <code>x</code> is a macro, nil otherwise.</p>
<p>See also: <code>functional?, intrinsic?, closure?, functional-arity, functional-has-rest?</code>.</p>
<h2 data-number="3.297" id="make-blob-procedure1-1"><span class="header-section-number">3.297</span> <code>make-blob</code> : procedure/1</h2>
<p>Usage: <code>(make-blob n) =&gt; blob</code></p>
<p>Make a binary blob of size <code>n</code> initialized to zeroes.</p>
<p>See also: <code>blob-free, valid?, blob-equal?</code>.</p>
<h2 data-number="3.298" id="make-mutex-procedure1-1"><span class="header-section-number">3.298</span> <code>make-mutex</code> : procedure/1</h2>
<p>Usage: <code>(make-mutex) =&gt; mutex</code></p>
<p>Create a new mutex.</p>
<p>See also: <code>mutex-lock, mutex-unlock, mutex-rlock, mutex-runlock</code>.</p>
<h2 data-number="3.299" id="make-queue-procedure0-1"><span class="header-section-number">3.299</span> <code>make-queue</code> : procedure/0</h2>
<p>Usage: <code>(make-queue) =&gt; array</code></p>
<p>Make a synchronized queue.</p>
<p>See also: <code>queue?, enqueue!, dequeue!, glance, queue-empty?, queue-len</code>.</p>
<p><strong>Warning: Never change the array of a synchronized data structure directly, or your warranty is void!</strong></p>
<h2 data-number="3.300" id="make-set-procedure0-or-more-1"><span class="header-section-number">3.300</span> <code>make-set</code> : procedure/0 or more</h2>
<p>Usage: <code>(make-set [arg1] ... [argn]) =&gt; dict</code></p>
<p>Create a dictionary out of arguments <code>arg1</code> to <code>argn</code> that stores true for very argument.</p>
<p>See also: <code>list-&gt;set, set-&gt;list, set-element?, set-union, set-intersection, set-complement, set-difference, set?, set-empty?</code>.</p>
<h2 data-number="3.301" id="make-stack-procedure0-1"><span class="header-section-number">3.301</span> <code>make-stack</code> : procedure/0</h2>
<p>Usage: <code>(make-stack) =&gt; array</code></p>
<p>Make a synchronized stack.</p>
<p>See also: <code>stack?, push!, pop!, stack-empty?, stack-len, glance</code>.</p>
<p><strong>Warning: Never change the array of a synchronized data structure directly, or your warranty is void!</strong></p>
<h2 data-number="3.302" id="make-symbol-procedure1-1"><span class="header-section-number">3.302</span> <code>make-symbol</code> : procedure/1</h2>
<p>Usage: <code>(make-symbol s) =&gt; sym</code></p>
<p>Create a new symbol based on string <code>s.</code></p>
<p>See also: <code>str-&gt;sym</code>.</p>
<h2 data-number="3.303" id="map-procedure2-1"><span class="header-section-number">3.303</span> <code>map</code> : procedure/2</h2>
<p>Usage: <code>(map seq proc) =&gt; seq</code></p>
<p>Return the copy of <code>seq</code> that is the result of applying <code>proc</code> to each element of <code>seq.</code></p>
<p>See also: <code>seq?, mapcar, strmap</code>.</p>
<h2 data-number="3.304" id="map-pairwise-procedure2-1"><span class="header-section-number">3.304</span> <code>map-pairwise</code> : procedure/2</h2>
<p>Usage: <code>(map-pairwise seq proc) =&gt; seq</code></p>
<p>Applies <code>proc</code> in order to subsequent pairs in <code>seq</code>, assembling the sequence that results from the results of <code>proc</code>. Function <code>proc</code> takes two arguments and must return a proper list containing two elements. If the number of elements in <code>seq</code> is odd, an error is raised.</p>
<p>See also: <code>map</code>.</p>
<h2 data-number="3.305" id="mapcar-procedure2-1"><span class="header-section-number">3.305</span> <code>mapcar</code> : procedure/2</h2>
<p>Usage: <code>(mapcar li proc) =&gt; li</code></p>
<p>Return the list obtained from applying <code>proc</code> to each elements in <code>li.</code></p>
<p>See also: <code>map, foreach</code>.</p>
<h2 data-number="3.306" id="max-procedure1-or-more-1"><span class="header-section-number">3.306</span> <code>max</code> : procedure/1 or more</h2>
<p>Usage: <code>(max x1 x2 ...) =&gt; num</code></p>
<p>Return the maximum of the given numbers.</p>
<p>See also: <code>min, minmax</code>.</p>
<h2 data-number="3.307" id="member-procedure2-1"><span class="header-section-number">3.307</span> <code>member</code> : procedure/2</h2>
<p>Usage: <code>(member key li) =&gt; li</code></p>
<p>Return the cdr of <code>li</code> starting with <code>key</code> if <code>li</code> contains an element equal? to <code>key</code>, nil otherwise.</p>
<p>See also: <code>assoc, equal?</code>.</p>
<h2 data-number="3.308" id="memq-procedure2-1"><span class="header-section-number">3.308</span> <code>memq</code> : procedure/2</h2>
<p>Usage: <code>(memq key li)</code></p>
<p>Return the cdr of <code>li</code> starting with <code>key</code> if <code>li</code> contains an element eq? to <code>key</code>, nil otherwise.</p>
<p>See also: <code>member, eq?</code>.</p>
<h2 data-number="3.309" id="memstats-procedure0-1"><span class="header-section-number">3.309</span> <code>memstats</code> : procedure/0</h2>
<p>Usage: <code>(memstats) =&gt; dict</code></p>
<p>Return a dict with detailed memory statistics for the system.</p>
<p>See also: <code>collect-garbage</code>.</p>
<h2 data-number="3.310" id="min-procedure1-or-more-1"><span class="header-section-number">3.310</span> <code>min</code> : procedure/1 or more</h2>
<p>Usage: <code>(min x1 x2 ...) =&gt; num</code></p>
<p>Return the minimum of the given numbers.</p>
<p>See also: <code>max, minmax</code>.</p>
<h2 data-number="3.311" id="minmax-procedure3-1"><span class="header-section-number">3.311</span> <code>minmax</code> : procedure/3</h2>
<p>Usage: <code>(minmax pred li acc) =&gt; any</code></p>
<p>Go through <code>li</code> and test whether for each <code>elem</code> the comparison (pred elem acc) is true. If so, <code>elem</code> becomes <code>acc</code>. Once all elements of the list have been compared, <code>acc</code> is returned. This procedure can be used to implement generalized minimum or maximum procedures.</p>
<p>See also: <code>min, max</code>.</p>
<h2 data-number="3.312" id="minute-procedure2-1"><span class="header-section-number">3.312</span> <code>minute+</code> : procedure/2</h2>
<p>Usage: <code>(minute+ dateli n) =&gt; dateli</code></p>
<p>Adds <code>n</code> minutes to the given date <code>dateli</code> in datelist format and returns the new datelist.</p>
<p>See also: <code>sec+, hour+, day+, week+, month+, year+, now</code>.</p>
<h2 data-number="3.313" id="mod-procedure2-1"><span class="header-section-number">3.313</span> <code>mod</code> : procedure/2</h2>
<p>Usage: <code>(mod x y) =&gt; num</code></p>
<p>Compute <code>x</code> modulo <code>y.</code></p>
<p>See also: <code>%, /</code>.</p>
<h2 data-number="3.314" id="month-procedure2-1"><span class="header-section-number">3.314</span> <code>month+</code> : procedure/2</h2>
<p>Usage: <code>(month+ dateli n) =&gt; dateli</code></p>
<p>Adds <code>n</code> months to the given date <code>dateli</code> in datelist format and returns the new datelist.</p>
<p>See also: <code>sec+, minute+, hour+, day+, week+, year+, now</code>.</p>
<h2 data-number="3.315" id="mutex-lock-procedure1-1"><span class="header-section-number">3.315</span> <code>mutex-lock</code> : procedure/1</h2>
<p>Usage: <code>(mutex-lock m)</code></p>
<p>Lock the mutex <code>m</code> for writing. This may halt the current task until the mutex has been unlocked by another task.</p>
<p>See also: <code>mutex-unlock, make-mutex, mutex-rlock, mutex-runlock</code>.</p>
<h2 data-number="3.316" id="mutex-rlock-procedure1-1"><span class="header-section-number">3.316</span> <code>mutex-rlock</code> : procedure/1</h2>
<p>Usage: <code>(mutex-rlock m)</code></p>
<p>Lock the mutex <code>m</code> for reading. This will allow other tasks to read from it, too, but may block if another task is currently locking it for writing.</p>
<p>See also: <code>mutex-runlock, mutex-lock, mutex-unlock, make-mutex</code>.</p>
<h2 data-number="3.317" id="mutex-runlock-procedure1-1"><span class="header-section-number">3.317</span> <code>mutex-runlock</code> : procedure/1</h2>
<p>Usage: <code>(mutex-runlock m)</code></p>
<p>Unlock the mutex <code>m</code> from reading.</p>
<p>See also: <code>mutex-lock, mutex-unlock, mutex-rlock, make-mutex</code>.</p>
<h2 data-number="3.318" id="mutex-unlock-procedure1-1"><span class="header-section-number">3.318</span> <code>mutex-unlock</code> : procedure/1</h2>
<p>Usage: <code>(mutex-unlock m)</code></p>
<p>Unlock the mutex <code>m</code> for writing. This releases ownership of the mutex and allows other tasks to lock it for writing.</p>
<p>See also: <code>mutex-lock, make-mutex, mutex-rlock, mutex-runlock</code>.</p>
<h2 data-number="3.319" id="nconc-procedure0-or-more-1"><span class="header-section-number">3.319</span> <code>nconc</code> : procedure/0 or more</h2>
<p>Usage: <code>(nconc li1 li2 ...) =&gt; li</code></p>
<p>Concatenate <code>li1</code>, <code>li2</code>, and so forth, like with append, but destructively modifies <code>li1.</code></p>
<p>See also: <code>append</code>.</p>
<h2 data-number="3.320" id="nl-procedure0-1"><span class="header-section-number">3.320</span> <code>nl</code> : procedure/0</h2>
<p>Usage: <code>(nl)</code></p>
<p>Display a newline, advancing the cursor to the next line.</p>
<p>See also: <code>out, outy, output-at</code>.</p>
<h2 data-number="3.321" id="nonce-procedure0-1"><span class="header-section-number">3.321</span> <code>nonce</code> : procedure/0</h2>
<p>Usage: <code>(nonce) =&gt; str</code></p>
<p>Return a unique random string. This is not cryptographically secure but the string satisfies reasonable GUID requirements.</p>
<p>See also: <code>externalize, internalize</code>.</p>
<h2 data-number="3.322" id="not-procedure1-1"><span class="header-section-number">3.322</span> <code>not</code> : procedure/1</h2>
<p>Usage: <code>(not x) =&gt; bool</code></p>
<p>Return true if <code>x</code> is nil, nil otherwise.</p>
<p>See also: <code>and, or</code>.</p>
<h2 data-number="3.323" id="now-procedure0-1"><span class="header-section-number">3.323</span> <code>now</code> : procedure/0</h2>
<p>Usage: <code>(now) =&gt; li</code></p>
<p>Return the current datetime in UTC format as a list of values in the form ’((year month day weekday iso-week) (hour minute second nanosecond unix-nano-second)).</p>
<p>See also: <code>now-ns, datestr, time, date-&gt;epoch-ns, epoch-ns-&gt;datelist</code>.</p>
<h2 data-number="3.324" id="now-ms-procedure0-1"><span class="header-section-number">3.324</span> <code>now-ms</code> : procedure/0</h2>
<p>Usage: <code>(now-ms) =&gt; num</code></p>
<p>Return the relative system time as a call to (now-ns) but in milliseconds.</p>
<p>See also: <code>now-ns, now</code>.</p>
<h2 data-number="3.325" id="now-ns-procedure0-1"><span class="header-section-number">3.325</span> <code>now-ns</code> : procedure/0</h2>
<p>Usage: <code>(now-ns) =&gt; int</code></p>
<p>Return the current time in Unix nanoseconds.</p>
<p>See also: <code>now, time</code>.</p>
<h2 data-number="3.326" id="nreverse-procedure1-1"><span class="header-section-number">3.326</span> <code>nreverse</code> : procedure/1</h2>
<p>Usage: <code>(nreverse li) =&gt; li</code></p>
<p>Destructively reverse <code>li.</code></p>
<p>See also: <code>reverse</code>.</p>
<h2 data-number="3.327" id="nth-procedure2-1"><span class="header-section-number">3.327</span> <code>nth</code> : procedure/2</h2>
<p>Usage: <code>(nth seq n) =&gt; any</code></p>
<p>Get the <code>n-th</code> element of sequence <code>seq</code>. Sequences are 0-indexed.</p>
<p>See also: <code>nthdef, list, array, string, 1st, 2nd, 3rd, 4th, 5th, 6th, 7th, 8th, 9th, 10th</code>.</p>
<h2 data-number="3.328" id="nth-partition-procedure3-1"><span class="header-section-number">3.328</span> <code>nth-partition</code> : procedure/3</h2>
<p>Usage: <code>(nth-partition m k idx) =&gt; li</code></p>
<p>Return a list of the form (start-offset end-offset bytes) for the partition with index <code>idx</code> of <code>m</code> into parts of size <code>k</code>. The index <code>idx</code> as well as the start- and end-offsets are 0-based.</p>
<p>See also: <code>count-partitions, get-partitions</code>.</p>
<h2 data-number="3.329" id="nthdef-procedure3-1"><span class="header-section-number">3.329</span> <code>nthdef</code> : procedure/3</h2>
<p>Usage: <code>(nthdef seq n default) =&gt; any</code></p>
<p>Return the <code>n-th</code> element of sequence <code>seq</code> (0-indexed) if <code>seq</code> is a sequence and has at least <code>n+1</code> elements, default otherwise.</p>
<p>See also: <code>nth, seq?, 1st, 2nd, 3rd, 4th, 5th, 6th, 7th, 8th, 9th, 10th</code>.</p>
<h2 data-number="3.330" id="null-procedure1-1"><span class="header-section-number">3.330</span> <code>null?</code> : procedure/1</h2>
<p>Usage: <code>(null? li) =&gt; bool</code></p>
<p>Return true if <code>li</code> is nil, nil otherwise.</p>
<p>See also: <code>not, list?, cons?</code>.</p>
<h2 data-number="3.331" id="num-procedure1-1"><span class="header-section-number">3.331</span> <code>num?</code> : procedure/1</h2>
<p>Usage: <code>(num? n) =&gt; bool</code></p>
<p>Return true if <code>n</code> is a number (exact or inexact), nil otherwise.</p>
<p>See also: <code>str?, atom?, sym?, closure?, intrinsic?, macro?</code>.</p>
<h2 data-number="3.332" id="odd-procedure1-1"><span class="header-section-number">3.332</span> <code>odd?</code> : procedure/1</h2>
<p>Usage: <code>(odd? n) =&gt; bool</code></p>
<p>Returns true if the integer <code>n</code> is odd, nil otherwise.</p>
<p>See also: <code>even?</code>.</p>
<h2 data-number="3.333" id="on-feature-macro1-or-more-1"><span class="header-section-number">3.333</span> <code>on-feature</code> : macro/1 or more</h2>
<p>Usage: <code>(on-feature sym body ...) =&gt; any</code></p>
<p>Evaluate the expressions of <code>body</code> if the Lisp feature <code>sym</code> is supported by this implementation, do nothing otherwise.</p>
<p>See also: <code>feature?, *reflect*</code>.</p>
<h2 data-number="3.334" id="open-procedure1-or-more-1"><span class="header-section-number">3.334</span> <code>open</code> : procedure/1 or more</h2>
<p>Usage: <code>(open file-path [modes] [permissions]) =&gt; int</code></p>
<p>Open the file at <code>file-path</code> for reading and writing, and return the stream ID. The optional <code>modes</code> argument must be a list containing one of ‘(read write read-write) for read, write, or read-write access respectively, and may contain any of the following symbols: ’append to append to an existing file, ’create for creating the file if it doesn’t exist, ’exclusive for exclusive file access, ’truncate for truncating the file if it exists, and ’sync for attempting to sync file access. The optional <code>permissions</code> argument must be a numeric value specifying the Unix file permissions of the file. If these are omitted, then default values’(read-write append create) and 0640 are used.</p>
<p>See also: <code>stropen, close, read, write</code>.</p>
<h2 data-number="3.335" id="or-macro0-or-more-1"><span class="header-section-number">3.335</span> <code>or</code> : macro/0 or more</h2>
<p>Usage: <code>(or expr1 expr2 ...) =&gt; any</code></p>
<p>Evaluate the expressions until one of them is not nil. This is a logical shortcut or.</p>
<p>See also: <code>and</code>.</p>
<h2 data-number="3.336" id="out-procedure1-1"><span class="header-section-number">3.336</span> <code>out</code> : procedure/1</h2>
<p>Usage: <code>(out expr)</code></p>
<p>Output <code>expr</code> on the console with current default background and foreground color.</p>
<p>See also: <code>outy, synout, synouty, output-at</code>.</p>
<h2 data-number="3.337" id="outy-procedure1-1"><span class="header-section-number">3.337</span> <code>outy</code> : procedure/1</h2>
<p>Usage: <code>(outy spec)</code></p>
<p>Output styled text specified in <code>spec</code>. A specification is a list of lists starting with ’fg for foreground, ’bg for background, or ’text for unstyled text. If the list starts with ’fg or ’bg then the next element must be a color suitable for (the-color spec). Following may be a string to print or another color specification. If a list starts with ’text then one or more strings may follow.</p>
<p>See also: <code>*colors*, the-color, set-color, color, gfx.color, output-at, out</code>.</p>
<h2 data-number="3.338" id="peek-procedure4-1"><span class="header-section-number">3.338</span> <code>peek</code> : procedure/4</h2>
<p>Usage: <code>(peek b pos end sel) =&gt; num</code></p>
<p>Read a numeric value determined by selector <code>sel</code> from binary blob <code>b</code> at position <code>pos</code> with endianness <code>end</code>. Possible values for endianness are ‘little and ’big, and possible values for <code>sel</code> must be one of’(bool int8 uint8 int16 uint16 int32 uint32 int64 uint64 float32 float64).</p>
<p>See also: <code>poke, read-binary</code>.</p>
<h2 data-number="3.339" id="permission-procedure1-1"><span class="header-section-number">3.339</span> <code>permission?</code> : procedure/1</h2>
<p>Usage: <code>(permission? sym [default]) =&gt; bool</code></p>
<p>Return true if the permission for <code>sym</code> is set, nil otherwise. If the permission flag is unknown, then <code>default</code> is returned. The default for <code>default</code> is nil.</p>
<p>See also: <code>permissions, set-permissions, when-permission, sys</code>.</p>
<h2 data-number="3.340" id="permissions-procedure0-1"><span class="header-section-number">3.340</span> <code>permissions</code> : procedure/0</h2>
<p>Usage: <code>(permissions)</code></p>
<p>Return a list of all active permissions of the current interpreter. Permissions are: <code>load-prelude</code> - load the init file on start; <code>load-user-init</code> - load the local user init on startup, file if present; <code>allow-unprotect</code> - allow the user to unprotect protected symbols (for redefining them); <code>allow-protect</code> - allow the user to protect symbols from redefinition or unbinding; <code>interactive</code> - make the session interactive, this is particularly used during startup to determine whether hooks are installed and feedback is given. Permissions have to generally be set or removed in careful combination with <code>revoke-permissions</code>, which redefines symbols and functions.</p>
<p>See also: <code>set-permissions, permission?, when-permission, sys</code>.</p>
<h2 data-number="3.341" id="poke-procedure5-1"><span class="header-section-number">3.341</span> <code>poke</code> : procedure/5</h2>
<p>Usage: <code>(poke b pos end sel n)</code></p>
<p>Write numeric value <code>n</code> as type <code>sel</code> with endianness <code>end</code> into the binary blob <code>b</code> at position <code>pos</code>. Possible values for endianness are ‘little and ’big, and possible values for <code>sel</code> must be one of’(bool int8 uint8 int16 uint16 int32 uint32 int64 uint64 float32 float64).</p>
<p>See also: <code>peek, write-binary</code>.</p>
<h2 data-number="3.342" id="pop-macro1-or-more-1"><span class="header-section-number">3.342</span> <code>pop!</code> : macro/1 or more</h2>
<p>Usage: <code>(pop! sym [def]) =&gt; any</code></p>
<p>Get the next element from stack <code>sym</code>, which must be the unquoted name of a variable, and return it. If a default <code>def</code> is given, then this is returned if the queue is empty, otherwise nil is returned.</p>
<p>See also: <code>make-stack, stack?, push!, stack-len, stack-empty?, glance</code>.</p>
<h2 data-number="3.343" id="pop-error-handler-procedure0-1"><span class="header-section-number">3.343</span> <code>pop-error-handler</code> : procedure/0</h2>
<p>Usage: <code>(pop-error-handler) =&gt; proc</code></p>
<p>Remove the topmost error handler from the error handler stack and return it. For internal use only.</p>
<p>See also: <code>with-error-handler</code>.</p>
<h2 data-number="3.344" id="pop-finalizer-procedure0-1"><span class="header-section-number">3.344</span> <code>pop-finalizer</code> : procedure/0</h2>
<p>Usage: <code>(pop-finalizer) =&gt; proc</code></p>
<p>Remove a finalizer from the finalizer stack and return it. For internal use only.</p>
<p>See also: <code>push-finalizer, with-final</code>.</p>
<h2 data-number="3.345" id="popstacked-procedure3-1"><span class="header-section-number">3.345</span> <code>popstacked</code> : procedure/3</h2>
<p>Usage: <code>(popstacked dict key default)</code></p>
<p>Get the topmost element from the stack stored at <code>key</code> in <code>dict</code> and remove it from the stack. If the stack is empty or no stack is stored at key, then <code>default</code> is returned.</p>
<p>See also: <code>pushstacked, getstacked</code>.</p>
<h2 data-number="3.346" id="prin1-procedure1-1"><span class="header-section-number">3.346</span> <code>prin1</code> : procedure/1</h2>
<p>Usage: <code>(prin1 s)</code></p>
<p>Print <code>s</code> to the host OS terminal, where strings are quoted.</p>
<p>See also: <code>princ, terpri, out, outy</code>.</p>
<h2 data-number="3.347" id="princ-procedure1-1"><span class="header-section-number">3.347</span> <code>princ</code> : procedure/1</h2>
<p>Usage: <code>(princ s)</code></p>
<p>Print <code>s</code> to the host OS terminal without quoting strings.</p>
<p>See also: <code>prin1, terpri, out, outy</code>.</p>
<h2 data-number="3.348" id="print-procedure1-1"><span class="header-section-number">3.348</span> <code>print</code> : procedure/1</h2>
<p>Usage: <code>(print x)</code></p>
<p>Output <code>x</code> on the host OS console and end it with a newline.</p>
<p>See also: <code>prin1, princ</code>.</p>
<h2 data-number="3.349" id="proc-macro1-1"><span class="header-section-number">3.349</span> <code>proc?</code> : macro/1</h2>
<p>Usage: <code>(proc? arg) =&gt; bool</code></p>
<p>Return true if <code>arg</code> is a procedure, nil otherwise.</p>
<p>See also: <code>functional?, closure?, functional-arity, functional-has-rest?</code>.</p>
<h2 data-number="3.350" id="protect-procedure0-or-more-1"><span class="header-section-number">3.350</span> <code>protect</code> : procedure/0 or more</h2>
<p>Usage: <code>(protect [sym] ...)</code></p>
<p>Protect symbols <code>sym</code> … against changes or rebinding. The symbols need to be quoted. This operation requires the permission ’allow-protect to be set.</p>
<p>See also: <code>protected?, unprotect, dict-protect, dict-unprotect, dict-protected?, permissions, permission?, setq, bind, interpret</code>.</p>
<h2 data-number="3.351" id="protect-toplevel-symbols-procedure0-1"><span class="header-section-number">3.351</span> <code>protect-toplevel-symbols</code> : procedure/0</h2>
<p>Usage: <code>(protect-toplevel-symbols)</code></p>
<p>Protect all toplevel symbols that are not yet protected and aren’t in the <em>mutable-toplevel-symbols</em> dict.</p>
<p>See also: <code>protected?, protect, unprotect, declare-unprotected, when-permission?, dict-protect, dict-protected?, dict-unprotect</code>.</p>
<h2 data-number="3.352" id="protected-procedure1-1"><span class="header-section-number">3.352</span> <code>protected?</code> : procedure/1</h2>
<p>Usage: <code>(protected? sym)</code></p>
<p>Return true if <code>sym</code> is protected, nil otherwise.</p>
<p>See also: <code>protect, unprotect, dict-unprotect, dict-protected?, permission, permission?, setq, bind, interpret</code>.</p>
<h2 data-number="3.353" id="prune-task-table-procedure0-1"><span class="header-section-number">3.353</span> <code>prune-task-table</code> : procedure/0</h2>
<p>Usage: <code>(prune-task-table)</code></p>
<p>Remove tasks that are finished from the task table. This includes tasks for which an error has occurred.</p>
<p>See also: <code>task-remove, task, task?, task-run</code>.</p>
<h2 data-number="3.354" id="push-macro2-1"><span class="header-section-number">3.354</span> <code>push!</code> : macro/2</h2>
<p>Usage: <code>(push! sym elem)</code></p>
<p>Put <code>elem</code> in stack <code>sym</code>, where <code>sym</code> is the unquoted name of a variable.</p>
<p>See also: <code>make-stack, stack?, pop!, stack-len, stack-empty?, glance</code>.</p>
<h2 data-number="3.355" id="push-error-handler-procedure1-1"><span class="header-section-number">3.355</span> <code>push-error-handler</code> : procedure/1</h2>
<p>Usage: <code>(push-error-handler proc)</code></p>
<p>Push an error handler <code>proc</code> on the error handler stack. For internal use only.</p>
<p>See also: <code>with-error-handler</code>.</p>
<h2 data-number="3.356" id="push-finalizer-procedure1-1"><span class="header-section-number">3.356</span> <code>push-finalizer</code> : procedure/1</h2>
<p>Usage: <code>(push-finalizer proc)</code></p>
<p>Push a finalizer procedure <code>proc</code> on the finalizer stack. For internal use only.</p>
<p>See also: <code>with-final, pop-finalizer</code>.</p>
<h2 data-number="3.357" id="pushstacked-procedure3-1"><span class="header-section-number">3.357</span> <code>pushstacked</code> : procedure/3</h2>
<p>Usage: <code>(pushstacked dict key datum)</code></p>
<p>Push <code>datum</code> onto the stack maintained under <code>key</code> in the <code>dict.</code></p>
<p>See also: <code>getstacked, popstacked</code>.</p>
<h2 data-number="3.358" id="queue-empty-procedure1-1"><span class="header-section-number">3.358</span> <code>queue-empty?</code> : procedure/1</h2>
<p>Usage: <code>(queue-empty? q) =&gt; bool</code></p>
<p>Return true if the queue <code>q</code> is empty, nil otherwise.</p>
<p>See also: <code>make-queue, queue?, enqueue!, dequeue!, glance, queue-len</code>.</p>
<h2 data-number="3.359" id="queue-len-procedure1-1"><span class="header-section-number">3.359</span> <code>queue-len</code> : procedure/1</h2>
<p>Usage: <code>(queue-len q) =&gt; int</code></p>
<p>Return the length of the queue <code>q.</code></p>
<p>See also: <code>make-queue, queue?, enqueue!, dequeue!, glance, queue-len</code>.</p>
<p><strong>Warning: Be advised that this is of limited use in some concurrent contexts, since the length of the queue might have changed already once you’ve obtained it!</strong></p>
<h2 data-number="3.360" id="queue-procedure1-1"><span class="header-section-number">3.360</span> <code>queue?</code> : procedure/1</h2>
<p>Usage: <code>(queue? q) =&gt; bool</code></p>
<p>Return true if <code>q</code> is a queue, nil otherwise.</p>
<p>See also: <code>make-queue, enqueue!, dequeue, glance, queue-empty?, queue-len</code>.</p>
<h2 data-number="3.361" id="rand-procedure2-1"><span class="header-section-number">3.361</span> <code>rand</code> : procedure/2</h2>
<p>Usage: <code>(rand prng lower upper) =&gt; int</code></p>
<p>Return a random integer in the interval [<code>lower`` upper</code>], both inclusive, from pseudo-random number generator <code>prng</code>. The <code>prng</code> argument must be an integer from 0 to 9 (inclusive).</p>
<p>See also: <code>rnd, rndseed</code>.</p>
<h2 data-number="3.362" id="random-color-procedure0-or-more-1"><span class="header-section-number">3.362</span> <code>random-color</code> : procedure/0 or more</h2>
<p>Usage: <code>(random-color [alpha])</code></p>
<p>Return a random color with optional <code>alpha</code> value. If <code>alpha</code> is not specified, it is 255.</p>
<p>See also: <code>the-color, *colors*, darken, lighten</code>.</p>
<h2 data-number="3.363" id="read-procedure1-1"><span class="header-section-number">3.363</span> <code>read</code> : procedure/1</h2>
<p>Usage: <code>(read p) =&gt; any</code></p>
<p>Read an expression from input port <code>p.</code></p>
<p>See also: <code>input, write</code>.</p>
<h2 data-number="3.364" id="read-binary-procedure3-1"><span class="header-section-number">3.364</span> <code>read-binary</code> : procedure/3</h2>
<p>Usage: <code>(read-binary p buff n) =&gt; int</code></p>
<p>Read <code>n</code> or less bytes from input port <code>p</code> into binary blob <code>buff</code>. If <code>buff</code> is smaller than <code>n</code>, then an error is raised. If less than <code>n</code> bytes are available before the end of file is reached, then the amount k of bytes is read into <code>buff</code> and k is returned. If the end of file is reached and no byte has been read, then 0 is returned. So to loop through this, read into the buffer and do something with it while the amount of bytes returned is larger than 0.</p>
<p>See also: <code>write-binary, read, close, open</code>.</p>
<h2 data-number="3.365" id="remove-duplicates-procedure1-1"><span class="header-section-number">3.365</span> <code>remove-duplicates</code> : procedure/1</h2>
<p>Usage: <code>(remove-duplicates seq) =&gt; seq</code></p>
<p>Remove all duplicates in sequence <code>seq</code>, return a new sequence with the duplicates removed.</p>
<p>See also: <code>seq?, map, foreach, nth</code>.</p>
<h2 data-number="3.366" id="remove-hook-procedure2-1"><span class="header-section-number">3.366</span> <code>remove-hook</code> : procedure/2</h2>
<p>Usage: <code>(remove-hook hook id) =&gt; bool</code></p>
<p>Remove the symbolic or numberic <code>hook</code> with <code>id</code> and return true if the hook was removed, nil otherwise.</p>
<p>See also: <code>add-hook, remove-hooks, replace-hook</code>.</p>
<h2 data-number="3.367" id="remove-hook-internal-procedure2-1"><span class="header-section-number">3.367</span> <code>remove-hook-internal</code> : procedure/2</h2>
<p>Usage: <code>(remove-hook-internal hook id)</code></p>
<p>Remove the hook with ID <code>id</code> from numeric <code>hook.</code></p>
<p>See also: <code>remove-hook</code>.</p>
<p><strong>Warning: Internal use only.</strong></p>
<h2 data-number="3.368" id="remove-hooks-procedure1-1"><span class="header-section-number">3.368</span> <code>remove-hooks</code> : procedure/1</h2>
<p>Usage: <code>(remove-hooks hook) =&gt; bool</code></p>
<p>Remove all hooks for symbolic or numeric <code>hook</code>, return true if the hook exists and the associated procedures were removed, nil otherwise.</p>
<p>See also: <code>add-hook, remove-hook, replace-hook</code>.</p>
<h2 data-number="3.369" id="replace-hook-procedure2-1"><span class="header-section-number">3.369</span> <code>replace-hook</code> : procedure/2</h2>
<p>Usage: <code>(replace-hook hook proc)</code></p>
<p>Remove all hooks for symbolic or numeric <code>hook</code> and install the given <code>proc</code> as the only hook procedure.</p>
<p>See also: <code>add-hook, remove-hook, remove-hooks</code>.</p>
<h2 data-number="3.370" id="reverse-procedure1-1"><span class="header-section-number">3.370</span> <code>reverse</code> : procedure/1</h2>
<p>Usage: <code>(reverse seq) =&gt; sequence</code></p>
<p>Reverse a sequence non-destructively, i.e., return a copy of the reversed sequence.</p>
<p>See also: <code>nth, seq?, 1st, 2nd, 3rd, 4th, 6th, 7th, 8th, 9th, 10th, last</code>.</p>
<h2 data-number="3.371" id="rnd-procedure0-1"><span class="header-section-number">3.371</span> <code>rnd</code> : procedure/0</h2>
<p>Usage: <code>(rnd prng) =&gt; num</code></p>
<p>Return a random value in the interval [0, 1] from pseudo-random number generator <code>prng</code>. The <code>prng</code> argument must be an integer from 0 to 9 (inclusive).</p>
<p>See also: <code>rand, rndseed</code>.</p>
<h2 data-number="3.372" id="rndseed-procedure1-1"><span class="header-section-number">3.372</span> <code>rndseed</code> : procedure/1</h2>
<p>Usage: <code>(rndseed prng n)</code></p>
<p>Seed the pseudo-random number generator <code>prng</code> (0 to 9) with 64 bit integer value <code>n</code>. Larger values will be truncated. Seeding affects both the rnd and the rand function for the given <code>prng.</code></p>
<p>See also: <code>rnd, rand</code>.</p>
<h2 data-number="3.373" id="rplaca-procedure2-1"><span class="header-section-number">3.373</span> <code>rplaca</code> : procedure/2</h2>
<p>Usage: <code>(rplaca li a) =&gt; li</code></p>
<p>Destructively mutate <code>li</code> such that its car is <code>a</code>, return the list afterwards.</p>
<p>See also: <code>rplacd</code>.</p>
<h2 data-number="3.374" id="run-at-procedure2-1"><span class="header-section-number">3.374</span> <code>run-at</code> : procedure/2</h2>
<p>Usage: <code>(run-at date repeater proc) =&gt; int</code></p>
<p>Run procedure <code>proc</code> with no arguments as task periodically according to the specification in <code>spec</code> and return the task ID for the periodic task. Herbey, <code>date</code> is either a datetime specification or one of ‘(now skip next-minute next-quarter next-halfhour next-hour in-2-hours in-3-hours tomorrow next-week next-month next-year), and <code>repeater</code> is nil or a procedure that takes a task ID and unix-epoch-nanoseconds and yields a new unix-epoch-nanoseconds value for the next time the procedure shall be run. While the other names are self-explanatory, the ’skip specification means that the task is not run immediately but rather that it is first run at (repeater -1 (now)). Timing resolution for the scheduler is about 1 minute. Consider using interrupts for periodic events with smaller time resolutions. The scheduler uses relative intervals and has ’drift’.</p>
<p>See also: <code>task, task-send</code>.</p>
<p><strong>Warning: Tasks scheduled by run-at are not persistent! They are only run until the system is shutdown.</strong></p>
<h2 data-number="3.375" id="run-hook-procedure1-1"><span class="header-section-number">3.375</span> <code>run-hook</code> : procedure/1</h2>
<p>Usage: <code>(run-hook hook)</code></p>
<p>Manually run the hook, executing all procedures for the hook.</p>
<p>See also: <code>add-hook, remove-hook</code>.</p>
<h2 data-number="3.376" id="run-hook-internal-procedure1-or-more-1"><span class="header-section-number">3.376</span> <code>run-hook-internal</code> : procedure/1 or more</h2>
<p>Usage: <code>(run-hook-internal hook [args] ...)</code></p>
<p>Run all hooks for numeric hook ID <code>hook</code> with <code>args</code>… as arguments.</p>
<p>See also: <code>run-hook</code>.</p>
<p><strong>Warning: Internal use only.</strong></p>
<h2 data-number="3.377" id="run-selftest-procedure1-or-more-1"><span class="header-section-number">3.377</span> <code>run-selftest</code> : procedure/1 or more</h2>
<p>Usage: <code>(run-selftest [silent?]) =&gt; any</code></p>
<p>Run a diagnostic self-test of the Z3S5 Machine. If <code>silent?</code> is true, then the self-test returns a list containing a boolean for success, the number of tests performed, the number of successes, the number of errors, and the number of failures. If <code>silent?</code> is not provided or nil, then the test progress and results are displayed. An error indicates a problem with the testing, whereas a failure means that an expected value was not returned.</p>
<p>See also: <code>expect, testing</code>.</p>
<h2 data-number="3.378" id="sec-procedure2-1"><span class="header-section-number">3.378</span> <code>sec+</code> : procedure/2</h2>
<p>Usage: <code>(sec+ dateli n) =&gt; dateli</code></p>
<p>Adds <code>n</code> seconds to the given date <code>dateli</code> in datelist format and returns the new datelist.</p>
<p>See also: <code>minute+, hour+, day+, week+, month+, year+, now</code>.</p>
<h2 data-number="3.379" id="semver.build-procedure1-1"><span class="header-section-number">3.379</span> <code>semver.build</code> : procedure/1</h2>
<p>Usage: <code>(semver.build s) =&gt; str</code></p>
<p>Return the build part of a semantic versioning string.</p>
<p>See also: <code>semver.canonical, semver.major, semver.major-minor</code>.</p>
<h2 data-number="3.380" id="semver.canonical-procedure1-1"><span class="header-section-number">3.380</span> <code>semver.canonical</code> : procedure/1</h2>
<p>Usage: <code>(semver.canonical s) =&gt; str</code></p>
<p>Return a canonical semver string based on a valid, yet possibly not canonical version string <code>s.</code></p>
<p>See also: <code>semver.major</code>.</p>
<h2 data-number="3.381" id="semver.compare-procedure2-1"><span class="header-section-number">3.381</span> <code>semver.compare</code> : procedure/2</h2>
<p>Usage: <code>(semver.compare s1 s2) =&gt; int</code></p>
<p>Compare two semantic version strings <code>s1</code> and <code>s2</code>. The result is 0 if <code>s1</code> and <code>s2</code> are the same version, -1 if <code>s1</code> &lt; <code>s2</code> and 1 if <code>s1</code> &gt; <code>s2.</code></p>
<p>See also: <code>semver.major, semver.major-minor</code>.</p>
<h2 data-number="3.382" id="semver.is-valid-procedure1-1"><span class="header-section-number">3.382</span> <code>semver.is-valid?</code> : procedure/1</h2>
<p>Usage: <code>(semver.is-valid? s) =&gt; bool</code></p>
<p>Return true if <code>s</code> is a valid semantic versioning string, nil otherwise.</p>
<p>See also: <code>semver.major, semver.major-minor, semver.compare</code>.</p>
<h2 data-number="3.383" id="semver.major-procedure1-1"><span class="header-section-number">3.383</span> <code>semver.major</code> : procedure/1</h2>
<p>Usage: <code>(semver.major s) =&gt; str</code></p>
<p>Return the major part of the semantic versioning string.</p>
<p>See also: <code>semver.major-minor, semver.build</code>.</p>
<h2 data-number="3.384" id="semver.major-minor-procedure1-1"><span class="header-section-number">3.384</span> <code>semver.major-minor</code> : procedure/1</h2>
<p>Usage: <code>(semver.major-minor s) =&gt; str</code></p>
<p>Return the major.minor prefix of a semantic versioning string. For example, (semver.major-minor “v2.1.4”) returns “v2.1”.</p>
<p>See also: <code>semver.major, semver.build</code>.</p>
<h2 data-number="3.385" id="semver.max-procedure2-1"><span class="header-section-number">3.385</span> <code>semver.max</code> : procedure/2</h2>
<p>Usage: <code>(semver.max s1 s2) =&gt; str</code></p>
<p>Canonicalize <code>s1</code> and <code>s2</code> and return the larger version of them.</p>
<p>See also: <code>semver.compare</code>.</p>
<h2 data-number="3.386" id="semver.prerelease-procedure1-1"><span class="header-section-number">3.386</span> <code>semver.prerelease</code> : procedure/1</h2>
<p>Usage: <code>(semver.prerelease s) =&gt; str</code></p>
<p>Return the prerelease part of a version string, or the empty string if there is none. For example, (semver.prerelease “v2.1.0-pre+build”) returns “-pre”.</p>
<p>See also: <code>semver.build, semver.major, semver.major-minor</code>.</p>
<h2 data-number="3.387" id="seq-procedure1-1"><span class="header-section-number">3.387</span> <code>seq?</code> : procedure/1</h2>
<p>Usage: <code>(seq? seq) =&gt; bool</code></p>
<p>Return true if <code>seq</code> is a sequence, nil otherwise.</p>
<p>See also: <code>list, array, string, slice, nth</code>.</p>
<h2 data-number="3.388" id="set-procedure3-1"><span class="header-section-number">3.388</span> <code>set</code> : procedure/3</h2>
<p>Usage: <code>(set d key value)</code></p>
<p>Set <code>value</code> for <code>key</code> in dict <code>d.</code></p>
<p>See also: <code>dict, get, get-or-set</code>.</p>
<h2 data-number="3.389" id="set-procedure2-1"><span class="header-section-number">3.389</span> <code>set*</code> : procedure/2</h2>
<p>Usage: <code>(set* d li)</code></p>
<p>Set in dict <code>d</code> the keys and values in list <code>li</code>. The list <code>li</code> must be of the form (key-1 value-1 key-2 value-2 … key-n value-n). This function may be slightly faster than using individual <code>set</code> operations.</p>
<p>See also: <code>dict, set</code>.</p>
<h2 data-number="3.390" id="set-list-procedure1-1"><span class="header-section-number">3.390</span> <code>set-&gt;list</code> : procedure/1</h2>
<p>Usage: <code>(set-&gt;list s) =&gt; li</code></p>
<p>Convert set <code>s</code> to a list of set elements.</p>
<p>See also: <code>list-&gt;set, make-set, set-element?, set-union, set-intersection, set-complement, set-difference, set?, set-empty</code>.</p>
<h2 data-number="3.391" id="set-color-procedure1-1"><span class="header-section-number">3.391</span> <code>set-color</code> : procedure/1</h2>
<p>Usage: <code>(set-color sel colorlist)</code></p>
<p>Set the color according to <code>sel</code> to the color <code>colorlist</code> of the form ’(r g b a). See <code>color</code> for information about <code>sel.</code></p>
<p>See also: <code>color, the-color, with-colors</code>.</p>
<h2 data-number="3.392" id="set-complement-procedure2-1"><span class="header-section-number">3.392</span> <code>set-complement</code> : procedure/2</h2>
<p>Usage: <code>(set-complement a domain) =&gt; set</code></p>
<p>Return all elements in <code>domain</code> that are not elements of <code>a.</code></p>
<p>See also: <code>list-&gt;set, set-&gt;list, make-set, set-element?, set-union, set-difference, set-intersection, set?, set-empty?, set-subset?, set-equal?</code>.</p>
<h2 data-number="3.393" id="set-difference-procedure2-1"><span class="header-section-number">3.393</span> <code>set-difference</code> : procedure/2</h2>
<p>Usage: <code>(set-difference a b) =&gt; set</code></p>
<p>Return the set-theoretic difference of set <code>a</code> minus set <code>b</code>, i.e., all elements in <code>a</code> that are not in <code>b.</code></p>
<p>See also: <code>list-&gt;set, set-&gt;list, make-set, set-element?, set-union, set-intersection, set-complement, set?, set-empty?, set-subset?, set-equal?</code>.</p>
<h2 data-number="3.394" id="set-element-procedure2-1"><span class="header-section-number">3.394</span> <code>set-element?</code> : procedure/2</h2>
<p>Usage: <code>(set-element? s elem) =&gt; bool</code></p>
<p>Return true if set <code>s</code> has element <code>elem</code>, nil otherwise.</p>
<p>See also: <code>make-set, list-&gt;set, set-&gt;list, set-union, set-intersection, set-complement, set-difference, set?, set-empty?</code>.</p>
<h2 data-number="3.395" id="set-empty-procedure1-1"><span class="header-section-number">3.395</span> <code>set-empty?</code> : procedure/1</h2>
<p>Usage: <code>(set-empty? s) =&gt; bool</code></p>
<p>Return true if set <code>s</code> is empty, nil otherwise.</p>
<p>See also: <code>make-set, list-&gt;set, set-&gt;list, set-union, set-intersection, set-complement, set-difference, set?</code>.</p>
<h2 data-number="3.396" id="set-equal-procedure2-1"><span class="header-section-number">3.396</span> <code>set-equal?</code> : procedure/2</h2>
<p>Usage: <code>(set-equal? a b) =&gt; bool</code></p>
<p>Return true if <code>a</code> and <code>b</code> contain the same elements.</p>
<p>See also: <code>set-subset?, list-&gt;set, set-element?, set-&gt;list, set-union, set-difference, set-intersection, set-complement, set?, set-empty?</code>.</p>
<h2 data-number="3.397" id="set-help-topic-info-procedure3-1"><span class="header-section-number">3.397</span> <code>set-help-topic-info</code> : procedure/3</h2>
<p>Usage: <code>(set-help-topic-info topic header info)</code></p>
<p>Set a human-readable information entry for help <code>topic</code> with human-readable <code>header</code> and <code>info</code> strings.</p>
<p>See also: <code>defhelp, help-topic-info</code>.</p>
<h2 data-number="3.398" id="set-intersection-procedure2-1"><span class="header-section-number">3.398</span> <code>set-intersection</code> : procedure/2</h2>
<p>Usage: <code>(set-intersection a b) =&gt; set</code></p>
<p>Return the intersection of sets <code>a</code> and <code>b</code>, i.e., the set of elements that are both in <code>a</code> and in <code>b.</code></p>
<p>See also: <code>list-&gt;set, set-&gt;list, make-set, set-element?, set-union, set-complement, set-difference, set?, set-empty?, set-subset?, set-equal?</code>.</p>
<h2 data-number="3.399" id="set-permissions-nil-1"><span class="header-section-number">3.399</span> set-permissions : nil</h2>
<p>Usage: <code>(set-permissions li)</code></p>
<p>Set the permissions for the current interpreter. This will trigger an error when the permission cannot be set due to a security violation. Generally, permissions can only be downgraded (made more stringent) and never relaxed. See the information for <code>permissions</code> for an overview of symbolic flags.</p>
<p>See also: <code>permissions, permission?, when-permission, sys</code>.</p>
<h2 data-number="3.400" id="set-subset-procedure2-1"><span class="header-section-number">3.400</span> <code>set-subset?</code> : procedure/2</h2>
<p>Usage: <code>(set-subset? a b) =&gt; bool</code></p>
<p>Return true if <code>a</code> is a subset of <code>b</code>, nil otherwise.</p>
<p>See also: <code>set-equal?, list-&gt;set, set-&gt;list, make-set, set-element?, set-union, set-difference, set-intersection, set-complement, set?, set-empty?</code>.</p>
<h2 data-number="3.401" id="set-union-procedure2-1"><span class="header-section-number">3.401</span> <code>set-union</code> : procedure/2</h2>
<p>Usage: <code>(set-union a b) =&gt; set</code></p>
<p>Return the union of sets <code>a</code> and <code>b</code> containing all elements that are in <code>a</code> or in <code>b</code> (or both).</p>
<p>See also: <code>list-&gt;set, set-&gt;list, make-set, set-element?, set-intersection, set-complement, set-difference, set?, set-empty?</code>.</p>
<h2 data-number="3.402" id="set-volume-procedure1-1"><span class="header-section-number">3.402</span> <code>set-volume</code> : procedure/1</h2>
<p>Usage: <code>(set-volume fl)</code></p>
<p>Set the master volume for all sound to <code>fl</code>, a value between 0.0 and 1.0.</p>
<p>See also: <code>play-sound, play-music</code>.</p>
<h2 data-number="3.403" id="set-procedure1-1"><span class="header-section-number">3.403</span> <code>set?</code> : procedure/1</h2>
<p>Usage: <code>(set? x) =&gt; bool</code></p>
<p>Return true if <code>x</code> can be used as a set, nil otherwise.</p>
<p>See also: <code>list-&gt;set, make-set, set-&gt;list, set-element?, set-union, set-intersection, set-complement, set-difference, set-empty?</code>.</p>
<h2 data-number="3.404" id="setcar-procedure1-1"><span class="header-section-number">3.404</span> <code>setcar</code> : procedure/1</h2>
<p>Usage: <code>(setcar li elem) =&gt; li</code></p>
<p>Mutate <code>li</code> such that its car is <code>elem</code>. Same as rplaca.</p>
<p>See also: <code>rplaca, rplacd, setcdr</code>.</p>
<h2 data-number="3.405" id="setcdr-procedure1-1"><span class="header-section-number">3.405</span> <code>setcdr</code> : procedure/1</h2>
<p>Usage: <code>(setcdr li1 li2) =&gt; li</code></p>
<p>Mutate <code>li1</code> such that its cdr is <code>li2</code>. Same as rplacd.</p>
<p>See also: <code>rplacd, rplaca, setcar</code>.</p>
<h2 data-number="3.406" id="shorten-procedure2-1"><span class="header-section-number">3.406</span> <code>shorten</code> : procedure/2</h2>
<p>Usage: <code>(shorten s n) =&gt; str</code></p>
<p>Shorten string <code>s</code> to length <code>n</code> in a smart way if possible, leave it untouched if the length of <code>s</code> is smaller than <code>n.</code></p>
<p>See also: <code>substr</code>.</p>
<h2 data-number="3.407" id="sleep-procedure1-1"><span class="header-section-number">3.407</span> <code>sleep</code> : procedure/1</h2>
<p>Usage: <code>(sleep ms)</code></p>
<p>Halt the current task execution for <code>ms</code> milliseconds.</p>
<p>See also: <code>sleep-ns, time, now, now-ns</code>.</p>
<h2 data-number="3.408" id="sleep-ns-procedure1-1"><span class="header-section-number">3.408</span> <code>sleep-ns</code> : procedure/1</h2>
<p>Usage: <code>(sleep-ns n</code></p>
<p>Halt the current task execution for <code>n</code> nanoseconds.</p>
<p>See also: <code>sleep, time, now, now-ns</code>.</p>
<h2 data-number="3.409" id="slice-procedure3-1"><span class="header-section-number">3.409</span> <code>slice</code> : procedure/3</h2>
<p>Usage: <code>(slice seq low high) =&gt; seq</code></p>
<p>Return the subsequence of <code>seq</code> starting from <code>low</code> inclusive and ending at <code>high</code> exclusive. Sequences are 0-indexed.</p>
<p>See also: <code>list, array, string, nth, seq?</code>.</p>
<h2 data-number="3.410" id="sort-procedure2-1"><span class="header-section-number">3.410</span> <code>sort</code> : procedure/2</h2>
<p>Usage: <code>(sort li proc) =&gt; li</code></p>
<p>Sort the list <code>li</code> by the given less-than procedure <code>proc</code>, which takes two arguments and returns true if the first one is less than the second, nil otheriwse.</p>
<p>See also: <code>array-sort</code>.</p>
<h2 data-number="3.411" id="sort-symbols-nil-1"><span class="header-section-number">3.411</span> sort-symbols : nil</h2>
<p>Usage: <code>(sort-symbols li) =&gt; list</code></p>
<p>Sort the list of symbols <code>li</code> alphabetically.</p>
<p>See also: <code>out, dp, du, dump</code>.</p>
<h2 data-number="3.412" id="spaces-procedure1-1"><span class="header-section-number">3.412</span> <code>spaces</code> : procedure/1</h2>
<p>Usage: <code>(spaces n) =&gt; str</code></p>
<p>Create a string consisting of <code>n</code> spaces.</p>
<p>See also: <code>strbuild, strleft, strright</code>.</p>
<h2 data-number="3.413" id="stack-empty-procedure1-1"><span class="header-section-number">3.413</span> <code>stack-empty?</code> : procedure/1</h2>
<p>Usage: <code>(queue-empty? s) =&gt; bool</code></p>
<p>Return true if the stack <code>s</code> is empty, nil otherwise.</p>
<p>See also: <code>make-stack, stack?, push!, pop!, stack-len, glance</code>.</p>
<h2 data-number="3.414" id="stack-len-procedure1-1"><span class="header-section-number">3.414</span> <code>stack-len</code> : procedure/1</h2>
<p>Usage: <code>(stack-len s) =&gt; int</code></p>
<p>Return the length of the stack <code>s.</code></p>
<p>See also: <code>make-queue, queue?, enqueue!, dequeue!, glance, queue-len</code>.</p>
<p><strong>Warning: Be advised that this is of limited use in some concurrent contexts, since the length of the queue might have changed already once you’ve obtained it!</strong></p>
<h2 data-number="3.415" id="stack-procedure1-1"><span class="header-section-number">3.415</span> <code>stack?</code> : procedure/1</h2>
<p>Usage: <code>(stack? q) =&gt; bool</code></p>
<p>Return true if <code>q</code> is a stack, nil otherwise.</p>
<p>See also: <code>make-stack, push!, pop!, stack-empty?, stack-len, glance</code>.</p>
<h2 data-number="3.416" id="str-procedure0-or-more-1"><span class="header-section-number">3.416</span> <code>str+</code> : procedure/0 or more</h2>
<p>Usage: <code>(str+ [s] ...) =&gt; str</code></p>
<p>Append all strings given to the function.</p>
<p>See also: <code>str?</code>.</p>
<h2 data-number="3.417" id="str-array-procedure1-1"><span class="header-section-number">3.417</span> <code>str-&gt;array</code> : procedure/1</h2>
<p>Usage: <code>(str-&gt;array s) =&gt; array</code></p>
<p>Return the string <code>s</code> as an array of unicode glyph integer values.</p>
<p>See also: <code>array-&gt;str</code>.</p>
<h2 data-number="3.418" id="str-blob-procedure1-1"><span class="header-section-number">3.418</span> <code>str-&gt;blob</code> : procedure/1</h2>
<p>Usage: <code>(str-&gt;blob s) =&gt; blob</code></p>
<p>Convert string <code>s</code> into a blob.</p>
<p>See also: <code>blob-&gt;str</code>.</p>
<h2 data-number="3.419" id="str-char-procedure1-1"><span class="header-section-number">3.419</span> <code>str-&gt;char</code> : procedure/1</h2>
<p>Usage: <code>(str-&gt;char s)</code></p>
<p>Return the first character of <code>s</code> as unicode integer.</p>
<p>See also: <code>char-&gt;str</code>.</p>
<h2 data-number="3.420" id="str-chars-procedure1-1"><span class="header-section-number">3.420</span> <code>str-&gt;chars</code> : procedure/1</h2>
<p>Usage: <code>(str-&gt;chars s) =&gt; array</code></p>
<p>Convert the UTF-8 string <code>s</code> into an array of UTF-8 rune integers. An error may occur if the string is not a valid UTF-8 string.</p>
<p>See also: <code>runes-&gt;str, str-&gt;char, char-&gt;str</code>.</p>
<h2 data-number="3.421" id="str-expr-procedure0-or-more-2"><span class="header-section-number">3.421</span> <code>str-&gt;expr</code> : procedure/0 or more</h2>
<p>Usage: <code>(str-&gt;expr s [default]) =&gt; any</code></p>
<p>Convert a string <code>s</code> into a Lisp expression. If <code>default</code> is provided, it is returned if an error occurs, otherwise an error is raised.</p>
<p>See also: <code>expr-&gt;str, str-&gt;expr*, openstr, externalize, internalize</code>.</p>
<h2 data-number="3.422" id="str-expr-procedure0-or-more-3"><span class="header-section-number">3.422</span> <code>str-&gt;expr*</code> : procedure/0 or more</h2>
<p>Usage: <code>(str-&gt;expr* s [default]) =&gt; li</code></p>
<p>Convert a string <code>s</code> into a list consisting of the Lisp expressions in <code>s</code>. If <code>default</code> is provided, then this value is put in the result list whenever an error occurs. Otherwise an error is raised. Notice that it might not always be obvious what expression in <code>s</code> triggers an error, since this hinges on the way the internal expession parser works.</p>
<p>See also: <code>str-&gt;expr, expr-&gt;str, openstr, internalize, externalize</code>.</p>
<h2 data-number="3.423" id="str-list-procedure1-1"><span class="header-section-number">3.423</span> <code>str-&gt;list</code> : procedure/1</h2>
<p>Usage: <code>(str-&gt;list s) =&gt; list</code></p>
<p>Return the sequence of numeric chars that make up string <code>s.</code></p>
<p>See also: <code>str-&gt;array, list-&gt;str, array-&gt;str, chars</code>.</p>
<h2 data-number="3.424" id="str-sym-procedure1-1"><span class="header-section-number">3.424</span> <code>str-&gt;sym</code> : procedure/1</h2>
<p>Usage: <code>(str-&gt;sym s) =&gt; sym</code></p>
<p>Convert a string into a symbol.</p>
<p>See also: <code>sym-&gt;str, intern, make-symbol</code>.</p>
<h2 data-number="3.425" id="str-count-substr-procedure2-1"><span class="header-section-number">3.425</span> <code>str-count-substr</code> : procedure/2</h2>
<p>Usage: <code>(str-count-substr s1 s2) =&gt; int</code></p>
<p>Count the number of non-overlapping occurrences of substring <code>s2</code> in string <code>s1.</code></p>
<p>See also: <code>str-replace, str-replace*, instr</code>.</p>
<h2 data-number="3.426" id="str-empty-procedure1-1"><span class="header-section-number">3.426</span> <code>str-empty?</code> : procedure/1</h2>
<p>Usage: <code>(str-empty? s) =&gt; bool</code></p>
<p>Return true if the string <code>s</code> is empty, nil otherwise.</p>
<p>See also: <code>strlen</code>.</p>
<h2 data-number="3.427" id="str-exists-procedure2-1"><span class="header-section-number">3.427</span> <code>str-exists?</code> : procedure/2</h2>
<p>Usage: <code>(str-exists? s pred) =&gt; bool</code></p>
<p>Return true if <code>pred</code> returns true for at least one character in string <code>s</code>, nil otherwise.</p>
<p>See also: <code>exists?, forall?, list-exists?, array-exists?, seq?</code>.</p>
<h2 data-number="3.428" id="str-forall-procedure2-1"><span class="header-section-number">3.428</span> <code>str-forall?</code> : procedure/2</h2>
<p>Usage: <code>(str-forall? s pred) =&gt; bool</code></p>
<p>Return true if predicate <code>pred</code> returns true for all characters in string <code>s</code>, nil otherwise.</p>
<p>See also: <code>foreach, map, forall?, array-forall?, list-forall, exists?</code>.</p>
<h2 data-number="3.429" id="str-foreach-procedure2-1"><span class="header-section-number">3.429</span> <code>str-foreach</code> : procedure/2</h2>
<p>Usage: <code>(str-foreach s proc)</code></p>
<p>Apply <code>proc</code> to each element of string <code>s</code> in order, for the side effects.</p>
<p>See also: <code>foreach, list-foreach, array-foreach, map</code>.</p>
<h2 data-number="3.430" id="str-index-procedure2-or-more-1"><span class="header-section-number">3.430</span> <code>str-index</code> : procedure/2 or more</h2>
<p>Usage: <code>(str-index s chars [pos]) =&gt; int</code></p>
<p>Find the first char in <code>s</code> that is in the charset <code>chars</code>, starting from the optional <code>pos</code> in <code>s</code>, and return its index in the string. If no macthing char is found, nil is returned.</p>
<p>See also: <code>strsplit, chars, inchars</code>.</p>
<h2 data-number="3.431" id="str-join-procedure2-1"><span class="header-section-number">3.431</span> <code>str-join</code> : procedure/2</h2>
<p>Usage: <code>(str-join li del) =&gt; str</code></p>
<p>Join a list of strings <code>li</code> where each of the strings is separated by string <code>del</code>, and return the result string.</p>
<p>See also: <code>strlen, strsplit, str-slice</code>.</p>
<h2 data-number="3.432" id="str-port-procedure1-1"><span class="header-section-number">3.432</span> <code>str-port?</code> : procedure/1</h2>
<p>Usage: <code>(str-port? p) =&gt; bool</code></p>
<p>Return true if <code>p</code> is a string port, nil otherwise.</p>
<p>See also: <code>port?, file-port?, stropen, open</code>.</p>
<h2 data-number="3.433" id="str-ref-procedure2-1"><span class="header-section-number">3.433</span> <code>str-ref</code> : procedure/2</h2>
<p>Usage: <code>(str-ref s n) =&gt; n</code></p>
<p>Return the unicode char as integer at position <code>n</code> in <code>s</code>. Strings are 0-indexed.</p>
<p>See also: <code>nth</code>.</p>
<h2 data-number="3.434" id="str-remove-number-procedure1-1"><span class="header-section-number">3.434</span> <code>str-remove-number</code> : procedure/1</h2>
<p>Usage: <code>(str-remove-number s [del]) =&gt; str</code></p>
<p>Remove the suffix number in <code>s</code>, provided there is one and it is separated from the rest of the string by <code>del</code>, where the default is a space character. For instance, “Test 29” will be converted to “Test”, “User-Name1-23-99” with delimiter “-” will be converted to “User-Name1-23”. This function will remove intermediate delimiters in the middle of the string, since it disassembles and reassembles the string, so be aware that this is not preserving inputs in that respect.</p>
<p>See also: <code>strsplit</code>.</p>
<h2 data-number="3.435" id="str-remove-prefix-procedure1-1"><span class="header-section-number">3.435</span> <code>str-remove-prefix</code> : procedure/1</h2>
<p>Usage: <code>(str-remove-prefix s prefix) =&gt; str</code></p>
<p>Remove the prefix <code>prefix</code> from string <code>s</code>, return the string without the prefix. If the prefix does not match, <code>s</code> is returned. If <code>prefix</code> is longer than <code>s</code> and matches, the empty string is returned.</p>
<p>See also: <code>str-remove-suffix</code>.</p>
<h2 data-number="3.436" id="str-remove-suffix-procedure1-1"><span class="header-section-number">3.436</span> <code>str-remove-suffix</code> : procedure/1</h2>
<p>Usage: <code>(str-remove-suffix s suffix) =&gt; str</code></p>
<p>remove the suffix <code>suffix</code> from string <code>s</code>, return the string without the suffix. If the suffix does not match, <code>s</code> is returned. If <code>suffix</code> is longer than <code>s</code> and matches, the empty string is returned.</p>
<p>See also: <code>str-remove-prefix</code>.</p>
<h2 data-number="3.437" id="str-replace-procedure4-1"><span class="header-section-number">3.437</span> <code>str-replace</code> : procedure/4</h2>
<p>Usage: <code>(str-replace s t1 t2 n) =&gt; str</code></p>
<p>Replace the first <code>n</code> instances of substring <code>t1</code> in <code>s</code> by <code>t2.</code></p>
<p>See also: <code>str-replace*, str-count-substr</code>.</p>
<h2 data-number="3.438" id="str-replace-procedure3-1"><span class="header-section-number">3.438</span> <code>str-replace*</code> : procedure/3</h2>
<p>Usage: <code>(str-replace* s t1 t2) =&gt; str</code></p>
<p>Replace all non-overlapping substrings <code>t1</code> in <code>s</code> by <code>t2.</code></p>
<p>See also: <code>str-replace, str-count-substr</code>.</p>
<h2 data-number="3.439" id="str-reverse-procedure1-1"><span class="header-section-number">3.439</span> <code>str-reverse</code> : procedure/1</h2>
<p>Usage: <code>(str-reverse s) =&gt; str</code></p>
<p>Reverse string <code>s.</code></p>
<p>See also: <code>reverse, array-reverse, list-reverse</code>.</p>
<h2 data-number="3.440" id="str-segment-procedure3-1"><span class="header-section-number">3.440</span> <code>str-segment</code> : procedure/3</h2>
<p>Usage: <code>(str-segment str start end) =&gt; list</code></p>
<p>Parse a string <code>str</code> into words that start with one of the characters in string <code>start</code> and end in one of the characters in string <code>end</code> and return a list consisting of lists of the form (bool s) where bool is true if the string starts with a character in <code>start</code>, nil otherwise, and <code>s</code> is the extracted string including start and end characters.</p>
<p>See also: <code>str+, strsplit, fmt, strbuild</code>.</p>
<h2 data-number="3.441" id="str-slice-procedure3-1"><span class="header-section-number">3.441</span> <code>str-slice</code> : procedure/3</h2>
<p>Usage: <code>(str-slice s low high) =&gt; s</code></p>
<p>Return a slice of string <code>s</code> starting at character with index <code>low</code> (inclusive) and ending at character with index <code>high</code> (exclusive).</p>
<p>See also: <code>slice</code>.</p>
<h2 data-number="3.442" id="str-procedure1"><span class="header-section-number">3.442</span> <code>str?</code> : procedure/1</h2>
<p>Usage: <code>(str? s) =&gt; bool</code></p>
<p>Return true if <code>s</code> is a string, nil otherwise.</p>
<p>See also: <code>num?, atom?, sym?, closure?, intrinsic?, macro?</code>.</p>
<h2 data-number="3.443" id="strbuild-procedure2-1"><span class="header-section-number">3.443</span> <code>strbuild</code> : procedure/2</h2>
<p>Usage: <code>(strbuild s n) =&gt; str</code></p>
<p>Build a string by repeating string <code>s`` n</code> times.</p>
<p>See also: <code>str+</code>.</p>
<h2 data-number="3.444" id="strcase-procedure2-1"><span class="header-section-number">3.444</span> <code>strcase</code> : procedure/2</h2>
<p>Usage: <code>(strcase s sel) =&gt; str</code></p>
<p>Change the case of the string <code>s</code> according to selector <code>sel</code> and return a copy. Valid values for <code>sel</code> are ’lower for conversion to lower-case, ’upper for uppercase, ’title for title case and ’utf-8 for utf-8 normalization (which replaces unprintable characters with “?”).</p>
<p>See also: <code>strmap</code>.</p>
<h2 data-number="3.445" id="strcenter-procedure2-1"><span class="header-section-number">3.445</span> <code>strcenter</code> : procedure/2</h2>
<p>Usage: <code>(strcenter s n) =&gt; str</code></p>
<p>Center string <code>s</code> by wrapping space characters around it, such that the total length the result string is <code>n.</code></p>
<p>See also: <code>strleft, strright, strlimit</code>.</p>
<h2 data-number="3.446" id="strcnt-procedure2-1"><span class="header-section-number">3.446</span> <code>strcnt</code> : procedure/2</h2>
<p>Usage: <code>(strcnt s del) =&gt; int</code></p>
<p>Returnt the number of non-overlapping substrings <code>del</code> in <code>s.</code></p>
<p>See also: <code>strsplit, str-index</code>.</p>
<h2 data-number="3.447" id="strleft-procedure2-1"><span class="header-section-number">3.447</span> <code>strleft</code> : procedure/2</h2>
<p>Usage: <code>(strleft s n) =&gt; str</code></p>
<p>Align string <code>s</code> left by adding space characters to the right of it, such that the total length the result string is <code>n.</code></p>
<p>See also: <code>strcenter, strright, strlimit</code>.</p>
<h2 data-number="3.448" id="strlen-procedure1-1"><span class="header-section-number">3.448</span> <code>strlen</code> : procedure/1</h2>
<p>Usage: <code>(strlen s) =&gt; int</code></p>
<p>Return the length of <code>s.</code></p>
<p>See also: <code>len, seq?, str?</code>.</p>
<h2 data-number="3.449" id="strless-procedure2-1"><span class="header-section-number">3.449</span> <code>strless</code> : procedure/2</h2>
<p>Usage: <code>(strless s1 s2) =&gt; bool</code></p>
<p>Return true if string <code>s1</code> &lt; <code>s2</code> in lexicographic comparison, nil otherwise.</p>
<p>See also: <code>sort, array-sort, strcase</code>.</p>
<h2 data-number="3.450" id="strlimit-procedure2-1"><span class="header-section-number">3.450</span> <code>strlimit</code> : procedure/2</h2>
<p>Usage: <code>(strlimit s n) =&gt; str</code></p>
<p>Return a string based on <code>s</code> cropped to a maximal length of <code>n</code> (or less if <code>s</code> is shorter).</p>
<p>See also: <code>strcenter, strleft, strright</code>.</p>
<h2 data-number="3.451" id="strmap-procedure2-1"><span class="header-section-number">3.451</span> <code>strmap</code> : procedure/2</h2>
<p>Usage: <code>(strmap s proc) =&gt; str</code></p>
<p>Map function <code>proc</code>, which takes a number and returns a number, over all unicode characters in <code>s</code> and return the result as new string.</p>
<p>See also: <code>map</code>.</p>
<h2 data-number="3.452" id="stropen-procedure1-1"><span class="header-section-number">3.452</span> <code>stropen</code> : procedure/1</h2>
<p>Usage: <code>(stropen s) =&gt; streamport</code></p>
<p>Open the string <code>s</code> as input stream.</p>
<p>See also: <code>open, close</code>.</p>
<h2 data-number="3.453" id="strright-procedure2-1"><span class="header-section-number">3.453</span> <code>strright</code> : procedure/2</h2>
<p>Usage: <code>(strright s n) =&gt; str</code></p>
<p>Align string <code>s</code> right by adding space characters in front of it, such that the total length the result string is <code>n.</code></p>
<p>See also: <code>strcenter, strleft, strlimit</code>.</p>
<h2 data-number="3.454" id="strsplit-procedure2-1"><span class="header-section-number">3.454</span> <code>strsplit</code> : procedure/2</h2>
<p>Usage: <code>(strsplit s del) =&gt; array</code></p>
<p>Return an array of strings obtained from <code>s</code> by splitting <code>s</code> at each occurrence of string <code>del.</code></p>
<p>See also: <code>str?</code>.</p>
<h2 data-number="3.455" id="sub1-procedure1-1"><span class="header-section-number">3.455</span> <code>sub1</code> : procedure/1</h2>
<p>Usage: <code>(sub1 n) =&gt; num</code></p>
<p>Subtract 1 from <code>n.</code></p>
<p>See also: <code>add1, +, -</code>.</p>
<h2 data-number="3.456" id="sym-str-procedure1-1"><span class="header-section-number">3.456</span> <code>sym-&gt;str</code> : procedure/1</h2>
<p>Usage: <code>(sym-&gt;str sym) =&gt; str</code></p>
<p>Convert a symbol into a string.</p>
<p>See also: <code>str-&gt;sym, intern, make-symbol</code>.</p>
<h2 data-number="3.457" id="sym-procedure1-1"><span class="header-section-number">3.457</span> <code>sym?</code> : procedure/1</h2>
<p>Usage: <code>(sym? sym) =&gt; bool</code></p>
<p>Return true if <code>sym</code> is a symbol, nil otherwise.</p>
<p>See also: <code>str?, atom?</code>.</p>
<h2 data-number="3.458" id="synout-procedure1-1"><span class="header-section-number">3.458</span> <code>synout</code> : procedure/1</h2>
<p>Usage: <code>(synout arg)</code></p>
<p>Like out, but enforcing a new input line afterwards. This needs to be used when outputing concurrently in a future or task.</p>
<p>See also: <code>out, outy, synouty</code>.</p>
<p><strong>Warning: Concurrent display output can lead to unexpected visual results and ought to be avoided.</strong></p>
<h2 data-number="3.459" id="synouty-procedure1"><span class="header-section-number">3.459</span> <code>synouty</code> : procedure/1</h2>
<p>Usage: <code>(synouty li)</code></p>
<p>Like outy, but enforcing a new input line afterwards. This needs to be used when outputing concurrently in a future or task.</p>
<p>See also: <code>synout, out, outy</code>.</p>
<p><strong>Warning: Concurrent display output can lead to unexpected visual results and ought to be avoided.</strong></p>
<h2 data-number="3.460" id="sys-key-procedure1-1"><span class="header-section-number">3.460</span> <code>sys-key?</code> : procedure/1</h2>
<p>Usage: <code>(sys-key? key) =&gt; bool</code></p>
<p>Return true if the given sys key <code>key</code> exists, nil otherwise.</p>
<p>See also: <code>sys, setsys</code>.</p>
<h2 data-number="3.461" id="sysmsg-procedure1-2"><span class="header-section-number">3.461</span> <code>sysmsg</code> : procedure/1</h2>
<p>Usage: <code>(sysmsg msg)</code></p>
<p>Asynchronously display a system message string <code>msg</code> if in console or page mode, otherwise the message is logged.</p>
<p>See also: <code>sysmsg*, synout, synouty, out, outy</code>.</p>
<h2 data-number="3.462" id="sysmsg-procedure1-3"><span class="header-section-number">3.462</span> <code>sysmsg*</code> : procedure/1</h2>
<p>Usage: <code>(sysmsg* msg)</code></p>
<p>Display a system message string <code>msg</code> if in console or page mode, otherwise the message is logged.</p>
<p>See also: <code>sysmsg, synout, synouty, out, outy</code>.</p>
<h2 data-number="3.463" id="take-procedure3-1"><span class="header-section-number">3.463</span> <code>take</code> : procedure/3</h2>
<p>Usage: <code>(take seq n) =&gt; seq</code></p>
<p>Return the sequence consisting of the <code>n</code> first elements of <code>seq.</code></p>
<p>See also: <code>list, array, string, nth, seq?</code>.</p>
<h2 data-number="3.464" id="task-procedure1-2"><span class="header-section-number">3.464</span> <code>task</code> : procedure/1</h2>
<p>Usage: <code>(task sel proc) =&gt; int</code></p>
<p>Create a new task for concurrently running <code>proc</code>, a procedure that takes its own ID as argument. The <code>sel</code> argument must be a symbol in ’(auto manual remove). If <code>sel</code> is ’remove, then the task is always removed from the task table after it has finished, even if an error has occurred. If sel is ’auto, then the task is removed from the task table if it ends without producing an error. If <code>sel</code> is ’manual then the task is not removed from the task table, its state is either ’canceled, ’finished, or ’error, and it and must be removed manually with <code>task-remove</code> or <code>prune-task-table</code>. Broadcast messages are never removed. Tasks are more heavy-weight than futures and allow for message-passing.</p>
<p>See also: <code>task?, task-run, task-state, task-broadcast, task-send, task-recv, task-remove, prune-task-table</code>.</p>
<h2 data-number="3.465" id="task-broadcast-procedure2-1"><span class="header-section-number">3.465</span> <code>task-broadcast</code> : procedure/2</h2>
<p>Usage: <code>(task-broadcast id msg)</code></p>
<p>Send a message from task <code>id</code> to the blackboard. Tasks automatically send the message ’finished to the blackboard when they are finished.</p>
<p>See also: <code>task, task?, task-run, task-state, task-send, task-recv</code>.</p>
<h2 data-number="3.466" id="task-recv-procedure1-1"><span class="header-section-number">3.466</span> <code>task-recv</code> : procedure/1</h2>
<p>Usage: <code>(task-recv id) =&gt; any</code></p>
<p>Receive a message for task <code>id</code>, or nil if there is no message. This is typically used by the task with <code>id</code> itself to periodically check for new messages while doing other work. By convention, if a task receives the message ’end it ought to terminate at the next convenient occasion, whereas upon receiving ’cancel it ought to terminate in an expedited manner.</p>
<p>See also: <code>task-send, task, task?, task-run, task-state, task-broadcast</code>.</p>
<p><strong>Warning: Busy polling for new messages in a tight loop is inefficient and ought to be avoided.</strong></p>
<h2 data-number="3.467" id="task-remove-procedure1-1"><span class="header-section-number">3.467</span> <code>task-remove</code> : procedure/1</h2>
<p>Usage: <code>(task-remove id)</code></p>
<p>Remove task <code>id</code> from the task table. The task can no longer be interacted with.</p>
<p>See also: <code>task, task?, task-state</code>.</p>
<h2 data-number="3.468" id="task-run-procedure1-1"><span class="header-section-number">3.468</span> <code>task-run</code> : procedure/1</h2>
<p>Usage: <code>(task-run id)</code></p>
<p>Run task <code>id</code>, which must have been previously created with task. Attempting to run a task that is already running results in an error unless <code>silent?</code> is true. If silent? is true, the function does never produce an error.</p>
<p>See also: <code>task, task?, task-state, task-send, task-recv, task-broadcast-</code>.</p>
<h2 data-number="3.469" id="task-schedule-procedure1-1"><span class="header-section-number">3.469</span> <code>task-schedule</code> : procedure/1</h2>
<p>Usage: <code>(task-schedule sel id)</code></p>
<p>Schedule task <code>id</code> for running, starting it as soon as other tasks have finished. The scheduler attempts to avoid running more than (cpunum) tasks at once.</p>
<p>See also: <code>task, task-run</code>.</p>
<h2 data-number="3.470" id="task-send-procedure2-1"><span class="header-section-number">3.470</span> <code>task-send</code> : procedure/2</h2>
<p>Usage: <code>(task-send id msg)</code></p>
<p>Send a message <code>msg</code> to task <code>id</code>. The task needs to cooperatively use task-recv to reply to the message. It is up to the receiving task what to do with the message once it has been received, or how often to check for new messages.</p>
<p>See also: <code>task-broadcast, task-recv, task, task?, task-run, task-state</code>.</p>
<h2 data-number="3.471" id="task-state-procedure1-1"><span class="header-section-number">3.471</span> <code>task-state</code> : procedure/1</h2>
<p>Usage: <code>(task-state id) =&gt; sym</code></p>
<p>Return the state of the task, which is a symbol in ’(finished error stopped new waiting running).</p>
<p>See also: <code>task, task?, task-run, task-broadcast, task-recv, task-send</code>.</p>
<h2 data-number="3.472" id="task-procedure1-3"><span class="header-section-number">3.472</span> <code>task?</code> : procedure/1</h2>
<p>Usage: <code>(task? id) =&gt; bool</code></p>
<p>Check whether the given <code>id</code> is for a valid task, return true if it is valid, nil otherwise.</p>
<p>See also: <code>task, task-run, task-state, task-broadcast, task-send, task-recv</code>.</p>
<h2 data-number="3.473" id="terpri-procedure0-1"><span class="header-section-number">3.473</span> <code>terpri</code> : procedure/0</h2>
<p>Usage: <code>(terpri)</code></p>
<p>Advance the host OS terminal to the next line.</p>
<p>See also: <code>princ, out, outy</code>.</p>
<h2 data-number="3.474" id="testing-macro1-1"><span class="header-section-number">3.474</span> <code>testing</code> : macro/1</h2>
<p>Usage: <code>(testing name)</code></p>
<p>Registers the string <code>name</code> as the name of the tests that are next registered with expect.</p>
<p>See also: <code>expect, expect-err, expect-ok, run-selftest</code>.</p>
<h2 data-number="3.475" id="the-color-procedure1-1"><span class="header-section-number">3.475</span> <code>the-color</code> : procedure/1</h2>
<p>Usage: <code>(the-color colors-spec) =&gt; (r g b a)</code></p>
<p>Return the color list (r g b a) based on a color specification, which may be a color list (r g b), a color selector for (color selector) or a color name such as ’dark-blue.</p>
<p>See also: <code>*colors*, color, set-color, outy</code>.</p>
<h2 data-number="3.476" id="the-color-names-procedure0-1"><span class="header-section-number">3.476</span> <code>the-color-names</code> : procedure/0</h2>
<p>Usage: <code>(the-color-names) =&gt; li</code></p>
<p>Return the list of color names in <em>colors</em>.</p>
<p>See also: <code>*colors*, the-color</code>.</p>
<h2 data-number="3.477" id="time-procedure1-1"><span class="header-section-number">3.477</span> <code>time</code> : procedure/1</h2>
<p>Usage: <code>(time proc) =&gt; int</code></p>
<p>Return the time in nanoseconds that it takes to execute the procedure with no arguments <code>proc.</code></p>
<p>See also: <code>now-ns, now</code>.</p>
<h2 data-number="3.478" id="truncate-procedure1-or-more-1"><span class="header-section-number">3.478</span> <code>truncate</code> : procedure/1 or more</h2>
<p>Usage: <code>(truncate x [y]) =&gt; int</code></p>
<p>Round down to nearest integer of <code>x</code>. If <code>y</code> is present, divide <code>x</code> by <code>y</code> and round down to the nearest integer.</p>
<p>See also: <code>div, /, int</code>.</p>
<h2 data-number="3.479" id="try-macro2-or-more-1"><span class="header-section-number">3.479</span> <code>try</code> : macro/2 or more</h2>
<p>Usage: <code>(try (finals ...) body ...)</code></p>
<p>Evaluate the forms of the <code>body</code> and afterwards the forms in <code>finals</code>. If during the execution of <code>body</code> an error occurs, first all <code>finals</code> are executed and then the error is printed by the default error printer.</p>
<p>See also: <code>with-final, with-error-handler</code>.</p>
<h2 data-number="3.480" id="unless-macro1-or-more-1"><span class="header-section-number">3.480</span> <code>unless</code> : macro/1 or more</h2>
<p>Usage: <code>(unless cond expr ...) =&gt; any</code></p>
<p>Evaluate expressions <code>expr</code> if <code>cond</code> is not true, returns void otherwise.</p>
<p>See also: <code>if, when, cond</code>.</p>
<h2 data-number="3.481" id="unprotect-procedure0-or-more-1"><span class="header-section-number">3.481</span> <code>unprotect</code> : procedure/0 or more</h2>
<p>Usage: <code>(unprotect [sym] ...)</code></p>
<p>Unprotect symbols <code>sym</code> …, allowing mutation or rebinding them. The symbols need to be quoted. This operation requires the permission ’allow-unprotect to be set, or else an error is caused.</p>
<p>See also: <code>protect, protected?, dict-unprotect, dict-protected?, permissions, permission?, setq, bind, interpret</code>.</p>
<h2 data-number="3.482" id="valid-procedure1-1"><span class="header-section-number">3.482</span> <code>valid?</code> : procedure/1</h2>
<p>Usage: <code>(valid? obj) =&gt; bool</code></p>
<p>Return true if <code>obj</code> is a valid object, nil otherwise. What exactly object validity means is undefined, but certain kind of objects such as graphics objects may be marked invalid when they can no longer be used because they have been disposed off by a subsystem and cannot be automatically garbage collected. Generally, invalid objects ought no longer be used and need to be discarded.</p>
<p>See also: <code>gfx.reset</code>.</p>
<h2 data-number="3.483" id="void-procedure0-or-more-1"><span class="header-section-number">3.483</span> <code>void</code> : procedure/0 or more</h2>
<p>Usage: <code>(void [any] ...)</code></p>
<p>Always returns void, no matter what values are given to it. Void is a special value that is not printed in the console.</p>
<p>See also: <code>void?</code>.</p>
<h2 data-number="3.484" id="wait-for-procedure2-1"><span class="header-section-number">3.484</span> <code>wait-for</code> : procedure/2</h2>
<p>Usage: <code>(wait-for dict key)</code></p>
<p>Block execution until the value for <code>key</code> in <code>dict</code> is not-nil. This function may wait indefinitely if no other thread sets the value for <code>key</code> to not-nil.</p>
<p>See also: <code>wait-for*, future, force, wait-until, wait-until*</code>.</p>
<p><strong>Warning: This cannot be used for synchronization of multiple tasks due to potential race-conditions.</strong></p>
<h2 data-number="3.485" id="wait-for-procedure3-1"><span class="header-section-number">3.485</span> <code>wait-for*</code> : procedure/3</h2>
<p>Usage: <code>(wait-for* dict key timeout)</code></p>
<p>Blocks execution until the value for <code>key</code> in <code>dict</code> is not-nil or <code>timeout</code> nanoseconds have passed, and returns that value or nil if waiting timed out. If <code>timeout</code> is negative, then the function waits potentially indefinitely without any timeout. If a non-nil key is not found, the function sleeps at least <em>sync-wait-lower-bound</em> nanoseconds and up to <em>sync-wait-upper-bound</em> nanoseconds until it looks for the key again.</p>
<p>See also: <code>future, force, wait-for, wait-until, wait-until*</code>.</p>
<p><strong>Warning: This cannot be used for synchronization of multiple tasks due to potential race-conditions.</strong></p>
<h2 data-number="3.486" id="wait-for-empty-procedure3-1"><span class="header-section-number">3.486</span> <code>wait-for-empty*</code> : procedure/3</h2>
<p>Usage: <code>(wait-for-empty* dict key timeout)</code></p>
<p>Blocks execution until the <code>key</code> is no longer present in <code>dict</code> or <code>timeout</code> nanoseconds have passed. If <code>timeout</code> is negative, then the function waits potentially indefinitely without any timeout.</p>
<p>See also: <code>future, force, wait-for, wait-until, wait-until*</code>.</p>
<p><strong>Warning: This cannot be used for synchronization of multiple tasks due to potential race-conditions.</strong></p>
<h2 data-number="3.487" id="wait-until-procedure2-1"><span class="header-section-number">3.487</span> <code>wait-until</code> : procedure/2</h2>
<p>Usage: <code>(wait-until dict key pred)</code></p>
<p>Blocks execution until the unary predicate <code>pred</code> returns true for the value at <code>key</code> in <code>dict</code>. This function may wait indefinitely if no other thread sets the value in such a way that <code>pred</code> returns true when applied to it.</p>
<p>See also: <code>wait-for, future, force, wait-until*</code>.</p>
<p><strong>Warning: This cannot be used for synchronization of multiple tasks due to potential race-conditions.</strong></p>
<h2 data-number="3.488" id="wait-until-procedure4-1"><span class="header-section-number">3.488</span> <code>wait-until*</code> : procedure/4</h2>
<p>Usage: <code>(wait-until* dict key pred timeout)</code></p>
<p>Blocks execution until the unary predicate <code>pred</code> returns true for the value at <code>key</code> in <code>dict</code>, or <code>timeout</code> nanoseconds have passed, and returns the value or nil if waiting timed out. If <code>timeout</code> is negative, then the function waits potentially indefinitely without any timeout. If a non-nil key is not found, the function sleeps at least <em>sync-wait-lower-bound</em> nanoseconds and up to <em>sync-wait-upper-bound</em> nanoseconds until it looks for the key again.</p>
<p>See also: <code>future, force, wait-for, wait-until*, wait-until</code>.</p>
<p><strong>Warning: This cannot be used for synchronization of multiple tasks due to potential race-conditions.</strong></p>
<h2 data-number="3.489" id="warn-procedure1-or-more-1"><span class="header-section-number">3.489</span> <code>warn</code> : procedure/1 or more</h2>
<p>Usage: <code>(warn msg [args...])</code></p>
<p>Output the warning message <code>msg</code> in error colors. The optional <code>args</code> are applied to the message as in fmt. The message should not end with a newline.</p>
<p>See also: <code>error</code>.</p>
<h2 data-number="3.490" id="week-procedure2-1"><span class="header-section-number">3.490</span> <code>week+</code> : procedure/2</h2>
<p>Usage: <code>(week+ dateli n) =&gt; dateli</code></p>
<p>Adds <code>n</code> weeks to the given date <code>dateli</code> in datelist format and returns the new datelist.</p>
<p>See also: <code>sec+, minute+, hour+, day+, month+, year+, now</code>.</p>
<h2 data-number="3.491" id="week-of-date-procedure3-1"><span class="header-section-number">3.491</span> <code>week-of-date</code> : procedure/3</h2>
<p>Usage: <code>(week-of-date Y M D) =&gt; int</code></p>
<p>Return the week of the date in the year given by year <code>Y</code>, month <code>M</code>, and day <code>D.</code></p>
<p>See also: <code>day-of-week, datestr-&gt;datelist, date-&gt;epoch-ns, epoch-ns-&gt;datelist, datestr, datestr*, now</code>.</p>
<h2 data-number="3.492" id="when-macro1-or-more-1"><span class="header-section-number">3.492</span> <code>when</code> : macro/1 or more</h2>
<p>Usage: <code>(when cond expr ...) =&gt; any</code></p>
<p>Evaluate the expressions <code>expr</code> if <code>cond</code> is true, returns void otherwise.</p>
<p>See also: <code>if, cond, unless</code>.</p>
<h2 data-number="3.493" id="when-permission-macro1-or-more-1"><span class="header-section-number">3.493</span> <code>when-permission</code> : macro/1 or more</h2>
<p>Usage: <code>(when-permission perm body ...) =&gt; any</code></p>
<p>Execute the expressions in <code>body</code> if and only if the symbolic permission <code>perm</code> is available.</p>
<p>See also: <code>permission?</code>.</p>
<h2 data-number="3.494" id="while-macro1-or-more-1"><span class="header-section-number">3.494</span> <code>while</code> : macro/1 or more</h2>
<p>Usage: <code>(while test body ...) =&gt; any</code></p>
<p>Evaluate the expressions in <code>body</code> while <code>test</code> is not nil.</p>
<p>See also: <code>letrec, dotimes, dolist</code>.</p>
<h2 data-number="3.495" id="with-colors-procedure3-1"><span class="header-section-number">3.495</span> <code>with-colors</code> : procedure/3</h2>
<p>Usage: <code>(with-colors textcolor backcolor proc)</code></p>
<p>Execute <code>proc</code> for display side effects, where the default colors are set to <code>textcolor</code> and <code>backcolor</code>. These are color specifications like in the-color. After <code>proc</code> has finished or if an error occurs, the default colors are restored to their original state.</p>
<p>See also: <code>the-color, color, set-color, with-final</code>.</p>
<h2 data-number="3.496" id="with-error-handler-macro2-or-more-1"><span class="header-section-number">3.496</span> <code>with-error-handler</code> : macro/2 or more</h2>
<p>Usage: <code>(with-error-handler handler body ...)</code></p>
<p>Evaluate the forms of the <code>body</code> with error handler <code>handler</code> in place. The handler is a procedure that takes the error as argument and handles it. If an error occurs in <code>handler</code>, a default error handler is used. Handlers are only active within the same thread.</p>
<p>See also: <code>with-final</code>.</p>
<h2 data-number="3.497" id="with-final-macro2-or-more-1"><span class="header-section-number">3.497</span> <code>with-final</code> : macro/2 or more</h2>
<p>Usage: <code>(with-final finalizer body ...)</code></p>
<p>Evaluate the forms of the <code>body</code> with the given finalizer as error handler. If an error occurs, then <code>finalizer</code> is called with that error and nil. If no error occurs, <code>finalizer</code> is called with nil as first argument and the result of evaluating all forms of <code>body</code> as second argument.</p>
<p>See also: <code>with-error-handler</code>.</p>
<h2 data-number="3.498" id="with-mutex-lock-macro1-or-more"><span class="header-section-number">3.498</span> <code>with-mutex-lock</code> : macro/1 or more</h2>
<p>Usage: <code>(with-mutex-lock m ...) =&gt; any</code></p>
<p>Execute the body with mutex <code>m</code> locked for writing and unlock the mutex afterwards.</p>
<p>See also: <code>with-mutex-rlock, make-mutex, mutex-lock, mutex-rlock, mutex-unlock, mutex-runlock</code>.</p>
<p><strong>Warning: Make sure to never lock the same mutex twice from the same task, otherwise a deadlock will occur!</strong></p>
<h2 data-number="3.499" id="with-mutex-rlock-macro1-or-more-1"><span class="header-section-number">3.499</span> <code>with-mutex-rlock</code> : macro/1 or more</h2>
<p>Usage: <code>(with-mutex-rlock m ...) =&gt; any</code></p>
<p>Execute the body with mutex <code>m</code> locked for reading and unlock the mutex afterwards.</p>
<p>See also: <code>with-mutex-lock, make-mutex, mutex-lock, mutex-rlock, mutex-unlock, mutex-runlock</code>.</p>
<h2 data-number="3.500" id="write-procedure2-1"><span class="header-section-number">3.500</span> <code>write</code> : procedure/2</h2>
<p>Usage: <code>(write p datum) =&gt; int</code></p>
<p>Write <code>datum</code> to output port <code>p</code> and return the number of bytes written.</p>
<p>See also: <code>write-binary, write-binary-at, read, close, open</code>.</p>
<h2 data-number="3.501" id="write-binary-procedure4-1"><span class="header-section-number">3.501</span> <code>write-binary</code> : procedure/4</h2>
<p>Usage: <code>(write-binary p buff n offset) =&gt; int</code></p>
<p>Write <code>n</code> bytes starting at <code>offset</code> in binary blob <code>buff</code> to the stream port <code>p</code>. This function returns the number of bytes actually written.</p>
<p>See also: <code>write-binary-at, read-binary, write, close, open</code>.</p>
<h2 data-number="3.502" id="write-binary-at-procedure5-1"><span class="header-section-number">3.502</span> <code>write-binary-at</code> : procedure/5</h2>
<p>Usage: <code>(write-binary-at p buff n offset fpos) =&gt; int</code></p>
<p>Write <code>n</code> bytes starting at <code>offset</code> in binary blob <code>buff</code> to the seekable stream port <code>p</code> at the stream position <code>fpos</code>. If there is not enough data in <code>p</code> to overwrite at position <code>fpos</code>, then an error is caused and only part of the data might be written. The function returns the number of bytes actually written.</p>
<p>See also: <code>read-binary, write-binary, write, close, open</code>.</p>
<h2 data-number="3.503" id="write-string-procedure2-1"><span class="header-section-number">3.503</span> <code>write-string</code> : procedure/2</h2>
<p>Usage: <code>(write-string p s) =&gt; int</code></p>
<p>Write string <code>s</code> to output port <code>p</code> and return the number of bytes written. LF are <em>not</em> automatically converted to CR LF sequences on windows.</p>
<p>See also: <code>write, write-binary, write-binary-at, read, close, open</code>.</p>
<h2 data-number="3.504" id="year-procedure2-1"><span class="header-section-number">3.504</span> <code>year+</code> : procedure/2</h2>
<p>Usage: <code>(month+ dateli n) =&gt; dateli</code></p>
<p>Adds <code>n</code> years to the given date <code>dateli</code> in datelist format and returns the new datelist.</p>
<p>See also: <code>sec+, minute+, hour+, day+, week+, month+, now</code>.</p>
</body>
</html>
